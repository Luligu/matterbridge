import{J as Fi,L as ki,y as re,B as R,N as Sr,O as Hs,P as qi}from"./vendor_node_modules.js";import{i as gt,a as Mi,o as vr,b as Q,c as Ys,h as Ee,r as Qs,d as Xs,e as rn,f as nn,j as Vi,k as Zs,l as sn,m as Ui,n as ei,p as ti,q as xi,s as ri,t as Ki,u as Li,v as zi,w as Bi,g as Er,x as Pr,y as Wi,z as we,A as Gi,B as Ji,C as Hi,D as Yi,E as ni,F as Ie,G as Qi,H as pt,I as ot,J as Xi,K as si,L as ii,M as dt,N as Zi,O as eo,P as to,Q as ro,R as $n,S as no}from"./vendor_lodash.js";function oe(t){return typeof t!="object"||t===null||typeof t.lastModified=="number"&&typeof File<"u"&&t instanceof File||typeof t.getMonth=="function"&&typeof Date<"u"&&t instanceof Date?!1:!Array.isArray(t)}function so(t){return t.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),oe(t.additionalItems)}function bn(t){if(t==="")return;if(t===null)return null;if(/\.$/.test(t)||/\.0$/.test(t)||/\.\d*0$/.test(t))return t;const e=Number(t);return typeof e=="number"&&!Number.isNaN(e)?e:t}const Et="__additional_property",Yr="additionalProperties",lt="allOf",Te="anyOf",Ke="const",io="default",Or="dependencies",oo="enum",Ce="__errors",Ge="$id",ao="if",Je="items",co="_$junk_option_schema_id$_",hr="$name",je="oneOf",ve="properties",lo="required",_r="submitButtonOptions",$e="$ref",on="__rjsf_additionalProperties",oi="__rjsf_rootSchema",uo="ui:field",an="ui:widget",yt="ui:options",fo="ui:globalOptions";function ie(t={},e={}){return Object.keys(t).filter(n=>n.indexOf("ui:")===0).reduce((n,r)=>{const i=t[r];return r===an&&oe(i)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),n):r===yt&&oe(i)?{...n,...i}:{...n,[r.substring(3)]:i}},{...e})}function mo(t,e={},n){if(!t.additionalProperties)return!1;const{expandable:r=!0}=ie(e);return r===!1?r:t.maxProperties!==void 0&&n?Object.keys(n).length<t.maxProperties:!0}function $r(t){const e={[Ce]:[],addError(n){this[Ce].push(n)}};if(Array.isArray(t))return t.reduce((n,r,i)=>({...n,[i]:$r(r)}),e);if(gt(t)){const n=t;return Object.keys(n).reduce((r,i)=>({...r,[i]:$r(n[i])}),e)}return e}function pe(t,e){return Mi(t,e,(n,r)=>{if(typeof n=="function"&&typeof r=="function")return!0})}function cn(t,e){const n=e[t];return[vr(e,[t]),n]}function ai(t,e={},n=[]){const r=t||"";let i;if(r.startsWith("#"))i=decodeURIComponent(r.substring(1));else throw new Error(`Could not find a definition for ${t}.`);const s=Fi.get(e,i);if(s===void 0)throw new Error(`Could not find a definition for ${t}.`);const a=s[$e];if(a){if(n.includes(a)){if(n.length===1)throw new Error(`Definition for ${t} is a circular reference`);const[u,...f]=n,p=[...f,r,u].join(" -> ");throw new Error(`Definition for ${u} contains a circular reference through ${p}`)}const[o,c]=cn($e,s),l=ai(c,e,[...n,r]);return Object.keys(o).length>0?{...o,...l}:l}return s}function ci(t,e={}){return ai(t,e,[])}function li(t,e,n){var r;if(t&&n){const i=Q(t,n);if(i===void 0)return;for(let s=0;s<e.length;s++){const a=e[s],o=Q(a,[ve,n],{});if(!(o.type==="object"||o.type==="array")&&(o.const===i||!((r=o.enum)===null||r===void 0)&&r.includes(i)))return s}}}function ui(t,e,n,r,i){if(e===void 0)return 0;const s=li(e,n,i);if(Ys(s))return s;for(let a=0;a<n.length;a++){const o=n[a];if(i&&Ee(o,[ve,i])){const c=Q(e,i),l=Q(o,[ve,i],{});if(t.isValid(l,c,r))return a}else if(o[ve]){const c={anyOf:Object.keys(o[ve]).map(u=>({required:[u]}))};let l;if(o.anyOf){const{...u}=o;u.allOf?u.allOf=u.allOf.slice():u.allOf=[],u.allOf.push(c),l=u}else l=Object.assign({},o,c);if(delete l.required,t.isValid(l,e,r))return a}else if(t.isValid(o,e,r))return a}return 0}function ln(t,e,n,r,i){return ui(t,e,n,r,i)}var Ar,wn;function un(){if(wn)return Ar;wn=1;var t=Qs(),e=Xs(),n=rn(),r=nn(),i=Vi(),s=Zs(),a=sn(),o=Ui(),c=N=>Array.isArray(N)?N:[N],l=N=>N===void 0,u=N=>a(N)||Array.isArray(N)?Object.keys(N):[],f=(N,q)=>N.hasOwnProperty(q),p=N=>e(n(N)),m=N=>l(N)||Array.isArray(N)&&N.length===0,_=(N,q,x,X)=>q&&f(q,x)&&N&&f(N,x)&&X(N[x],q[x]),y=(N,q)=>l(N)&&q===0||l(q)&&N===0||t(N,q),d=(N,q)=>l(N)&&q===!1||l(q)&&N===!1||t(N,q),g=N=>l(N)||t(N,{})||N===!0,h=N=>l(N)||t(N,{}),v=N=>l(N)||a(N)||N===!0||N===!1;function $(N,q){return m(N)&&m(q)?!0:t(p(N),p(q))}function b(N,q){return N=c(N),q=c(q),t(p(N),p(q))}function w(N,q,x,X){var ne=n(u(N).concat(u(q)));return h(N)&&h(q)?!0:h(N)&&u(q).length||h(q)&&u(N).length?!1:ne.every(function(G){var Z=N[G],M=q[G];return Array.isArray(Z)&&Array.isArray(M)?t(p(N),p(q)):Array.isArray(Z)&&!Array.isArray(M)||Array.isArray(M)&&!Array.isArray(Z)?!1:_(N,q,G,X)})}function E(N,q,x,X){return a(N)&&a(q)?X(N,q):Array.isArray(N)&&Array.isArray(q)?w(N,q,x,X):t(N,q)}function I(N,q,x,X){var ne=r(N,X),G=r(q,X),Z=s(ne,G,X);return Z.length===Math.max(ne.length,G.length)}var C={title:t,uniqueItems:d,minLength:y,minItems:y,minProperties:y,required:$,enum:$,type:b,items:E,anyOf:I,allOf:I,oneOf:I,properties:w,patternProperties:w,dependencies:w},F=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],U=["additionalProperties","additionalItems","contains","propertyNames","not"];function z(N,q,x){if(x=i(x,{ignore:[]}),g(N)&&g(q))return!0;if(!v(N)||!v(q))throw new Error("Either of the values are not a JSON schema.");if(N===q)return!0;if(o(N)&&o(q))return N===q;if(N===void 0&&q===!1||q===void 0&&N===!1||l(N)&&!l(q)||!l(N)&&l(q))return!1;var X=n(Object.keys(N).concat(Object.keys(q)));if(x.ignore.length&&(X=X.filter(G=>x.ignore.indexOf(G)===-1)),!X.length)return!0;function ne(G,Z){return z(G,Z,x)}return X.every(function(G){var Z=N[G],M=q[G];if(U.indexOf(G)!==-1)return z(Z,M,x);var A=C[G];if(A||(A=t),t(Z,M))return!0;if(F.indexOf(G)===-1&&(!f(N,G)&&f(q,G)||f(N,G)&&!f(q,G)))return Z===M;var V=A(Z,M,G,ne);if(!o(V))throw new Error("Comparer must return true or false");return V})}return Ar=z,Ar}var Rr,Sn;function di(){if(Sn)return Rr;Sn=1;const t=ei(),e=ti(),n=sn(),r=rn(),i=nn(),s=xi();function a(y){for(const d in y)l(y,d)&&m(y[d])&&delete y[d];return y}const o=y=>r(e(y.map(u))),c=(y,d)=>y.map(g=>g&&g[d]),l=(y,d)=>Object.prototype.hasOwnProperty.call(y,d),u=y=>n(y)||Array.isArray(y)?Object.keys(y):[],f=y=>y!==void 0,p=y=>n(y)||y===!0||y===!1,m=y=>!u(y).length&&y!==!1&&y!==!0;return Rr={allUniqueKeys:o,deleteUndefinedProps:a,getValues:c,has:l,isEmptySchema:m,isSchema:p,keys:u,notUndefined:f,uniqWith:i,withoutArr:(y,...d)=>s.apply(null,[y].concat(t(d)))},Rr}var Tr,En;function ho(){if(En)return Tr;En=1;const t=un(),e=ri(),{allUniqueKeys:n,deleteUndefinedProps:r,getValues:i,keys:s,notUndefined:a,uniqWith:o,withoutArr:c}=di();function l(f){e(f,function(p,m){p===!1&&delete f[m]})}function u(f,p){return n(f).reduce(function(_,y){const d=i(f,y),g=o(d.filter(a),t);return _[y]=p(g,y),_},{})}return Tr={keywords:["properties","patternProperties","additionalProperties"],resolver(f,p,m,_){_.ignoreAdditionalProperties||(f.forEach(function(d){const g=f.filter(b=>b!==d),h=s(d.properties),$=s(d.patternProperties).map(b=>new RegExp(b));g.forEach(function(b){const w=s(b.properties),E=w.filter(C=>$.some(F=>F.test(C)));c(w,h,E).forEach(function(C){b.properties[C]=m.properties([b.properties[C],d.additionalProperties],C)})})}),f.forEach(function(d){const g=f.filter(v=>v!==d),h=s(d.patternProperties);d.additionalProperties===!1&&g.forEach(function(v){const $=s(v.patternProperties);c($,h).forEach(w=>delete v.patternProperties[w])})}));const y={additionalProperties:m.additionalProperties(f.map(d=>d.additionalProperties)),patternProperties:u(f.map(d=>d.patternProperties),m.patternProperties),properties:u(f.map(d=>d.properties),m.properties)};return y.additionalProperties===!1&&l(y.properties),r(y)}},Tr}var Dr,Pn;function po(){if(Pn)return Dr;Pn=1;const t=un(),e=ri(),{allUniqueKeys:n,deleteUndefinedProps:r,has:i,isSchema:s,notUndefined:a,uniqWith:o}=di();function c(p){e(p,function(m,_){m===!1&&p.splice(_,1)})}function l(p,m){return p.map(function(_){if(_)if(Array.isArray(_.items)){const y=_.items[m];if(s(y))return y;if(i(_,"additionalItems"))return _.additionalItems}else return _.items})}function u(p){return p.map(function(m){if(m)return Array.isArray(m.items)?m.additionalItems:m.items})}function f(p,m,_){return n(_).reduce(function(d,g){const h=l(p,g),v=o(h.filter(a),t);return d[g]=m(v,g),d},[])}return Dr={keywords:["items","additionalItems"],resolver(p,m,_){const y=p.map(v=>v.items),d=y.filter(a),g={};d.every(s)?g.items=_.items(y):g.items=f(p,_.items,y);let h;return d.every(Array.isArray)?h=p.map(v=>v.additionalItems):d.some(Array.isArray)&&(h=u(p)),h&&(g.additionalItems=_.additionalItems(h)),g.additionalItems===!1&&Array.isArray(g.items)&&c(g.items),r(g)}},Dr}var Fr,On;function yo(){if(On)return Fr;On=1;const t=Ki(),e=un(),n=ki(),r=Li(),i=ei(),s=ti(),a=zi(),o=Zs(),c=Qs(),l=sn(),u=Bi(),f=Xs(),p=rn(),m=nn(),_=ho(),y=po(),d=(K,B)=>K.indexOf(B)!==-1,g=K=>l(K)||K===!0||K===!1,h=K=>K===!1,v=K=>K===!0,$=(K,B,P)=>P(K),b=K=>f(p(s(K))),w=K=>K!==void 0,E=K=>p(s(K.map(G))),I=K=>K[0],C=K=>b(K),F=K=>Math.max.apply(Math,K),U=K=>Math.min.apply(Math,K),z=K=>K.some(v),N=K=>m(i(K),c);function q(K){return function(B,P){return e({[K]:B},{[K]:P})}}function x(K){let{allOf:B=[],...P}=K;return P=l(K)?P:K,[P,...B.map(x)]}function X(K,B){return K.map(P=>P&&P[B])}function ne(K,B){return K.map(function(P,j){try{return B(P,j)}catch{return}}).filter(w)}function G(K){return l(K)||Array.isArray(K)?Object.keys(K):[]}function Z(K,B){if(B=B||[],!K.length)return B;const P=K.slice(0).shift(),j=K.slice(1);return B.length?Z(j,i(B.map(k=>P.map(L=>[L].concat(k))))):Z(j,P.map(k=>k))}function M(K,B){let P;try{P=K.map(function(j){return JSON.stringify(j,null,2)}).join(`
`)}catch{P=K.join(", ")}throw new Error('Could not resolve values for path:"'+B.join(".")+`". They are probably incompatible. Values: 
`+P)}function A(K,B,P,j,k,L){if(K.length){const W=k.complexResolvers[B];if(!W||!W.resolver)throw new Error("No resolver found for "+B);const Y=P.map(ye=>K.reduce((he,se)=>(ye[se]!==void 0&&(he[se]=ye[se]),he),{})),ue=m(Y,e),ge=W.keywords.reduce((ye,he)=>({...ye,[he]:(se,_e=[])=>j(se,null,L.concat(he,_e))}),{}),fe=W.resolver(ue,L.concat(B),ge,k);return l(fe)||M(ue,L.concat(B)),fe}}function V(K){return{required:K}}const D=["properties","patternProperties","definitions","dependencies"],S=["anyOf","oneOf"],O=["additionalProperties","additionalItems","contains","propertyNames","not","items"],T={type(K){if(K.some(Array.isArray)){const B=K.map(function(j){return Array.isArray(j)?j:[j]}),P=a.apply(null,B);if(P.length===1)return P[0];if(P.length>1)return p(P)}},dependencies(K,B,P){return E(K).reduce(function(k,L){const W=X(K,L);let Y=m(W.filter(w),c);const ue=Y.filter(Array.isArray);if(ue.length){if(ue.length===Y.length)k[L]=b(Y);else{const ge=Y.filter(g),fe=ue.map(V);k[L]=P(ge.concat(fe),L)}return k}return Y=m(Y,e),k[L]=P(Y,L),k},{})},oneOf(K,B,P){const j=Z(t(K)),k=ne(j,P),L=m(k,e);if(L.length)return L},not(K){return{anyOf:K}},pattern(K){return K.map(B=>"(?="+B+")").join("")},multipleOf(K){let B=K.slice(0),P=1;for(;B.some(j=>!Number.isInteger(j));)B=B.map(j=>j*10),P=P*10;return n(B)/P},enum(K){const B=o.apply(null,K.concat(c));if(B.length)return f(B)}};T.$id=I,T.$ref=I,T.$schema=I,T.additionalItems=$,T.additionalProperties=$,T.anyOf=T.oneOf,T.contains=$,T.default=I,T.definitions=T.dependencies,T.description=I,T.examples=N,T.exclusiveMaximum=U,T.exclusiveMinimum=F,T.items=y,T.maximum=U,T.maxItems=U,T.maxLength=U,T.maxProperties=U,T.minimum=F,T.minItems=F,T.minLength=F,T.minProperties=F,T.properties=_,T.propertyNames=$,T.required=C,T.title=I,T.uniqueItems=z;const H={properties:_,items:y};function J(K,B,P){B=r(B,{ignoreAdditionalProperties:!1,resolvers:T,complexResolvers:H,deep:!0});const j=Object.entries(B.complexResolvers);function k(Y,ue,ge){Y=t(Y.filter(w)),ge=ge||[];const fe=l(ue)?ue:{};if(!Y.length)return;if(Y.some(h))return!1;if(Y.every(v))return!0;Y=Y.filter(l);const ye=E(Y);if(B.deep&&d(ye,"allOf"))return J({allOf:Y},B);const he=j.map(([se,_e])=>ye.filter(Pe=>_e.keywords.includes(Pe)));return he.forEach(se=>u(ye,se)),ye.forEach(function(se){const _e=X(Y,se),Pe=m(_e.filter(w),q(se));if(Pe.length===1&&d(S,se))fe[se]=Pe[0].map(Ae=>k([Ae],Ae));else if(Pe.length===1&&!d(D,se)&&!d(O,se))fe[se]=Pe[0];else{const Ae=B.resolvers[se]||B.resolvers.defaultResolver;if(!Ae)throw new Error("No resolver found for key "+se+". You can provide a resolver for this keyword in the options, or provide a default resolver.");const Qe=(ut,jt=[])=>k(ut,null,ge.concat(se,jt));fe[se]=Ae(Pe,ge.concat(se),Qe,B),fe[se]===void 0?M(Pe,ge.concat(se)):fe[se]===void 0&&delete fe[se]}}),j.reduce((se,[_e,Pe],Ae)=>({...se,...A(he[Ae],_e,Y,k,B,ge)}),fe)}const L=s(x(K));return k(L)}return J.options={resolvers:T},Fr=J,Fr}var go=yo();const vo=Er(go);function at(t){let e;const n=Q(t,"discriminator.propertyName",void 0);return Pr(n)?e=n:n!==void 0&&console.warn(`Expecting discriminator to be a string, got "${typeof n}" instead`),e}function vt(t){return Array.isArray(t)?"array":typeof t=="string"?"string":t==null?"null":typeof t=="boolean"?"boolean":isNaN(t)?typeof t=="object"?"object":"string":"number"}function Le(t){let{type:e}=t;return!e&&t.const?vt(t.const):!e&&t.enum?"string":!e&&(t.properties||t.additionalProperties)?"object":(Array.isArray(e)&&(e.length===2&&e.includes("null")?e=e.find(n=>n!=="null"):e=e[0]),e)}function ze(t,e){const n=Object.assign({},t);return Object.keys(e).reduce((r,i)=>{const s=t?t[i]:{},a=e[i];return t&&i in t&&oe(a)?r[i]=ze(s,a):t&&e&&(Le(t)==="object"||Le(e)==="object")&&i===lo&&Array.isArray(s)&&Array.isArray(a)?r[i]=Wi(s,a):r[i]=a,r},n)}function Ne(t,e,n={},r,i){return Fe(t,e,n,r,void 0,void 0,i)[0]}function _o(t,e,n,r,i,s,a){const{if:o,then:c,else:l,...u}=e,f=t.isValid(o,s||{},n);let p=[u],m=[];if(r)c&&typeof c!="boolean"&&(m=m.concat(Fe(t,c,n,s,r,i,a))),l&&typeof l!="boolean"&&(m=m.concat(Fe(t,l,n,s,r,i,a)));else{const _=f?c:l;_&&typeof _!="boolean"&&(m=m.concat(Fe(t,_,n,s,r,i,a)))}return m.length&&(p=m.map(_=>ze(u,_))),p.flatMap(_=>Fe(t,_,n,s,r,i,a))}function fi(t){return t.reduce((n,r)=>r.length>1?r.flatMap(i=>ni(n.length,s=>[...n[s]].concat(i))):(n.forEach(i=>i.push(r[0])),n),[[]])}function $o(t,e,n,r,i,s,a){const o=mi(t,e,n,r,i,s);if(o.length>1||o[0]!==e)return o;if(Or in e)return hi(t,e,n,r,i,s).flatMap(l=>Fe(t,l,n,s,r,i,a));if(lt in e&&Array.isArray(e.allOf)){const c=e.allOf.map(u=>Fe(t,u,n,s,r,i,a));return fi(c).map(u=>({...e,allOf:u}))}return[e]}function mi(t,e,n,r,i,s,a){const o=_t(e,n,i);return o!==e?Fe(t,o,n,s,r,i,a):[e]}function _t(t,e,n){if(!oe(t))return t;let r=t;if($e in r){const{$ref:i,...s}=r;if(n.includes(i))return r;n.push(i),r={...ci(i,e),...s}}if(ve in r){const i=[],s=Gi(r[ve],(a,o,c)=>{const l=[...n];a[c]=_t(o,e,l),i.push(l)},{});Ji(n,Hi(Yi(i))),r={...r,[ve]:s}}return Je in r&&!Array.isArray(r.items)&&typeof r.items!="boolean"&&(r={...r,items:_t(r.items,e,n)}),pe(t,r)?t:r}function bo(t,e,n,r,i){const s={...e,properties:{...e.properties}},a=r&&oe(r)?r:{};return Object.keys(a).forEach(o=>{if(o in s.properties)return;let c={};typeof s.additionalProperties!="boolean"?$e in s.additionalProperties?c=Ne(t,{$ref:Q(s.additionalProperties,[$e])},n,a,i):"type"in s.additionalProperties?c={...s.additionalProperties}:Te in s.additionalProperties||je in s.additionalProperties?c={type:"object",...s.additionalProperties}:c={type:vt(Q(a,[o]))}:c={type:vt(Q(a,[o]))},s.properties[o]=c,we(s.properties,[o,Et],!0)}),s}function Fe(t,e,n,r,i=!1,s=[],a){return oe(e)?$o(t,e,n,i,s,r,a).flatMap(c=>{var l;let u=c;if(ao in u)return _o(t,u,n,i,s,r,a);if(lt in u){if(i){const{allOf:p,...m}=u;return[...p,m]}try{const p=[],m=[];(l=u.allOf)===null||l===void 0||l.forEach(_=>{typeof _=="object"&&_.contains?p.push(_):m.push(_)}),p.length&&(u={...u,allOf:m}),u=a?a(u):vo(u,{deep:!1}),p.length&&(u.allOf=p)}catch(p){console.warn(`could not merge subschemas in allOf:
`,p);const{allOf:m,..._}=u;return _}}return Yr in u&&u.additionalProperties!==!1?bo(t,u,n,r,a):u}):[{}]}function wo(t,e,n,r,i){let s;const{oneOf:a,anyOf:o,...c}=e;if(Array.isArray(a)?s=a:Array.isArray(o)&&(s=o),s){const l=i===void 0&&r?{}:i,u=at(e);s=s.map(p=>_t(p,n,[]));const f=ln(t,l,s,n,u);if(r)return s.map(p=>ze(c,p));e=ze(c,s[f])}return[e]}function hi(t,e,n,r,i,s,a){const{dependencies:o,...c}=e;return wo(t,c,n,r,s).flatMap(u=>pi(t,o,u,n,r,i,s,a))}function pi(t,e,n,r,i,s,a,o){let c=[n];for(const l in e){if(!i&&Q(a,[l])===void 0||n.properties&&!(l in n.properties))continue;const[u,f]=cn(l,e);return Array.isArray(f)?c[0]=So(n,f):oe(f)&&(c=Eo(t,n,r,l,f,i,s,a,o)),c.flatMap(p=>pi(t,u,p,r,i,s,a,o))}return c}function So(t,e){if(!e)return t;const n=Array.isArray(t.required)?Array.from(new Set([...t.required,...e])):e;return{...t,required:n}}function Eo(t,e,n,r,i,s,a,o,c){return Fe(t,i,n,o,s,a,c).flatMap(u=>{const{oneOf:f,...p}=u;if(e=ze(e,p),f===void 0)return e;const m=f.map(y=>typeof y=="boolean"||!($e in y)?[y]:mi(t,y,n,s,a,o));return fi(m).flatMap(y=>Po(t,e,n,r,y,s,a,o,c))})}function Po(t,e,n,r,i,s,a,o,c){const l=i.filter(u=>{if(typeof u=="boolean"||!u||!u.properties)return!1;const{[r]:f}=u.properties;if(f){const p={type:"object",properties:{[r]:f}};return t.isValid(p,o,n)||s}return!1});return!s&&l.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[e]):l.flatMap(u=>{const f=u,[p]=cn(r,f.properties),m={...f,properties:p};return Fe(t,m,n,o,s,a,c).map(y=>ze(e,y))})}const Oo={type:"object",$id:co,properties:{__not_really_there__:{type:"number"}}};function Qr(t,e,n,r,i){let s=0;return n&&(Ie(n.properties)?s+=Qi(n.properties,(a,o,c)=>{const l=Q(r,c);if(typeof o=="boolean")return a;if(Ee(o,$e)){const u=Ne(t,o,e,l,i);return a+Qr(t,e,u,l||{},i)}if((Ee(o,je)||Ee(o,Te))&&l){const u=Ee(o,je)?je:Te,f=at(o);return a+$t(t,e,l,Q(o,u),-1,f,i)}if(o.type==="object")return Ie(l)&&(a+=1),a+Qr(t,e,o,l,i);if(o.type===vt(l)){let u=a+1;return o.default?u+=l===o.default?1:-1:o.const&&(u+=l===o.const?1:-1),u}return a},0):Pr(n.type)&&n.type===vt(r)&&(s+=1)),s}function $t(t,e,n,r,i=-1,s,a){const o=r.map(p=>_t(p,e,[])),c=li(n,r,s);if(Ys(c))return c;const l=o.reduce((p,m,_)=>(ln(t,n,[Oo,m],e,s)===1&&p.push(_),p),[]);if(l.length===1)return l[0];l.length||ni(o.length,p=>l.push(p));const u=new Set,{bestIndex:f}=l.reduce((p,m)=>{const{bestScore:_}=p,y=o[m],d=Qr(t,e,y,n,a);return u.add(d),d>_?{bestIndex:m,bestScore:d}:p},{bestIndex:i,bestScore:0});return u.size===1&&i>=0?i:f}function Xr(t){return Array.isArray(t.items)&&t.items.length>0&&t.items.every(e=>oe(e))}function bt(t,e,n=!1,r=!1,i=!1){if(Array.isArray(e)){const s=Array.isArray(t)?t:[],a=i?s:e,o=i?e:s,c=a.map((l,u)=>o[u]!==void 0?bt(s[u],e[u],n,r,i):l);return(n||i)&&c.length<o.length&&c.push(...o.slice(c.length)),c}if(oe(e)){const s=Object.assign({},t);return Object.keys(e).reduce((a,o)=>{const c=Q(e,o),l=oe(t)&&o in t,u=o in e;return a[o]=bt(t?Q(t,o):{},c,n,r,i&&(l||!u)),a},s)}return r&&(!pt(t)&&pt(e)||typeof e=="number"&&isNaN(e))||i&&!pt(e)?t:e}function Ue(t,e,n=!1){return Object.keys(e).reduce((r,i)=>{const s=t?t[i]:{},a=e[i];if(t&&i in t&&oe(a))r[i]=Ue(s,a,n);else if(n&&Array.isArray(s)&&Array.isArray(a)){let o=a;n==="preventDuplicates"&&(o=a.reduce((c,l)=>(s.includes(l)||c.push(l),c),[])),r[i]=s.concat(o)}else r[i]=a;return r},Object.assign({},t))}function yi(t){return Array.isArray(t.enum)&&t.enum.length===1||Ke in t}function dn(t,e,n={},r){const i=Ne(t,e,n,void 0,r),s=i.oneOf||i.anyOf;return Array.isArray(i.enum)?!0:Array.isArray(s)?s.every(a=>typeof a!="boolean"&&yi(a)):!1}function fn(t,e,n,r){return!e.uniqueItems||!e.items||typeof e.items=="boolean"?!1:dn(t,e.items,n,r)}function gi(t){const e=t[Ke],n=Le(t);return oe(e)&&Pr(e?.$data)&&n!=="object"&&n!=="array"}function Co(t){if(oo in t&&Array.isArray(t.enum)&&t.enum.length===1)return t.enum[0];if(Ke in t)return t.const;throw new Error("schema cannot be inferred as a constant")}function wt(t,e){const n=t;if(t.enum){let s;if(e){const{enumNames:a}=ie(e);s=a}return!s&&n.enumNames&&(s=n.enumNames),t.enum.map((a,o)=>({label:s?.[o]||String(a),value:a}))}let r,i;return t.anyOf?(r=t.anyOf,i=e?.anyOf):t.oneOf&&(r=t.oneOf,i=e?.oneOf),r&&r.map((s,a)=>{const{title:o}=ie(i?.[a]),c=s,l=Co(c),u=o||c.title||String(l);return{schema:c,label:u,value:l}})}const jo=["string","number","integer","boolean","null"];var ct;(function(t){t[t.Ignore=0]="Ignore",t[t.Invert=1]="Invert",t[t.Fallback=2]="Fallback"})(ct||(ct={}));function kr(t,e=ct.Ignore,n=-1){if(n>=0){if(Array.isArray(t.items)&&n<t.items.length){const r=t.items[n];if(typeof r!="boolean")return r}}else if(t.items&&!Array.isArray(t.items)&&typeof t.items!="boolean")return t.items;return e!==ct.Ignore&&oe(t.additionalItems)?t.additionalItems:{}}function Cn(t,e,n,r,i,s=[],a={},o=!1){const{emptyObjectFields:c="populateAllDefaults"}=a;if(r||o)t[e]=n;else if(c!=="skipDefaults"){const l=i===void 0?s.includes(e):i;oe(n)?c==="skipEmptyDefaults"?ot(n)||(t[e]=n):(!ot(n)||s.includes(e))&&(l||c!=="populateRequiredDefaults")&&(t[e]=n):n!==void 0&&(c==="populateAllDefaults"||c==="skipEmptyDefaults"||l&&s.includes(e))&&(t[e]=n)}}function He(t,e,n={}){const{parentDefaults:r,rawFormData:i,rootSchema:s={},includeUndefinedValues:a=!1,_recurseList:o=[],experimental_defaultFormStateBehavior:c=void 0,experimental_customMergeAllOf:l=void 0,required:u,shouldMergeDefaultsIntoFormData:f=!1}=n;let p=oe(i)?i:{};const m=oe(e)?e:{};let _=r,y=null,d=c,g=o;if(m[Ke]!==void 0&&c?.constAsDefaults!=="never"&&!gi(m))_=m[Ke];else if(oe(_)&&oe(m.default))_=Ue(_,m.default);else if(io in m&&!m[Te]&&!m[je])_=m.default;else if($e in m){const $=m[$e];o.includes($)||(g=o.concat($),y=ci($,s)),y&&!_&&(_=m.default),f&&y&&!oe(i)&&(p=i)}else if(Or in m){const $={...jn(t,m,n,_),...p};y=hi(t,m,s,!1,[],$,l)[0]}else if(Xr(m))_=m.items.map(($,b)=>He(t,$,{rootSchema:s,includeUndefinedValues:a,_recurseList:o,experimental_defaultFormStateBehavior:c,experimental_customMergeAllOf:l,parentDefaults:Array.isArray(r)?r[b]:void 0,rawFormData:p,required:u,shouldMergeDefaultsIntoFormData:f}));else if(je in m){const{oneOf:$,...b}=m;if($.length===0)return;const w=at(m),{type:E="null"}=b;!Array.isArray(E)&&jo.includes(E)&&d?.constAsDefaults==="skipOneOf"&&(d={...d,constAsDefaults:"never"}),y=$[$t(t,s,i??m.default,$,0,w,l)],y=ze(b,y)}else if(Te in m){const{anyOf:$,...b}=m;if($.length===0)return;const w=at(m);y=$[$t(t,s,i??m.default,$,0,w,l)],y=ze(b,y)}if(y)return He(t,y,{rootSchema:s,includeUndefinedValues:a,_recurseList:g,experimental_defaultFormStateBehavior:d,experimental_customMergeAllOf:l,parentDefaults:_,rawFormData:i??p,required:u,shouldMergeDefaultsIntoFormData:f});_===void 0&&(_=m.default);const h=jn(t,m,n,_);let v=h??_;if(f){const{arrayMinItems:$={}}=c||{},{mergeExtraDefaults:b}=$,w=No(t,m,s,i,c,l);(!oe(i)||lt in m)&&(v=bt(v,w,b,!0))}return v}function No(t,e,n,r,i,s){const a=!yi(e)&&dn(t,e,n,s);let o=r;if(a){const l=wt(e);o=l?.some(f=>pe(f.value,r))?r:void 0}return e[Ke]&&i?.constAsDefaults==="always"&&(o=e.const),o}function Io(t,e,{rawFormData:n,rootSchema:r={},includeUndefinedValues:i=!1,_recurseList:s=[],experimental_defaultFormStateBehavior:a=void 0,experimental_customMergeAllOf:o=void 0,required:c,shouldMergeDefaultsIntoFormData:l}={},u){{const f=oe(n)?n:{},p=e,m=a?.allOf==="populateDefaults"&&lt in p?Ne(t,p,r,f,o):p,_=m[Ke],y=Object.keys(m.properties||{}).reduce((d,g)=>{var h;const v=Q(m,[ve,g]),$=oe(_)&&_[g]!==void 0,b=(oe(v)&&Ke in v||$)&&a?.constAsDefaults!=="never"&&!gi(v),w=He(t,v,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:a,experimental_customMergeAllOf:o,includeUndefinedValues:i===!0,parentDefaults:Q(u,[g]),rawFormData:Q(f,[g]),required:(h=m.required)===null||h===void 0?void 0:h.includes(g),shouldMergeDefaultsIntoFormData:l});return Cn(d,g,w,i,c,m.required,a,b),d},{});if(m.additionalProperties){const d=oe(m.additionalProperties)?m.additionalProperties:{},g=new Set;oe(u)&&Object.keys(u).filter(v=>!m.properties||!m.properties[v]).forEach(v=>g.add(v));const h=[];Object.keys(f).filter(v=>!m.properties||!m.properties[v]).forEach(v=>{g.add(v),h.push(v)}),g.forEach(v=>{var $;const b=He(t,d,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:a,experimental_customMergeAllOf:o,includeUndefinedValues:i===!0,parentDefaults:Q(u,[v]),rawFormData:Q(f,[v]),required:($=m.required)===null||$===void 0?void 0:$.includes(v),shouldMergeDefaultsIntoFormData:l});Cn(y,v,b,i,c,h)})}return y}}function Ao(t,e,{rawFormData:n,rootSchema:r={},_recurseList:i=[],experimental_defaultFormStateBehavior:s=void 0,experimental_customMergeAllOf:a=void 0,required:o,shouldMergeDefaultsIntoFormData:c}={},l){var u,f;const p=e,m=(u=s?.arrayMinItems)!==null&&u!==void 0?u:{},{populate:_,mergeExtraDefaults:y}=m,d=_==="never",g=_==="requiredOnly",h=_==="all"||!d&&!g,v=(f=m?.computeSkipPopulate)!==null&&f!==void 0?f:(()=>!1),b=s?.emptyObjectFields==="skipEmptyDefaults"?void 0:[];if(Array.isArray(l)&&(l=l.map((z,N)=>{const q=kr(p,ct.Fallback,N);return He(t,q,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:a,parentDefaults:z,required:o,shouldMergeDefaultsIntoFormData:c})})),Array.isArray(n)){const z=kr(p);if(d)l=n;else{const N=n.map((x,X)=>He(t,z,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:a,rawFormData:x,parentDefaults:Q(l,[X]),required:o,shouldMergeDefaultsIntoFormData:c}));l=bt(l,N,(g&&o||h)&&y)}}if((oe(p)&&Ke in p&&s?.constAsDefaults!=="never")===!1){if(d)return l??b;if(g&&!o)return l||void 0}const E=Array.isArray(l)?l.length:0;if(!p.minItems||fn(t,p,r,a)||v(t,p,r)||p.minItems<=E)return l||b;const I=l||[],C=kr(p,ct.Invert),F=C.default,U=new Array(p.minItems-E).fill(He(t,C,{parentDefaults:F,rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:a,required:o,shouldMergeDefaultsIntoFormData:c}));return I.concat(U)}function jn(t,e,n={},r){switch(Le(e)){case"object":return Io(t,e,n,r);case"array":return Ao(t,e,n,r)}}function vi(t,e,n,r,i=!1,s,a){if(!oe(e))throw new Error("Invalid schema: "+e);const o=Ne(t,e,r,n,a),c=He(t,o,{rootSchema:r,includeUndefinedValues:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:a,rawFormData:n,shouldMergeDefaultsIntoFormData:!0});if(oe(n)||Array.isArray(n)){const{mergeDefaultsIntoFormData:l}=s||{};return bt(c,n,!0,l==="useDefaultIfFormDataUndefined",!0)}return c}function _i(t={}){return"widget"in ie(t)&&ie(t).widget!=="hidden"}function $i(t,e,n={},r,i){if(n[an]==="files")return!0;if(e.items){const s=Ne(t,e.items,r,void 0,i);return s.type==="string"&&s.format==="data-url"}return!1}function Ro(t,e,n={},r,i,s){const a=ie(n,i),{label:o=!0}=a;let c=!!o;const l=Le(e);return l==="array"&&(c=fn(t,e,r,s)||$i(t,e,n,r,s)||_i(n)),l==="object"&&(c=!1),l==="boolean"&&!n[an]&&(c=!1),n[uo]&&(c=!1),c}function To(t,e,n){if(!n)return e;const{errors:r,errorSchema:i}=e;let s=t.toErrorList(n),a=n;return ot(i)||(a=Ue(i,n,!0),s=[...r].concat(s)),{errorSchema:a,errors:s}}const nt=Symbol("no Value");function Zr(t,e,n,r,i={},s){let a;if(Ee(n,ve)){const o={};if(Ee(r,ve)){const u=Q(r,ve,{});Object.keys(u).forEach(f=>{Ee(i,f)&&(o[f]=void 0)})}const c=Object.keys(Q(n,ve,{})),l={};c.forEach(u=>{const f=Q(i,u);let p=Q(r,[ve,u],{}),m=Q(n,[ve,u],{});Ee(p,$e)&&(p=Ne(t,p,e,f,s)),Ee(m,$e)&&(m=Ne(t,m,e,f,s));const _=Q(p,"type"),y=Q(m,"type");if(!_||_===y)if(Ee(o,u)&&delete o[u],y==="object"||y==="array"&&Array.isArray(f)){const d=Zr(t,e,m,p,f,s);(d!==void 0||y==="array")&&(l[u]=d)}else{const d=Q(m,"default",nt),g=Q(p,"default",nt);d!==nt&&d!==f&&(g===f?o[u]=d:Q(m,"readOnly")===!0&&(o[u]=void 0));const h=Q(m,"const",nt),v=Q(p,"const",nt);h!==nt&&h!==f&&(o[u]=v===f?h:void 0)}}),a={...typeof i=="string"||Array.isArray(i)?void 0:i,...o,...l}}else if(Q(r,"type")==="array"&&Q(n,"type")==="array"&&Array.isArray(i)){let o=Q(r,"items"),c=Q(n,"items");if(typeof o=="object"&&typeof c=="object"&&!Array.isArray(o)&&!Array.isArray(c)){Ee(o,$e)&&(o=Ne(t,o,e,i,s)),Ee(c,$e)&&(c=Ne(t,c,e,i,s));const l=Q(o,"type"),u=Q(c,"type");if(!l||l===u){const f=Q(n,"maxItems",-1);u==="object"?a=i.reduce((p,m)=>{const _=Zr(t,e,c,o,m,s);return _!==void 0&&(f<0||p.length<f)&&p.push(_),p},[]):a=f>0&&i.length>f?i.slice(0,f):i}}else typeof o=="boolean"&&typeof c=="boolean"&&o===c&&(a=i)}return a}function pr(t,e,n,r,i,s,a,o=[],c){if($e in e||Or in e||lt in e){const f=Ne(t,e,s,a,c);if(o.findIndex(m=>pe(m,f))===-1)return pr(t,f,n,r,i,s,a,o.concat(f),c)}if(Je in e&&!Q(e,[Je,$e]))return pr(t,Q(e,Je),n,r,i,s,a,o,c);const u={$id:i||n};if(Le(e)==="object"&&ve in e)for(const f in e.properties){const p=Q(e,[ve,f]),m=u[Ge]+r+f;u[f]=pr(t,oe(p)?p:{},n,r,m,s,Q(a,[f]),o,c)}return u}function Do(t,e,n,r,i,s="root",a="_",o){return pr(t,e,s,a,n,r,i,void 0,o)}function tt(t,e,n,r,i,s=[],a){if($e in e||Or in e||lt in e){const c=Ne(t,e,r,i,a);if(s.findIndex(u=>pe(u,c))===-1)return tt(t,c,n,r,i,s.concat(c),a)}let o={[hr]:n.replace(/^\./,"")};if(je in e||Te in e){const c=je in e?e.oneOf:e.anyOf,l=at(e),u=$t(t,r,i,c,0,l,a),f=c[u];o={...o,...tt(t,f,n,r,i,s,a)}}if(Yr in e&&e[Yr]!==!1&&we(o,on,!0),Je in e&&Array.isArray(i)){const{items:c,additionalItems:l}=e;Array.isArray(c)?i.forEach((u,f)=>{c[f]?o[f]=tt(t,c[f],`${n}.${f}`,r,u,s,a):l?o[f]=tt(t,l,`${n}.${f}`,r,u,s,a):console.warn(`Unable to generate path schema for "${n}.${f}". No schema defined for it`)}):i.forEach((u,f)=>{o[f]=tt(t,c,`${n}.${f}`,r,u,s,a)})}else if(ve in e)for(const c in e.properties){const l=Q(e,[ve,c]);o[c]=tt(t,l,`${n}.${c}`,r,Q(i,[c]),s,a)}return o}function Fo(t,e,n="",r,i,s){return tt(t,e,n,r,i,void 0,s)}class ko{constructor(e,n,r,i){this.rootSchema=n,this.validator=e,this.experimental_defaultFormStateBehavior=r,this.experimental_customMergeAllOf=i}getValidator(){return this.validator}doesSchemaUtilsDiffer(e,n,r={},i){return!e||!n?!1:this.validator!==e||!pe(this.rootSchema,n)||!pe(this.experimental_defaultFormStateBehavior,r)||this.experimental_customMergeAllOf!==i}getDefaultFormState(e,n,r=!1){return vi(this.validator,e,n,this.rootSchema,r,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(e,n,r){return Ro(this.validator,e,n,this.rootSchema,r,this.experimental_customMergeAllOf)}getClosestMatchingOption(e,n,r,i){return $t(this.validator,this.rootSchema,e,n,r,i,this.experimental_customMergeAllOf)}getFirstMatchingOption(e,n,r){return ln(this.validator,e,n,this.rootSchema,r)}getMatchingOption(e,n,r){return ui(this.validator,e,n,this.rootSchema,r)}isFilesArray(e,n){return $i(this.validator,e,n,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(e){return fn(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(e){return dn(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}mergeValidationData(e,n){return To(this.validator,e,n)}retrieveSchema(e,n){return Ne(this.validator,e,this.rootSchema,n,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(e,n,r){return Zr(this.validator,this.rootSchema,e,n,r,this.experimental_customMergeAllOf)}toIdSchema(e,n,r,i="root",s="_"){return Do(this.validator,e,n,this.rootSchema,r,i,s,this.experimental_customMergeAllOf)}toPathSchema(e,n,r){return Fo(this.validator,e,n,this.rootSchema,r,this.experimental_customMergeAllOf)}}function qo(t,e,n={},r){return new ko(t,e,n,r)}function Mo(t){var e;if(t.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const r=t.slice(5).split(";base64,");if(r.length!==2)throw new Error("File is invalid: dataURI must be base64");const[i,s]=r,[a,...o]=i.split(";"),c=a||"",l=decodeURI(((e=o.map(u=>u.split("=")).find(([u])=>u==="name"))===null||e===void 0?void 0:e[1])||"unknown");try{const u=atob(s),f=new Array(u.length);for(let m=0;m<u.length;m++)f[m]=u.charCodeAt(m);return{blob:new window.Blob([new Uint8Array(f)],{type:c}),name:l}}catch(u){throw new Error("File is invalid: "+u.message)}}function We(t,e){let n=String(t);for(;n.length<e;)n="0"+n;return n}function bi(t,e){if(t<=0&&e<=0)t=new Date().getFullYear()+t,e=new Date().getFullYear()+e;else if(t<0||e<0)throw new Error(`Both start (${t}) and stop (${e}) must both be <= 0 or > 0, got one of each`);if(t>e)return bi(e,t).reverse();const n=[];for(let r=t;r<=e;r++)n.push({value:r,label:We(r,2)});return n}function Vo(t,e){let n=t;if(Array.isArray(e)){const r=n.split(/(%\d)/);e.forEach((i,s)=>{const a=r.findIndex(o=>o===`%${s+1}`);a>=0&&(r[a]=i)}),n=r.join("")}return n}function Uo(t,e){return Vo(t,e)}function ke(t,e=[],n){if(Array.isArray(t))return t.map(s=>ke(s,e)).filter(s=>s!==n);const r=t===""||t===null?-1:Number(t),i=e[r];return i?i.value:n}function xo(t,e,n=[]){const r=ke(t,n);return Array.isArray(e)?e.filter(i=>!pe(i,r)):pe(r,e)?void 0:e}function mn(t,e){return Array.isArray(e)?e.some(n=>pe(n,t)):pe(e,t)}function Ko(t,e=[],n=!1){const r=e.map((i,s)=>mn(i.value,t)?String(s):void 0).filter(i=>typeof i<"u");return n?r:r[0]}function Lo(t,e,n=[]){const r=ke(t,n);if(!pt(r)){const i=n.findIndex(o=>r===o.value),s=n.map(({value:o})=>o);return e.slice(0,i).concat(r,e.slice(i)).sort((o,c)=>+(s.indexOf(o)>s.indexOf(c)))}return e}class zo{constructor(e){this.errorSchema={},this.resetAllErrors(e)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(e){let r=Array.isArray(e)&&e.length>0||typeof e=="string"?Q(this.errorSchema,e):this.errorSchema;return!r&&e&&(r={},Xi(this.errorSchema,e,r,Object)),r}resetAllErrors(e){return this.errorSchema=e?si(e):{},this}addErrors(e,n){const r=this.getOrCreateErrorBlock(n);let i=Q(r,Ce);return Array.isArray(i)||(i=[],r[Ce]=i),Array.isArray(e)?we(r,Ce,[...new Set([...i,...e])]):we(r,Ce,[...new Set([...i,e])]),this}setErrors(e,n){const r=this.getOrCreateErrorBlock(n),i=Array.isArray(e)?[...new Set([...e])]:[e];return we(r,Ce,i),this}clearErrors(e){const n=this.getOrCreateErrorBlock(e);return we(n,Ce,[]),this}}function Bo(t,e,n=[1900,new Date().getFullYear()+2],r="YMD"){const{day:i,month:s,year:a,hour:o,minute:c,second:l}=t,u={type:"day",range:[1,31],value:i},f={type:"month",range:[1,12],value:s},p={type:"year",range:n,value:a},m=[];switch(r){case"MDY":m.push(f,u,p);break;case"DMY":m.push(u,f,p);break;case"YMD":default:m.push(p,f,u)}return e&&m.push({type:"hour",range:[0,23],value:o},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:l}),m}function Wo(t){const e={};return t.multipleOf&&(e.step=t.multipleOf),(t.minimum||t.minimum===0)&&(e.min=t.minimum),(t.maximum||t.maximum===0)&&(e.max=t.maximum),e}function Go(t,e,n={},r=!0){const i={type:e||"text",...Wo(t)};return n.inputType?i.type=n.inputType:e||(t.type==="number"?(i.type="number",r&&i.step===void 0&&(i.step="any")):t.type==="integer"&&(i.type="number",i.step===void 0&&(i.step=1))),n.autocomplete&&(i.autoComplete=n.autocomplete),n.accept&&(i.accept=n.accept),i}const Nn={props:{disabled:!1},submitText:"Submit",norender:!1};function Jo(t={}){const e=ie(t);if(e&&e[_r]){const n=e[_r];return{...Nn,...n}}return Nn}function le(t,e,n={}){const{templates:r}=e;return t==="ButtonTemplates"?r[t]:n[t]||r[t]}var qr={exports:{}},ce={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var In;function Ho(){if(In)return ce;In=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function y(d){if(typeof d=="object"&&d!==null){var g=d.$$typeof;switch(g){case t:switch(d=d.type,d){case n:case i:case r:case l:case u:return d;default:switch(d=d&&d.$$typeof,d){case o:case a:case c:case p:case f:case s:return d;default:return g}}case e:return g}}}return ce.ContextConsumer=a,ce.ContextProvider=s,ce.Element=t,ce.ForwardRef=c,ce.Fragment=n,ce.Lazy=p,ce.Memo=f,ce.Portal=e,ce.Profiler=i,ce.StrictMode=r,ce.Suspense=l,ce.SuspenseList=u,ce.isAsyncMode=function(){return!1},ce.isConcurrentMode=function(){return!1},ce.isContextConsumer=function(d){return y(d)===a},ce.isContextProvider=function(d){return y(d)===s},ce.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===t},ce.isForwardRef=function(d){return y(d)===c},ce.isFragment=function(d){return y(d)===n},ce.isLazy=function(d){return y(d)===p},ce.isMemo=function(d){return y(d)===f},ce.isPortal=function(d){return y(d)===e},ce.isProfiler=function(d){return y(d)===i},ce.isStrictMode=function(d){return y(d)===r},ce.isSuspense=function(d){return y(d)===l},ce.isSuspenseList=function(d){return y(d)===u},ce.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===n||d===i||d===r||d===l||d===u||d===m||typeof d=="object"&&d!==null&&(d.$$typeof===p||d.$$typeof===f||d.$$typeof===s||d.$$typeof===a||d.$$typeof===c||d.$$typeof===_||d.getModuleId!==void 0)},ce.typeOf=y,ce}var An;function Yo(){return An||(An=1,qr.exports=Ho()),qr.exports}var Qo=Yo();const Rn=Er(Qo),Mr={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Xo(t){let e=Q(t,"MergedWidget");if(!e){const n=t.defaultProps&&t.defaultProps.options||{};e=({options:r,...i})=>R.jsx(t,{options:{...n,...r},...i}),we(t,"MergedWidget",e)}return e}function xe(t,e,n={}){const r=Le(t);if(typeof e=="function"||e&&Rn.isForwardRef(re.createElement(e))||Rn.isMemo(e))return Xo(e);if(typeof e!="string")throw new Error(`Unsupported widget definition: ${typeof e}`);if(e in n){const i=n[e];return xe(t,i,n)}if(typeof r=="string"){if(!(r in Mr))throw new Error(`No widget for type '${r}'`);if(e in Mr[r]){const i=n[Mr[r][e]];return xe(t,i,n)}}throw new Error(`No widget '${e}' for type '${r}'`)}function Zo(t){let e=0;for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e.toString(16)}function ea(t){const e=new Set;return JSON.stringify(t,(n,r)=>(e.add(n),r)),Zo(JSON.stringify(t,Array.from(e).sort()))}function ta(t,e,n={}){try{return xe(t,e,n),!0}catch(r){const i=r;if(i.message&&(i.message.startsWith("No widget")||i.message.startsWith("Unsupported widget")))return!1;throw r}}function Pt(t,e){return`${Pr(t)?t:t[Ge]}__${e}`}function Ot(t){return Pt(t,"description")}function wi(t){return Pt(t,"error")}function en(t){return Pt(t,"examples")}function Si(t){return Pt(t,"help")}function Ei(t){return Pt(t,"title")}function rt(t,e=!1){const n=e?` ${en(t)}`:"";return`${wi(t)} ${Ot(t)} ${Si(t)}${n}`}function Pi(t,e){return`${t}-${e}`}function ra(t,e,n){return e?n:t}function na(t){return t?new Date(t).toJSON():void 0}function sa(t,e){if(!Array.isArray(e))return t;const n=u=>u.reduce((f,p)=>(f[p]=!0,f),{}),r=u=>u.length>1?`properties '${u.join("', '")}'`:`property '${u[0]}'`,i=n(t),s=e.filter(u=>u==="*"||i[u]),a=n(s),o=t.filter(u=>!a[u]),c=s.indexOf("*");if(c===-1){if(o.length)throw new Error(`uiSchema order list does not contain ${r(o)}`);return s}if(c!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const l=[...s];return l.splice(c,1,...o),l}function Vr(t,e=!0){if(!t)return{year:-1,month:-1,day:-1,hour:e?-1:0,minute:e?-1:0,second:e?-1:0};const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:e?n.getUTCHours():0,minute:e?n.getUTCMinutes():0,second:e?n.getUTCSeconds():0}}function yr(t){if(t.const||t.enum&&t.enum.length===1&&t.enum[0]===!0)return!0;if(t.anyOf&&t.anyOf.length===1)return yr(t.anyOf[0]);if(t.oneOf&&t.oneOf.length===1)return yr(t.oneOf[0]);if(t.allOf){const e=n=>yr(n);return t.allOf.some(e)}return!1}function ia(t,e,n){const{props:r,state:i}=t;return!pe(r,e)||!pe(i,n)}function Tn(t,e=!0){const{year:n,month:r,day:i,hour:s=0,minute:a=0,second:o=0}=t,c=Date.UTC(n,r-1,i,s,a,o),l=new Date(c).toJSON();return e?l:l.slice(0,10)}function St(t,e=[]){if(!t)return[];let n=[];return Ce in t&&(n=n.concat(t[Ce].map(r=>{const i=`.${e.join(".")}`;return{property:i,message:r,stack:`${i} ${r}`}}))),Object.keys(t).reduce((r,i)=>{if(i!==Ce){const s=t[i];gt(s)&&(r=r.concat(St(s,[...e,i])))}return r},n)}function oa(t){const e=new zo;return t.length&&t.forEach(n=>{const{property:r,message:i}=n,s=r==="."?[]:ii(r);s.length>0&&s[0]===""&&s.splice(0,1),i&&e.addErrors(i,s)}),e.ErrorSchema}function hn(t){return Object.keys(t).reduce((e,n)=>{if(n==="addError")return e;{const r=t[n];return gt(r)?{...e,[n]:hn(r)}:{...e,[n]:r}}},{})}function aa(t){if(!t)return"";const e=new Date(t),n=We(e.getFullYear(),4),r=We(e.getMonth()+1,2),i=We(e.getDate(),2),s=We(e.getHours(),2),a=We(e.getMinutes(),2),o=We(e.getSeconds(),2),c=We(e.getMilliseconds(),3);return`${n}-${r}-${i}T${s}:${a}:${o}.${c}`}function gr(t,e){if(!e)return t;const{errors:n,errorSchema:r}=t;let i=St(e),s=e;return ot(r)||(s=Ue(r,e,!0),i=[...n].concat(i)),{errorSchema:s,errors:i}}function ca(t){for(const e in t){const n=t,r=n[e];e===$e&&typeof r=="string"&&r.startsWith("#")?n[e]=oi+r:n[e]=pn(r)}return t}function la(t){for(let e=0;e<t.length;e++)t[e]=pn(t[e]);return t}function pn(t){return Array.isArray(t)?la([...t]):Ie(t)?ca({...t}):t}function ua(t,e){const n=gt(t),r=gt(e);if(t===e||!n&&!r)return[];if(n&&!r)return dt(t);if(!n&&r)return dt(e);{const i=dt(Zi(t,(a,o)=>!pe(a,Q(e,o)))),s=eo(dt(e),dt(t));return[...i,...s]}}var me;(function(t){t.ArrayItemTitle="Item",t.MissingItems="Missing items definition",t.YesLabel="Yes",t.NoLabel="No",t.CloseLabel="Close",t.ErrorsLabel="Errors",t.NewStringDefault="New Value",t.AddButton="Add",t.AddItemButton="Add Item",t.CopyButton="Copy",t.MoveDownButton="Move down",t.MoveUpButton="Move up",t.RemoveButton="Remove",t.NowLabel="Now",t.ClearLabel="Clear",t.AriaDateLabel="Select a date",t.PreviewLabel="Preview",t.DecrementAriaLabel="Decrease value by 1",t.IncrementAriaLabel="Increase value by 1",t.UnknownFieldType="Unknown field type %1",t.OptionPrefix="Option %1",t.TitleOptionPrefix="%1 option %2",t.KeyLabel="%1 Key",t.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',t.UnsupportedField="Unsupported field schema.",t.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",t.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",t.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",t.FilesInfo="**%1** (%2, %3 bytes)"})(me||(me={}));function tn(){return to("rjsf-array-item-")}function Dn(t){return Array.isArray(t)?t.map(e=>({key:tn(),item:e})):[]}function ft(t){return Array.isArray(t)?t.map(e=>e.item):[]}class da extends re.Component{constructor(e){super(e);const{formData:n=[]}=e,r=Dn(n);this.state={keyedFormData:r,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,n){if(n.updatedKeyedFormData)return{updatedKeyedFormData:!1};const r=Array.isArray(e.formData)?e.formData:[],i=n.keyedFormData||[];return{keyedFormData:r.length===i.length?i.map((a,o)=>({key:a.key,item:r[o]})):Dn(r)}}get itemTitle(){const{schema:e,registry:n}=this.props,{translateString:r}=n;return Q(e,[Je,"title"],Q(e,[Je,"description"],r(me.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):e.type!=="null"}canAddItem(e){const{schema:n,uiSchema:r,registry:i}=this.props;let{addable:s}=ie(r,i.globalUiOptions);return s!==!1&&(n.maxItems!==void 0?s=e.length<n.maxItems:s=!0),s}_getNewFormDataRow=()=>{const{schema:e,registry:n}=this.props,{schemaUtils:r}=n;let i=e.items;return Xr(e)&&so(e)&&(i=e.additionalItems),r.getDefaultFormState(i)};_handleAddClick(e,n){e&&e.preventDefault();const{onChange:r,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let a;if(i){a={};for(const l in i){const u=parseInt(l);n===void 0||u<n?we(a,[u],i[l]):u>=n&&we(a,[u+1],i[l])}}const o={key:tn(),item:this._getNewFormDataRow()},c=[...s];n!==void 0?c.splice(n,0,o):c.push(o),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>r(ft(c),a))}onAddClick=e=>{this._handleAddClick(e)};onAddIndexClick=e=>n=>{this._handleAddClick(n,e)};onCopyIndexClick=e=>n=>{n&&n.preventDefault();const{onChange:r,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let a;if(i){a={};for(const l in i){const u=parseInt(l);u<=e?we(a,[u],i[l]):u>e&&we(a,[u+1],i[l])}}const o={key:tn(),item:si(s[e].item)},c=[...s];e!==void 0?c.splice(e+1,0,o):c.push(o),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>r(ft(c),a))};onDropIndexClick=e=>n=>{n&&n.preventDefault();const{onChange:r,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let a;if(i){a={};for(const c in i){const l=parseInt(c);l<e?we(a,[l],i[c]):l>e&&we(a,[l-1],i[c])}}const o=s.filter((c,l)=>l!==e);this.setState({keyedFormData:o,updatedKeyedFormData:!0},()=>r(ft(o),a))};onReorderClick=(e,n)=>r=>{r&&(r.preventDefault(),r.currentTarget.blur());const{onChange:i,errorSchema:s}=this.props;let a;if(s){a={};for(const u in s){const f=parseInt(u);f==e?we(a,[n],s[e]):f==n?we(a,[e],s[n]):we(a,[u],s[f])}}const{keyedFormData:o}=this.state;function c(){const u=o.slice();return u.splice(e,1),u.splice(n,0,o[e]),u}const l=c();this.setState({keyedFormData:l},()=>i(ft(l),a))};onChangeForIndex=e=>(n,r,i)=>{const{formData:s,onChange:a,errorSchema:o}=this.props,l=(Array.isArray(s)?s:[]).map((u,f)=>e===f?typeof n>"u"?null:n:u);a(l,o&&o&&{...o,[e]:r},i)};onSelectChange=e=>{const{onChange:n,idSchema:r}=this.props;n(e,void 0,r&&r.$id)};render(){const{schema:e,uiSchema:n,idSchema:r,registry:i}=this.props,{schemaUtils:s,translateString:a}=i;if(!(Je in e)){const o=ie(n),c=le("UnsupportedFieldTemplate",i,o);return R.jsx(c,{schema:e,idSchema:r,reason:a(me.MissingItems),registry:i})}return s.isMultiSelect(e)?this.renderMultiSelect():_i(n)?this.renderCustomWidget():Xr(e)?this.renderFixedArray():s.isFilesArray(e,n)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:n={},errorSchema:r,idSchema:i,name:s,title:a,disabled:o=!1,readonly:c=!1,autofocus:l=!1,required:u=!1,registry:f,onBlur:p,onFocus:m,idPrefix:_,idSeparator:y="_",rawErrors:d}=this.props,{keyedFormData:g}=this.state,h=e.title||a||s,{schemaUtils:v,formContext:$}=f,b=ie(n),w=Ie(e.items)?e.items:{},E=v.retrieveSchema(w),I=ft(this.state.keyedFormData),C=this.canAddItem(I),F={canAdd:C,items:g.map((z,N)=>{const{key:q,item:x}=z,X=x,ne=v.retrieveSchema(w,X),G=r?r[N]:void 0,Z=i.$id+y+N,M=v.toIdSchema(ne,Z,X,_,y);return this.renderArrayFieldItem({key:q,index:N,name:s&&`${s}-${N}`,title:h?`${h}-${N+1}`:void 0,canAdd:C,canMoveUp:N>0,canMoveDown:N<I.length-1,itemSchema:ne,itemIdSchema:M,itemErrorSchema:G,itemData:X,itemUiSchema:n.items,autofocus:l&&N===0,onBlur:p,onFocus:m,rawErrors:d,totalItems:g.length})}),className:`field field-array field-array-of-${E.type}`,disabled:o,idSchema:i,uiSchema:n,onAddClick:this.onAddClick,readonly:c,required:u,schema:e,title:h,formContext:$,formData:I,rawErrors:d,registry:f},U=le("ArrayFieldTemplate",f,b);return R.jsx(U,{...F})}renderCustomWidget(){const{schema:e,idSchema:n,uiSchema:r,disabled:i=!1,readonly:s=!1,autofocus:a=!1,required:o=!1,hideError:c,placeholder:l,onBlur:u,onFocus:f,formData:p=[],registry:m,rawErrors:_,name:y}=this.props,{widgets:d,formContext:g,globalUiOptions:h,schemaUtils:v}=m,{widget:$,title:b,...w}=ie(r,h),E=xe(e,$,d),I=b??e.title??y,C=v.getDisplayLabel(e,r,h);return R.jsx(E,{id:n.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:f,options:w,schema:e,uiSchema:r,registry:m,value:p,disabled:i,readonly:s,hideError:c,required:o,label:I,hideLabel:!C,placeholder:l,formContext:g,autofocus:a,rawErrors:_})}renderMultiSelect(){const{schema:e,idSchema:n,uiSchema:r,formData:i=[],disabled:s=!1,readonly:a=!1,autofocus:o=!1,required:c=!1,placeholder:l,onBlur:u,onFocus:f,registry:p,rawErrors:m,name:_}=this.props,{widgets:y,schemaUtils:d,formContext:g,globalUiOptions:h}=p,v=d.retrieveSchema(e.items,i),$=wt(v,r),{widget:b="select",title:w,...E}=ie(r,h),I=xe(e,b,y),C=w??e.title??_,F=d.getDisplayLabel(e,r,h);return R.jsx(I,{id:n.$id,name:_,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:f,options:{...E,enumOptions:$},schema:e,uiSchema:r,registry:p,value:i,disabled:s,readonly:a,required:c,label:C,hideLabel:!F,placeholder:l,formContext:g,autofocus:o,rawErrors:m})}renderFiles(){const{schema:e,uiSchema:n,idSchema:r,name:i,disabled:s=!1,readonly:a=!1,autofocus:o=!1,required:c=!1,onBlur:l,onFocus:u,registry:f,formData:p=[],rawErrors:m}=this.props,{widgets:_,formContext:y,globalUiOptions:d,schemaUtils:g}=f,{widget:h="files",title:v,...$}=ie(n,d),b=xe(e,h,_),w=v??e.title??i,E=g.getDisplayLabel(e,n,d);return R.jsx(b,{options:$,id:r.$id,name:i,multiple:!0,onChange:this.onSelectChange,onBlur:l,onFocus:u,schema:e,uiSchema:n,value:p,disabled:s,readonly:a,required:c,registry:f,formContext:y,autofocus:o,rawErrors:m,label:w,hideLabel:!E})}renderFixedArray(){const{schema:e,uiSchema:n={},formData:r=[],errorSchema:i,idPrefix:s,idSeparator:a="_",idSchema:o,name:c,title:l,disabled:u=!1,readonly:f=!1,autofocus:p=!1,required:m=!1,registry:_,onBlur:y,onFocus:d,rawErrors:g}=this.props,{keyedFormData:h}=this.state;let{formData:v=[]}=this.props;const $=e.title||l||c,b=ie(n),{schemaUtils:w,formContext:E}=_,C=(Ie(e.items)?e.items:[]).map((q,x)=>w.retrieveSchema(q,r[x])),F=Ie(e.additionalItems)?w.retrieveSchema(e.additionalItems,r):null;(!v||v.length<C.length)&&(v=v||[],v=v.concat(new Array(C.length-v.length)));const U=this.canAddItem(v)&&!!F,z={canAdd:U,className:"field field-array field-array-fixed-items",disabled:u,idSchema:o,formData:r,items:h.map((q,x)=>{const{key:X,item:ne}=q,G=ne,Z=x>=C.length,M=(Z&&Ie(e.additionalItems)?w.retrieveSchema(e.additionalItems,G):C[x])||{},A=o.$id+a+x,V=w.toIdSchema(M,A,G,s,a),D=Z?n.additionalItems||{}:Array.isArray(n.items)?n.items[x]:n.items||{},S=i?i[x]:void 0;return this.renderArrayFieldItem({key:X,index:x,name:c&&`${c}-${x}`,title:$?`${$}-${x+1}`:void 0,canAdd:U,canRemove:Z,canMoveUp:x>=C.length+1,canMoveDown:Z&&x<v.length-1,itemSchema:M,itemData:G,itemUiSchema:D,itemIdSchema:V,itemErrorSchema:S,autofocus:p&&x===0,onBlur:y,onFocus:d,rawErrors:g,totalItems:h.length})}),onAddClick:this.onAddClick,readonly:f,required:m,registry:_,schema:e,uiSchema:n,title:$,formContext:E,errorSchema:i,rawErrors:g},N=le("ArrayFieldTemplate",_,b);return R.jsx(N,{...z})}renderArrayFieldItem(e){const{key:n,index:r,name:i,canAdd:s,canRemove:a=!0,canMoveUp:o,canMoveDown:c,itemSchema:l,itemData:u,itemUiSchema:f,itemIdSchema:p,itemErrorSchema:m,autofocus:_,onBlur:y,onFocus:d,rawErrors:g,totalItems:h,title:v}=e,{disabled:$,hideError:b,idPrefix:w,idSeparator:E,readonly:I,uiSchema:C,registry:F,formContext:U}=this.props,{fields:{ArraySchemaField:z,SchemaField:N},globalUiOptions:q}=F,x=z||N,{orderable:X=!0,removable:ne=!0,copyable:G=!1}=ie(C,q),Z={moveUp:X&&o,moveDown:X&&c,copy:G&&s,remove:ne&&a,toolbar:!1};return Z.toolbar=Object.keys(Z).some(M=>Z[M]),{children:R.jsx(x,{name:i,title:v,index:r,schema:l,uiSchema:f,formData:u,formContext:U,errorSchema:m,idPrefix:w,idSeparator:E,idSchema:p,required:this.isItemRequired(l),onChange:this.onChangeForIndex(r),onBlur:y,onFocus:d,registry:F,disabled:$,readonly:I,hideError:b,autofocus:_,rawErrors:g}),className:"array-item",disabled:$,canAdd:s,hasCopy:Z.copy,hasToolbar:Z.toolbar,hasMoveUp:Z.moveUp,hasMoveDown:Z.moveDown,hasRemove:Z.remove,index:r,totalItems:h,key:n,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:I,registry:F,schema:l,uiSchema:f}}}function fa(t){const{schema:e,name:n,uiSchema:r,idSchema:i,formData:s,registry:a,required:o,disabled:c,readonly:l,hideError:u,autofocus:f,title:p,onChange:m,onFocus:_,onBlur:y,rawErrors:d}=t,{title:g}=e,{widgets:h,formContext:v,translateString:$,globalUiOptions:b}=a,{widget:w="checkbox",title:E,label:I=!0,...C}=ie(r,b),F=xe(e,w,h),U=$(me.YesLabel),z=$(me.NoLabel);let N;const q=E??g??p??n;if(Array.isArray(e.oneOf))N=wt({oneOf:e.oneOf.map(x=>{if(Ie(x))return{...x,title:x.title||(x.const===!0?U:z)}}).filter(x=>x)},r);else{const x=e,X=e.enum??[!0,!1];!x.enumNames&&X.length===2&&X.every(ne=>typeof ne=="boolean")?N=[{value:X[0],label:X[0]?U:z},{value:X[1],label:X[1]?U:z}]:N=wt({enum:X,enumNames:x.enumNames},r)}return R.jsx(F,{options:{...C,enumOptions:N},schema:e,uiSchema:r,id:i.$id,name:n,onChange:m,onFocus:_,onBlur:y,label:q,hideLabel:!I,value:s,required:o,disabled:c,readonly:l,hideError:u,registry:a,formContext:v,autofocus:f,rawErrors:d})}class Fn extends re.Component{constructor(e){super(e);const{formData:n,options:r,registry:{schemaUtils:i}}=this.props,s=r.map(a=>i.retrieveSchema(a,n));this.state={retrievedOptions:s,selectedOption:this.getMatchingOption(0,n,s)}}componentDidUpdate(e,n){const{formData:r,options:i,idSchema:s}=this.props,{selectedOption:a}=this.state;let o=this.state;if(!pe(e.options,i)){const{registry:{schemaUtils:c}}=this.props,l=i.map(u=>c.retrieveSchema(u,r));o={selectedOption:a,retrievedOptions:l}}if(!pe(r,e.formData)&&s.$id===e.idSchema.$id){const{retrievedOptions:c}=o,l=this.getMatchingOption(a,r,c);n&&l!==a&&(o={selectedOption:l,retrievedOptions:c})}o!==this.state&&this.setState(o)}getMatchingOption(e,n,r){const{schema:i,registry:{schemaUtils:s}}=this.props,a=at(i);return s.getClosestMatchingOption(n,r,e,a)}onOptionChange=e=>{const{selectedOption:n,retrievedOptions:r}=this.state,{formData:i,onChange:s,registry:a}=this.props,{schemaUtils:o}=a,c=e!==void 0?parseInt(e,10):-1;if(c===n)return;const l=c>=0?r[c]:void 0,u=n>=0?r[n]:void 0;let f=o.sanitizeDataForNewSchema(l,u,i);l&&(f=o.getDefaultFormState(l,f,"excludeObjectChildren")),this.setState({selectedOption:c},()=>{s(f,void 0,this.getFieldId())})};getFieldId(){const{idSchema:e,schema:n}=this.props;return`${e.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:n=!1,errorSchema:r={},formContext:i,onBlur:s,onFocus:a,readonly:o,registry:c,schema:l,uiSchema:u}=this.props,{widgets:f,fields:p,translateString:m,globalUiOptions:_,schemaUtils:y}=c,{SchemaField:d}=p,{selectedOption:g,retrievedOptions:h}=this.state,{widget:v="select",placeholder:$,autofocus:b,autocomplete:w,title:E=l.title,...I}=ie(u,_),C=xe({type:"number"},v,f),F=Q(r,Ce,[]),U=vr(r,[Ce]),z=y.getDisplayLabel(l,u,_),N=g>=0&&h[g]||null;let q;if(N){const{required:M}=l;q=M?ze({required:M},N):N}let x=[];je in l&&u&&je in u?Array.isArray(u[je])?x=u[je]:console.warn(`uiSchema.oneOf is not an array for "${E||e}"`):Te in l&&u&&Te in u&&(Array.isArray(u[Te])?x=u[Te]:console.warn(`uiSchema.anyOf is not an array for "${E||e}"`));let X=u;g>=0&&x.length>g&&(X=x[g]);const ne=E?me.TitleOptionPrefix:me.OptionPrefix,G=E?[E]:[],Z=h.map((M,A)=>{const{title:V=M.title}=ie(x[A]);return{label:V||m(ne,G.concat(String(A+1))),value:A}});return R.jsxs("div",{className:"panel panel-default panel-body",children:[R.jsx("div",{className:"form-group",children:R.jsx(C,{id:this.getFieldId(),name:`${e}${l.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:a,disabled:n||ot(Z),multiple:!1,rawErrors:F,errorSchema:U,value:g>=0?g:void 0,options:{enumOptions:Z,...I},registry:c,formContext:i,placeholder:$,autocomplete:w,autofocus:b,label:E??e,hideLabel:!z,readonly:o})}),q&&q.type!=="null"&&R.jsx(d,{...this.props,schema:q,uiSchema:X})]})}}const ma=/\.([0-9]*0)*$/,ha=/[0.]0*$/;function pa(t){const{registry:e,onChange:n,formData:r,value:i}=t,[s,a]=re.useState(i),{StringField:o}=e.fields;let c=r;const l=re.useCallback((u,f,p)=>{a(u),`${u}`.charAt(0)==="."&&(u=`0${u}`);const m=typeof u=="string"&&u.match(ma)?bn(u.replace(ha,"")):bn(u);n(m,f,p)},[n]);if(typeof s=="string"&&typeof c=="number"){const u=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);s.match(u)&&(c=s)}return R.jsx(o,{...t,formData:c,onChange:l})}class ya extends re.Component{state={wasPropertyKeyModified:!1,additionalProperties:{}};isRequired(e){const{schema:n}=this.props;return Array.isArray(n.required)&&n.required.indexOf(e)!==-1}onPropertyChange=(e,n=!1)=>(r,i,s)=>{const{formData:a,onChange:o,errorSchema:c}=this.props;r===void 0&&n&&(r="");const l={...a,[e]:r};o(l,c&&c&&{...c,[e]:i},s)};onDropPropertyClick=e=>n=>{n.preventDefault();const{onChange:r,formData:i}=this.props,s={...i};ro(s,e),r(s)};getAvailableKey=(e,n)=>{const{uiSchema:r,registry:i}=this.props,{duplicateKeySuffixSeparator:s="-"}=ie(r,i.globalUiOptions);let a=0,o=e;for(;Ee(n,o);)o=`${e}${s}${++a}`;return o};onKeyChange=e=>(n,r)=>{if(e===n)return;const{formData:i,onChange:s,errorSchema:a}=this.props;n=this.getAvailableKey(n,i);const o={...i},c={[e]:n},l=Object.keys(o).map(f=>({[c[f]||f]:o[f]})),u=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),s(u,a&&a&&{...a,[n]:r})};getDefaultValue(e){const{registry:{translateString:n}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return n(me.NewStringDefault)}}handleAddClick=e=>()=>{if(!e.additionalProperties)return;const{formData:n,onChange:r,registry:i}=this.props,s={...n};let a,o,c;if(Ie(e.additionalProperties)){a=e.additionalProperties.type,o=e.additionalProperties.const,c=e.additionalProperties.default;let f=e.additionalProperties;if($e in f){const{schemaUtils:p}=i;f=p.retrieveSchema({$ref:f[$e]},n),a=f.type,o=f.const,c=f.default}!a&&(Te in f||je in f)&&(a="object")}const l=this.getAvailableKey("newKey",s),u=o??c??this.getDefaultValue(a);we(s,l,u),r(s)};render(){const{schema:e,uiSchema:n={},formData:r,errorSchema:i,idSchema:s,name:a,required:o=!1,disabled:c,readonly:l,hideError:u,idPrefix:f,idSeparator:p,onBlur:m,onFocus:_,registry:y,title:d}=this.props,{fields:g,formContext:h,schemaUtils:v,translateString:$,globalUiOptions:b}=y,{SchemaField:w}=g,E=v.retrieveSchema(e,r),I=ie(n,b),{properties:C={}}=E,F=I.title??E.title??d??a,U=I.description??E.description;let z;try{const x=Object.keys(C);z=sa(x,I.order)}catch(x){return R.jsxs("div",{children:[R.jsx("p",{className:"config-error",style:{color:"red"},children:R.jsx(Sr,{options:{disableParsingRawHTML:!0},children:$(me.InvalidObjectField,[a||"root",x.message])})}),R.jsx("pre",{children:JSON.stringify(E)})]})}const N=le("ObjectFieldTemplate",y,I),q={title:I.label===!1?"":F,description:I.label===!1?void 0:U,properties:z.map(x=>{const X=Ee(E,[ve,x,Et]),ne=X?n.additionalProperties:n[x],G=ie(ne).widget==="hidden",Z=Q(s,[x],{});return{content:R.jsx(w,{name:x,required:this.isRequired(x),schema:Q(E,[ve,x],{}),uiSchema:ne,errorSchema:Q(i,x),idSchema:Z,idPrefix:f,idSeparator:p,formData:Q(r,x),formContext:h,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(x),onChange:this.onPropertyChange(x,X),onBlur:m,onFocus:_,registry:y,disabled:c,readonly:l,hideError:u,onDropPropertyClick:this.onDropPropertyClick},x),name:x,readonly:l,disabled:c,required:o,hidden:G}}),readonly:l,disabled:c,required:o,idSchema:s,uiSchema:n,errorSchema:i,schema:E,formData:r,formContext:h,registry:y};return R.jsx(N,{...q,onAddClick:this.handleAddClick})}}const ga={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function va(t,e,n,r){const i=e.field,{fields:s,translateString:a}=r;if(typeof i=="function")return i;if(typeof i=="string"&&i in s)return s[i];const o=Le(t),c=Array.isArray(o)?o[0]:o||"",l=t.$id;let u=ga[c];return l&&l in s&&(u=l),!u&&(t.anyOf||t.oneOf)?()=>null:u in s?s[u]:()=>{const f=le("UnsupportedFieldTemplate",r,e);return R.jsx(f,{schema:t,idSchema:n,reason:a(me.UnknownFieldType,[String(t.type)]),registry:r})}}function _a(t){const{schema:e,idSchema:n,uiSchema:r,formData:i,errorSchema:s,idPrefix:a,idSeparator:o,name:c,onChange:l,onKeyChange:u,onDropPropertyClick:f,required:p,registry:m,wasPropertyKeyModified:_=!1}=t,{formContext:y,schemaUtils:d,globalUiOptions:g}=m,h=ie(r,g),v=le("FieldTemplate",m,h),$=le("DescriptionFieldTemplate",m,h),b=le("FieldHelpTemplate",m,h),w=le("FieldErrorTemplate",m,h),E=d.retrieveSchema(e,i),I=n[Ge],C=Ue(d.toIdSchema(E,I,i,a,o),n),F=re.useCallback((W,Y,ue)=>l(W,Y,ue||I),[I,l]),U=va(E,h,C,m),z=!!(h.disabled??t.disabled),N=!!(h.readonly??(t.readonly||t.schema.readOnly||E.readOnly)),q=h.hideError,x=q===void 0?t.hideError:!!q,X=!!(h.autofocus??t.autofocus);if(Object.keys(E).length===0)return null;const ne=d.getDisplayLabel(E,r,g),{__errors:G,...Z}=s||{},M=vr(r,["ui:classNames","classNames","ui:style"]);yt in M&&(M[yt]=vr(M[yt],["classNames","style"]));const A=R.jsx(U,{...t,onChange:F,idSchema:C,schema:E,uiSchema:M,disabled:z,readonly:N,hideError:x,autofocus:X,errorSchema:Z,formContext:y,rawErrors:G}),V=C[Ge];let D;_?D=c:D=Et in E?c:h.title||t.schema.title||E.title||t.title||c;const S=h.description||t.schema.description||E.description||"",O=h.enableMarkdownInDescription?R.jsx(Sr,{options:{disableParsingRawHTML:!0},children:S}):S,T=h.help,H=h.widget==="hidden",J=["form-group","field",`field-${Le(E)}`];!x&&G&&G.length>0&&J.push("field-error has-error has-danger"),r?.classNames&&J.push(r.classNames),h.classNames&&J.push(h.classNames);const K=R.jsx(b,{help:T,idSchema:C,schema:E,uiSchema:r,hasErrors:!x&&G&&G.length>0,registry:m}),B=x||(E.anyOf||E.oneOf)&&!d.isSelect(E)?void 0:R.jsx(w,{errors:G,errorSchema:s,idSchema:C,schema:E,uiSchema:r,registry:m}),P={description:R.jsx($,{id:Ot(V),description:O,schema:E,uiSchema:r,registry:m}),rawDescription:S,help:K,rawHelp:typeof T=="string"?T:void 0,errors:B,rawErrors:x?void 0:G,id:V,label:D,hidden:H,onChange:l,onKeyChange:u,onDropPropertyClick:f,required:p,disabled:z,readonly:N,hideError:x,displayLabel:ne,classNames:J.join(" ").trim(),style:h.style,formContext:y,formData:i,schema:E,uiSchema:r,registry:m},j=m.fields.AnyOfField,k=m.fields.OneOfField,L=r?.["ui:field"]&&r?.["ui:fieldReplacesAnyOrOneOf"]===!0;return R.jsx(v,{...P,children:R.jsxs(R.Fragment,{children:[A,E.anyOf&&!L&&!d.isSelect(E)&&R.jsx(j,{name:c,disabled:z,readonly:N,hideError:x,errorSchema:s,formData:i,formContext:y,idPrefix:a,idSchema:C,idSeparator:o,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:E.anyOf.map(W=>d.retrieveSchema(Ie(W)?W:{},i)),registry:m,required:p,schema:E,uiSchema:r}),E.oneOf&&!L&&!d.isSelect(E)&&R.jsx(k,{name:c,disabled:z,readonly:N,hideError:x,errorSchema:s,formData:i,formContext:y,idPrefix:a,idSchema:C,idSeparator:o,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:E.oneOf.map(W=>d.retrieveSchema(Ie(W)?W:{},i)),registry:m,required:p,schema:E,uiSchema:r})]})})}class $a extends re.Component{shouldComponentUpdate(e){return!pe(this.props,e)}render(){return R.jsx(_a,{...this.props})}}function ba(t){const{schema:e,name:n,uiSchema:r,idSchema:i,formData:s,required:a,disabled:o=!1,readonly:c=!1,autofocus:l=!1,onChange:u,onBlur:f,onFocus:p,registry:m,rawErrors:_,hideError:y}=t,{title:d,format:g}=e,{widgets:h,formContext:v,schemaUtils:$,globalUiOptions:b}=m,w=$.isSelect(e)?wt(e,r):void 0;let E=w?"select":"text";g&&ta(e,g,h)&&(E=g);const{widget:I=E,placeholder:C="",title:F,...U}=ie(r),z=$.getDisplayLabel(e,r,b),N=F??d??n,q=xe(e,I,h);return R.jsx(q,{options:{...U,enumOptions:w},schema:e,uiSchema:r,id:i.$id,name:n,label:N,hideLabel:!z,hideError:y,value:s,onChange:u,onBlur:f,onFocus:p,required:a,disabled:o,readonly:c,formContext:v,autofocus:l,registry:m,placeholder:C,rawErrors:_})}function wa(t){const{formData:e,onChange:n}=t;return re.useEffect(()=>{e===void 0&&n(null)},[e,n]),null}function Sa(){return{AnyOfField:Fn,ArrayField:da,BooleanField:fa,NumberField:pa,ObjectField:ya,OneOfField:Fn,SchemaField:$a,StringField:ba,NullField:wa}}function Ea(t){const{idSchema:e,description:n,registry:r,schema:i,uiSchema:s}=t,a=ie(s,r.globalUiOptions),{label:o=!0}=a;if(!n||!o)return null;const c=le("DescriptionFieldTemplate",r,a);return R.jsx(c,{id:Ot(e),description:n,schema:i,uiSchema:s,registry:r})}function Pa(t){const{children:e,className:n,disabled:r,hasToolbar:i,hasMoveDown:s,hasMoveUp:a,hasRemove:o,hasCopy:c,index:l,onCopyIndexClick:u,onDropIndexClick:f,onReorderClick:p,readonly:m,registry:_,uiSchema:y}=t,{CopyButton:d,MoveDownButton:g,MoveUpButton:h,RemoveButton:v}=_.templates.ButtonTemplates,$={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return R.jsxs("div",{className:n,children:[R.jsx("div",{className:i?"col-xs-9":"col-xs-12",children:e}),i&&R.jsx("div",{className:"col-xs-3 array-item-toolbox",children:R.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(a||s)&&R.jsx(h,{style:$,disabled:r||m||!a,onClick:p(l,l-1),uiSchema:y,registry:_}),(a||s)&&R.jsx(g,{style:$,disabled:r||m||!s,onClick:p(l,l+1),uiSchema:y,registry:_}),c&&R.jsx(d,{style:$,disabled:r||m,onClick:u(l),uiSchema:y,registry:_}),o&&R.jsx(v,{style:$,disabled:r||m,onClick:f(l),uiSchema:y,registry:_})]})})]})}function Oa(t){const{canAdd:e,className:n,disabled:r,idSchema:i,uiSchema:s,items:a,onAddClick:o,readonly:c,registry:l,required:u,schema:f,title:p}=t,m=ie(s),_=le("ArrayFieldDescriptionTemplate",l,m),y=le("ArrayFieldItemTemplate",l,m),d=le("ArrayFieldTitleTemplate",l,m),{ButtonTemplates:{AddButton:g}}=l.templates;return R.jsxs("fieldset",{className:n,id:i.$id,children:[R.jsx(d,{idSchema:i,title:m.title||p,required:u,schema:f,uiSchema:s,registry:l}),R.jsx(_,{idSchema:i,description:m.description||f.description,schema:f,uiSchema:s,registry:l}),R.jsx("div",{className:"row array-item-list",children:a&&a.map(({key:h,...v})=>R.jsx(y,{...v},h))}),e&&R.jsx(g,{className:"array-item-add",onClick:o,disabled:r||c,uiSchema:s,registry:l})]})}function Ca(t){const{idSchema:e,title:n,schema:r,uiSchema:i,required:s,registry:a}=t,o=ie(i,a.globalUiOptions),{label:c=!0}=o;if(!n||!c)return null;const l=le("TitleFieldTemplate",a,o);return R.jsx(l,{id:Ei(e),title:n,required:s,schema:r,uiSchema:i,registry:a})}function ja(t){const{id:e,name:n,value:r,readonly:i,disabled:s,autofocus:a,onBlur:o,onFocus:c,onChange:l,onChangeOverride:u,options:f,schema:p,uiSchema:m,formContext:_,registry:y,rawErrors:d,type:g,hideLabel:h,hideError:v,...$}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const b={...$,...Go(p,g,f)};let w;b.type==="number"||b.type==="integer"?w=r||r===0?r:"":w=r??"";const E=re.useCallback(({target:{value:F}})=>l(F===""?f.emptyValue:F),[l,f]),I=re.useCallback(({target:F})=>o(e,F&&F.value),[o,e]),C=re.useCallback(({target:F})=>c(e,F&&F.value),[c,e]);return R.jsxs(R.Fragment,{children:[R.jsx("input",{id:e,name:e,className:"form-control",readOnly:i,disabled:s,autoFocus:a,value:w,...b,list:p.examples?en(e):void 0,onChange:u||E,onBlur:I,onFocus:C,"aria-describedby":rt(e,!!p.examples)}),Array.isArray(p.examples)&&R.jsx("datalist",{id:en(e),children:p.examples.concat(p.default&&!p.examples.includes(p.default)?[p.default]:[]).map(F=>R.jsx("option",{value:F},F))},`datalist_${e}`)]})}function Na({uiSchema:t}){const{submitText:e,norender:n,props:r={}}=Jo(t);return n?null:R.jsx("div",{children:R.jsx("button",{type:"submit",...r,className:`btn btn-info ${r.className||""}`,children:e})})}function Ct(t){const{iconType:e="default",icon:n,className:r,uiSchema:i,registry:s,...a}=t;return R.jsx("button",{type:"button",className:`btn btn-${e} ${r}`,...a,children:R.jsx("i",{className:`glyphicon glyphicon-${n}`})})}function Ia(t){const{registry:{translateString:e}}=t;return R.jsx(Ct,{title:e(me.CopyButton),className:"array-item-copy",...t,icon:"copy"})}function Aa(t){const{registry:{translateString:e}}=t;return R.jsx(Ct,{title:e(me.MoveDownButton),className:"array-item-move-down",...t,icon:"arrow-down"})}function Ra(t){const{registry:{translateString:e}}=t;return R.jsx(Ct,{title:e(me.MoveUpButton),className:"array-item-move-up",...t,icon:"arrow-up"})}function Ta(t){const{registry:{translateString:e}}=t;return R.jsx(Ct,{title:e(me.RemoveButton),className:"array-item-remove",...t,iconType:"danger",icon:"remove"})}function Da({className:t,onClick:e,disabled:n,registry:r}){const{translateString:i}=r;return R.jsx("div",{className:"row",children:R.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${t}`,children:R.jsx(Ct,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:i(me.AddButton),onClick:e,disabled:n,registry:r})})})}function Fa(){return{SubmitButton:Na,AddButton:Da,CopyButton:Ia,MoveDownButton:Aa,MoveUpButton:Ra,RemoveButton:Ta}}function ka(t){const{id:e,description:n}=t;return n?typeof n=="string"?R.jsx("p",{id:e,className:"field-description",children:n}):R.jsx("div",{id:e,className:"field-description",children:n}):null}function qa({errors:t,registry:e}){const{translateString:n}=e;return R.jsxs("div",{className:"panel panel-danger errors",children:[R.jsx("div",{className:"panel-heading",children:R.jsx("h3",{className:"panel-title",children:n(me.ErrorsLabel)})}),R.jsx("ul",{className:"list-group",children:t.map((r,i)=>R.jsx("li",{className:"list-group-item text-danger",children:r.stack},i))})]})}const Ma="*";function Oi(t){const{label:e,required:n,id:r}=t;return e?R.jsxs("label",{className:"control-label",htmlFor:r,children:[e,n&&R.jsx("span",{className:"required",children:Ma})]}):null}function Va(t){const{id:e,label:n,children:r,errors:i,help:s,description:a,hidden:o,required:c,displayLabel:l,registry:u,uiSchema:f}=t,p=ie(f),m=le("WrapIfAdditionalTemplate",u,p);return o?R.jsx("div",{className:"hidden",children:r}):R.jsxs(m,{...t,children:[l&&R.jsx(Oi,{label:n,required:c,id:e}),l&&a?a:null,r,i,s]})}function Ua(t){const{errors:e=[],idSchema:n}=t;if(e.length===0)return null;const r=wi(n);return R.jsx("div",{children:R.jsx("ul",{id:r,className:"error-detail bs-callout bs-callout-info",children:e.filter(i=>!!i).map((i,s)=>R.jsx("li",{className:"text-danger",children:i},s))})})}function xa(t){const{idSchema:e,help:n}=t;if(!n)return null;const r=Si(e);return typeof n=="string"?R.jsx("p",{id:r,className:"help-block",children:n}):R.jsx("div",{id:r,className:"help-block",children:n})}function Ka(t){const{description:e,disabled:n,formData:r,idSchema:i,onAddClick:s,properties:a,readonly:o,registry:c,required:l,schema:u,title:f,uiSchema:p}=t,m=ie(p),_=le("TitleFieldTemplate",c,m),y=le("DescriptionFieldTemplate",c,m),{ButtonTemplates:{AddButton:d}}=c.templates;return R.jsxs("fieldset",{id:i.$id,children:[f&&R.jsx(_,{id:Ei(i),title:f,required:l,schema:u,uiSchema:p,registry:c}),e&&R.jsx(y,{id:Ot(i),description:e,schema:u,uiSchema:p,registry:c}),a.map(g=>g.content),mo(u,p,r)&&R.jsx(d,{className:"object-property-expand",onClick:s(u),disabled:n||o,uiSchema:p,registry:c})]})}const La="*";function za(t){const{id:e,title:n,required:r}=t;return R.jsxs("legend",{id:e,children:[n,r&&R.jsx("span",{className:"required",children:La})]})}function Ba(t){const{schema:e,idSchema:n,reason:r,registry:i}=t,{translateString:s}=i;let a=me.UnsupportedField;const o=[];return n&&n.$id&&(a=me.UnsupportedFieldWithId,o.push(n.$id)),r&&(a=a===me.UnsupportedField?me.UnsupportedFieldWithReason:me.UnsupportedFieldWithIdAndReason,o.push(r)),R.jsxs("div",{className:"unsupported-field",children:[R.jsx("p",{children:R.jsx(Sr,{options:{disableParsingRawHTML:!0},children:s(a,o)})}),e&&R.jsx("pre",{children:JSON.stringify(e,null,2)})]})}function Wa(t){const{id:e,classNames:n,style:r,disabled:i,label:s,onKeyChange:a,onDropPropertyClick:o,readonly:c,required:l,schema:u,children:f,uiSchema:p,registry:m}=t,{templates:_,translateString:y}=m,{RemoveButton:d}=_.ButtonTemplates,g=y(me.KeyLabel,[s]);return Et in u?R.jsx("div",{className:n,style:r,children:R.jsxs("div",{className:"row",children:[R.jsx("div",{className:"col-xs-5 form-additional",children:R.jsxs("div",{className:"form-group",children:[R.jsx(Oi,{label:g,required:l,id:`${e}-key`}),R.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:({target:v})=>a(v&&v.value),defaultValue:s})]})}),R.jsx("div",{className:"form-additional form-group col-xs-5",children:f}),R.jsx("div",{className:"col-xs-2",children:R.jsx(d,{className:"array-item-remove btn-block",style:{border:"0"},disabled:i||c,onClick:o(s),uiSchema:p,registry:m})})]})}):R.jsx("div",{className:n,style:r,children:f})}function Ga(){return{ArrayFieldDescriptionTemplate:Ea,ArrayFieldItemTemplate:Pa,ArrayFieldTemplate:Oa,ArrayFieldTitleTemplate:Ca,ButtonTemplates:Fa(),BaseInputTemplate:ja,DescriptionFieldTemplate:ka,ErrorListTemplate:qa,FieldTemplate:Va,FieldErrorTemplate:Ua,FieldHelpTemplate:xa,ObjectFieldTemplate:Ka,TitleFieldTemplate:za,UnsupportedFieldTemplate:Ba,WrapIfAdditionalTemplate:Wa}}function Ja(t){return Object.values(t).every(e=>e!==-1)}function Ha({type:t,range:e,value:n,select:r,rootId:i,name:s,disabled:a,readonly:o,autofocus:c,registry:l,onBlur:u,onFocus:f}){const p=i+"_"+t,{SelectWidget:m}=l.widgets;return R.jsx(m,{schema:{type:"integer"},id:p,name:s,className:"form-control",options:{enumOptions:bi(e[0],e[1])},placeholder:t,value:n,disabled:a,readonly:o,autofocus:c,onChange:_=>r(t,_),onBlur:u,onFocus:f,registry:l,label:"","aria-describedby":rt(i)})}function Ya({time:t=!1,disabled:e=!1,readonly:n=!1,autofocus:r=!1,options:i,id:s,name:a,registry:o,onBlur:c,onFocus:l,onChange:u,value:f}){const{translateString:p}=o,[m,_]=re.useState(f),[y,d]=re.useReducer(($,b)=>({...$,...b}),Vr(f,t));re.useEffect(()=>{const $=Tn(y,t);Ja(y)&&$!==f?u($):m!==f&&(_(f),d(Vr(f,t)))},[t,f,u,y,m]);const g=re.useCallback(($,b)=>{d({[$]:b})},[]),h=re.useCallback($=>{if($.preventDefault(),e||n)return;const b=Vr(new Date().toJSON(),t);u(Tn(b,t))},[e,n,t]),v=re.useCallback($=>{$.preventDefault(),!(e||n)&&u(void 0)},[e,n,u]);return R.jsxs("ul",{className:"list-inline",children:[Bo(y,t,i.yearsRange,i.format).map(($,b)=>R.jsx("li",{className:"list-inline-item",children:R.jsx(Ha,{rootId:s,name:a,select:g,...$,disabled:e,readonly:n,registry:o,onBlur:c,onFocus:l,autofocus:r&&b===0})},b)),(i.hideNowButton!=="undefined"?!i.hideNowButton:!0)&&R.jsx("li",{className:"list-inline-item",children:R.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:h,children:p(me.NowLabel)})}),(i.hideClearButton!=="undefined"?!i.hideClearButton:!0)&&R.jsx("li",{className:"list-inline-item",children:R.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:v,children:p(me.ClearLabel)})})]})}function Qa({time:t=!0,...e}){const{AltDateWidget:n}=e.registry.widgets;return R.jsx(n,{time:t,...e})}function Xa({schema:t,uiSchema:e,options:n,id:r,value:i,disabled:s,readonly:a,label:o,hideLabel:c,autofocus:l=!1,onBlur:u,onFocus:f,onChange:p,registry:m}){const _=le("DescriptionFieldTemplate",m,n),y=yr(t),d=re.useCallback($=>p($.target.checked),[p]),g=re.useCallback($=>u(r,$.target.checked),[u,r]),h=re.useCallback($=>f(r,$.target.checked),[f,r]),v=n.description??t.description;return R.jsxs("div",{className:`checkbox ${s||a?"disabled":""}`,children:[!c&&!!v&&R.jsx(_,{id:Ot(r),description:v,schema:t,uiSchema:e,registry:m}),R.jsxs("label",{children:[R.jsx("input",{type:"checkbox",id:r,name:r,checked:typeof i>"u"?!1:i,required:y,disabled:s||a,autoFocus:l,onChange:d,onBlur:g,onFocus:h,"aria-describedby":rt(r)}),ra(R.jsx("span",{children:o}),c)]})]})}function Za({id:t,disabled:e,options:{inline:n=!1,enumOptions:r,enumDisabled:i,emptyValue:s},value:a,autofocus:o=!1,readonly:c,onChange:l,onBlur:u,onFocus:f}){const p=Array.isArray(a)?a:[a],m=re.useCallback(({target:y})=>u(t,ke(y&&y.value,r,s)),[u,t]),_=re.useCallback(({target:y})=>f(t,ke(y&&y.value,r,s)),[f,t]);return R.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(r)&&r.map((y,d)=>{const g=mn(y.value,p),h=Array.isArray(i)&&i.indexOf(y.value)!==-1,v=e||h||c?"disabled":"",$=w=>{w.target.checked?l(Lo(d,p,r)):l(xo(d,p,r))},b=R.jsxs("span",{children:[R.jsx("input",{type:"checkbox",id:Pi(t,d),name:t,checked:g,value:String(d),disabled:e||h||c,autoFocus:o&&d===0,onChange:$,onBlur:m,onFocus:_,"aria-describedby":rt(t)}),R.jsx("span",{children:y.label})]});return n?R.jsx("label",{className:`checkbox-inline ${v}`,children:b},d):R.jsx("div",{className:`checkbox ${v}`,children:R.jsx("label",{children:b})},d)})})}function ec(t){const{disabled:e,readonly:n,options:r,registry:i}=t,s=le("BaseInputTemplate",i,r);return R.jsx(s,{type:"color",...t,disabled:e||n})}function tc(t){const{onChange:e,options:n,registry:r}=t,i=le("BaseInputTemplate",r,n),s=re.useCallback(a=>e(a||void 0),[e]);return R.jsx(i,{type:"date",...t,onChange:s})}function rc(t){const{onChange:e,value:n,options:r,registry:i}=t,s=le("BaseInputTemplate",i,r);return R.jsx(s,{type:"datetime-local",...t,value:aa(n),onChange:a=>e(na(a))})}function nc(t){const{options:e,registry:n}=t,r=le("BaseInputTemplate",n,e);return R.jsx(r,{type:"email",...t})}function sc(t,e){return t===null?null:t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function ic(t){const{name:e,size:n,type:r}=t;return new Promise((i,s)=>{const a=new window.FileReader;a.onerror=s,a.onload=o=>{typeof o.target?.result=="string"?i({dataURL:sc(o.target.result,e),name:e,size:n,type:r}):i({dataURL:null,name:e,size:n,type:r})},a.readAsDataURL(t)})}function oc(t){return Promise.all(Array.from(t).map(ic))}function ac({fileInfo:t,registry:e}){const{translateString:n}=e,{dataURL:r,type:i,name:s}=t;return r?["image/jpeg","image/png"].includes(i)?R.jsx("img",{src:r,style:{maxWidth:"100%"},className:"file-preview"}):R.jsxs(R.Fragment,{children:[" ",R.jsx("a",{download:`preview-${s}`,href:r,className:"file-download",children:n(me.PreviewLabel)})]}):null}function cc({filesInfo:t,registry:e,preview:n,onRemove:r,options:i}){if(t.length===0)return null;const{translateString:s}=e,{RemoveButton:a}=le("ButtonTemplates",e,i);return R.jsx("ul",{className:"file-info",children:t.map((o,c)=>{const{name:l,size:u,type:f}=o,p=()=>r(c);return R.jsxs("li",{children:[R.jsx(Sr,{children:s(me.FilesInfo,[l,f,String(u)])}),n&&R.jsx(ac,{fileInfo:o,registry:e}),R.jsx(a,{onClick:p,registry:e})]},c)})})}function lc(t){return t.reduce((e,n)=>{if(!n)return e;try{const{blob:r,name:i}=Mo(n);return[...e,{dataURL:n,name:i,size:r.size,type:r.type}]}catch{return e}},[])}function uc(t){const{disabled:e,readonly:n,required:r,multiple:i,onChange:s,value:a,options:o,registry:c}=t,l=le("BaseInputTemplate",c,o),u=re.useCallback(m=>{m.target.files&&oc(m.target.files).then(_=>{const y=_.map(d=>d.dataURL);s(i?a.concat(y):y[0])})},[i,a,s]),f=re.useMemo(()=>lc(Array.isArray(a)?a:[a]),[a]),p=re.useCallback(m=>{if(i){const _=a.filter((y,d)=>d!==m);s(_)}else s(void 0)},[i,a,s]);return R.jsxs("div",{children:[R.jsx(l,{...t,disabled:e||n,type:"file",required:a?!1:r,onChangeOverride:u,value:"",accept:o.accept?String(o.accept):void 0}),R.jsx(cc,{filesInfo:f,onRemove:p,registry:c,preview:o.filePreview,options:o})]})}function dc({id:t,value:e}){return R.jsx("input",{type:"hidden",id:t,name:t,value:typeof e>"u"?"":e})}function fc(t){const{options:e,registry:n}=t,r=le("BaseInputTemplate",n,e);return R.jsx(r,{type:"password",...t})}function mc({options:t,value:e,required:n,disabled:r,readonly:i,autofocus:s=!1,onBlur:a,onFocus:o,onChange:c,id:l}){const{enumOptions:u,enumDisabled:f,inline:p,emptyValue:m}=t,_=re.useCallback(({target:d})=>a(l,ke(d&&d.value,u,m)),[a,l]),y=re.useCallback(({target:d})=>o(l,ke(d&&d.value,u,m)),[o,l]);return R.jsx("div",{className:"field-radio-group",id:l,children:Array.isArray(u)&&u.map((d,g)=>{const h=mn(d.value,e),v=Array.isArray(f)&&f.indexOf(d.value)!==-1,$=r||v||i?"disabled":"",b=()=>c(d.value),w=R.jsxs("span",{children:[R.jsx("input",{type:"radio",id:Pi(l,g),checked:h,name:l,required:n,value:String(g),disabled:r||v||i,autoFocus:s&&g===0,onChange:b,onBlur:_,onFocus:y,"aria-describedby":rt(l)}),R.jsx("span",{children:d.label})]});return p?R.jsx("label",{className:`radio-inline ${$}`,children:w},g):R.jsx("div",{className:`radio ${$}`,children:R.jsx("label",{children:w})},g)})})}function hc(t){const{value:e,registry:{templates:{BaseInputTemplate:n}}}=t;return R.jsxs("div",{className:"field-range-wrapper",children:[R.jsx(n,{type:"range",...t}),R.jsx("span",{className:"range-view",children:e})]})}function Ur(t,e){return e?Array.from(t.target.options).slice().filter(n=>n.selected).map(n=>n.value):t.target.value}function pc({schema:t,id:e,options:n,value:r,required:i,disabled:s,readonly:a,multiple:o=!1,autofocus:c=!1,onChange:l,onBlur:u,onFocus:f,placeholder:p}){const{enumOptions:m,enumDisabled:_,emptyValue:y}=n,d=o?[]:"",g=re.useCallback(w=>{const E=Ur(w,o);return f(e,ke(E,m,y))},[f,e,t,o,m,y]),h=re.useCallback(w=>{const E=Ur(w,o);return u(e,ke(E,m,y))},[u,e,t,o,m,y]),v=re.useCallback(w=>{const E=Ur(w,o);return l(ke(E,m,y))},[l,t,o,m,y]),$=Ko(r,m,o),b=!o&&t.default===void 0;return R.jsxs("select",{id:e,name:e,multiple:o,className:"form-control",value:typeof $>"u"?d:$,required:i,disabled:s||a,autoFocus:c,onBlur:h,onFocus:g,onChange:v,"aria-describedby":rt(e),children:[b&&R.jsx("option",{value:"",children:p}),Array.isArray(m)&&m.map(({value:w,label:E},I)=>{const C=_&&_.indexOf(w)!==-1;return R.jsx("option",{value:String(I),disabled:C,children:E},I)})]})}function Ci({id:t,options:e={},placeholder:n,value:r,required:i,disabled:s,readonly:a,autofocus:o=!1,onChange:c,onBlur:l,onFocus:u}){const f=re.useCallback(({target:{value:_}})=>c(_===""?e.emptyValue:_),[c,e.emptyValue]),p=re.useCallback(({target:_})=>l(t,_&&_.value),[l,t]),m=re.useCallback(({target:_})=>u(t,_&&_.value),[t,u]);return R.jsx("textarea",{id:t,name:t,className:"form-control",value:r||"",placeholder:n,required:i,disabled:s,readOnly:a,autoFocus:o,rows:e.rows,onBlur:p,onFocus:m,onChange:f,"aria-describedby":rt(t)})}Ci.defaultProps={autofocus:!1,options:{}};function yc(t){const{options:e,registry:n}=t,r=le("BaseInputTemplate",n,e);return R.jsx(r,{...t})}function gc(t){const{onChange:e,options:n,registry:r}=t,i=le("BaseInputTemplate",r,n),s=re.useCallback(a=>e(a?`${a}:00`:void 0),[e]);return R.jsx(i,{type:"time",...t,onChange:s})}function vc(t){const{options:e,registry:n}=t,r=le("BaseInputTemplate",n,e);return R.jsx(r,{type:"url",...t})}function _c(t){const{options:e,registry:n}=t,r=le("BaseInputTemplate",n,e);return R.jsx(r,{type:"number",...t})}function $c(){return{AltDateWidget:Ya,AltDateTimeWidget:Qa,CheckboxWidget:Xa,CheckboxesWidget:Za,ColorWidget:ec,DateWidget:tc,DateTimeWidget:rc,EmailWidget:nc,FileWidget:uc,HiddenWidget:dc,PasswordWidget:fc,RadioWidget:mc,RangeWidget:hc,SelectWidget:pc,TextWidget:yc,TextareaWidget:Ci,TimeWidget:gc,UpDownWidget:_c,URLWidget:vc}}function bc(){return{fields:Sa(),templates:Ga(),widgets:$c(),rootSchema:{},formContext:{},translateString:Uo}}class Ul extends re.Component{formElement;constructor(e){if(super(e),!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!pe(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=re.createRef()}getSnapshotBeforeUpdate(e,n){if(!pe(this.props,e)){const r=ua(this.props.formData,e.formData),i=!pe(e.schema,this.props.schema),s=r.length>0||!pe(e.formData,this.props.formData),a=this.getStateFromProps(this.props,this.props.formData,i||s?void 0:this.state.retrievedSchema,i,r),o=!pe(a,n);return{nextState:a,shouldUpdate:o}}return{shouldUpdate:!1}}componentDidUpdate(e,n,r){if(r.shouldUpdate){const{nextState:i}=r;!pe(i.formData,this.props.formData)&&!pe(i.formData,n.formData)&&this.props.onChange&&this.props.onChange(i),this.setState(i)}}getStateFromProps(e,n,r,i=!1,s=[]){const a=this.state||{},o="schema"in e?e.schema:this.props.schema,c=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},l=typeof n<"u",u="liveValidate"in e?e.liveValidate:this.props.liveValidate,f=l&&!e.noValidate&&u,p=o,m="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,_="experimental_customMergeAllOf"in e?e.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let y=a.schemaUtils;(!y||y.doesSchemaUtilsDiffer(e.validator,p,m,_))&&(y=qo(e.validator,p,m,_));const d=y.getDefaultFormState(o,n),g=this.updateRetrievedSchema(r??y.retrieveSchema(o,d)),h=()=>e.noValidate||i?{errors:[],errorSchema:{}}:e.liveValidate?{errors:a.errors||[],errorSchema:a.errorSchema||{}}:{errors:a.schemaValidationErrors||[],errorSchema:a.schemaValidationErrorSchema||{}};let v,$,b=a.schemaValidationErrors,w=a.schemaValidationErrorSchema;if(f){const C=this.validate(d,o,y,g);v=C.errors,r===void 0?$=C.errorSchema:$=Ue(this.state?.errorSchema,C.errorSchema,"preventDuplicates"),b=v,w=$}else{const C=h();if(v=C.errors,$=C.errorSchema,s.length>0){const F=s.reduce((U,z)=>(U[z]=void 0,U),{});$=w=Ue(C.errorSchema,F,"preventDuplicates")}}if(e.extraErrors){const C=gr({errorSchema:$,errors:v},e.extraErrors);$=C.errorSchema,v=C.errors}const E=y.toIdSchema(g,c["ui:rootFieldId"],d,e.idPrefix,e.idSeparator);return{schemaUtils:y,schema:o,uiSchema:c,idSchema:E,formData:d,edit:l,errors:v,errorSchema:$,schemaValidationErrors:b,schemaValidationErrorSchema:w,retrievedSchema:g}}shouldComponentUpdate(e,n){return ia(this,e,n)}getPreviousCustomValidateErrors(){const{customValidate:e,uiSchema:n}=this.props,r=this.state.formData;let i={};if(typeof e=="function"){const s=e(r,$r(r),n);i=hn(s)}return i}validate(e,n=this.props.schema,r,i){const s=r||this.state.schemaUtils,{customValidate:a,transformErrors:o,uiSchema:c}=this.props,l=i??s.retrieveSchema(n,e);return s.getValidator().validateFormData(e,l,a,o,c)}renderErrors(e){const{errors:n,errorSchema:r,schema:i,uiSchema:s}=this.state,{formContext:a}=this.props,o=ie(s),c=le("ErrorListTemplate",e,o);return n&&n.length?R.jsx(c,{errors:n,errorSchema:r||{},schema:i,uiSchema:s,formContext:a,registry:e}):null}getUsedFormData=(e,n)=>{if(n.length===0&&typeof e!="object")return e;const r=$n(e,n);return Array.isArray(e)?Object.keys(r).map(i=>r[i]):r};getFieldNames=(e,n)=>{const r=(i,s=[],a=[[]])=>(Object.keys(i).forEach(o=>{if(typeof i[o]=="object"){const c=a.map(l=>[...l,o]);i[o][on]&&i[o][hr]!==""?s.push(i[o][hr]):r(i[o],s,c)}else o===hr&&i[o]!==""&&a.forEach(c=>{const l=Q(n,c);(typeof l!="object"||ot(l)||Array.isArray(l)&&l.every(u=>typeof u!="object"))&&s.push(c)})}),s);return r(e)};omitExtraData=e=>{const{schema:n,schemaUtils:r}=this.state,i=r.retrieveSchema(n,e),s=r.toPathSchema(i,"",e),a=this.getFieldNames(s,e);return this.getUsedFormData(e,a)};filterErrorsBasedOnSchema(e,n,r){const{retrievedSchema:i,schemaUtils:s}=this.state,a=n??i,o=s.toPathSchema(a,"",r),c=this.getFieldNames(o,r),l=$n(e,c);n?.type!=="object"&&n?.type!=="array"&&(l.__errors=e.__errors);const u=this.getPreviousCustomValidateErrors(),f=(m=[],_)=>m.length===0?m:m.filter(y=>!_.includes(y)),p=(m,_={})=>(no(m,(y,d)=>{const g=_[d];pt(y)||Array.isArray(y)&&y.length===0?delete m[d]:oe(y)&&oe(g)&&Array.isArray(g?.__errors)?m[d]=f(y.__errors,g.__errors):typeof y=="object"&&!Array.isArray(y.__errors)&&p(y,_[d])}),m);return p(l,u)}onChange=(e,n,r)=>{const{extraErrors:i,omitExtraData:s,liveOmit:a,noValidate:o,liveValidate:c,onChange:l}=this.props,{schemaUtils:u,schema:f}=this.state;let p=this.state.retrievedSchema;if(oe(e)||Array.isArray(e)){const d=this.getStateFromProps(this.props,e);e=d.formData,p=d.retrievedSchema}const m=!o&&c;let _={formData:e,schema:f},y=e;if(s===!0&&a===!0&&(y=this.omitExtraData(e),_={formData:y}),m){const d=this.validate(y,f,u,p);let g=d.errors,h=d.errorSchema;const v=g,$=h;if(i){const b=gr(d,i);h=b.errorSchema,g=b.errors}if(n){const b=this.filterErrorsBasedOnSchema(n,p,y);h=Ue(h,b,"preventDuplicates")}_={formData:y,errors:g,errorSchema:h,schemaValidationErrors:v,schemaValidationErrorSchema:$}}else if(!o&&n){const d=i?Ue(n,i,"preventDuplicates"):n;_={formData:y,errorSchema:d,errors:St(d)}}this.setState(_,()=>l&&l({...this.state,..._},r))};updateRetrievedSchema(e){return pe(e,this.state?.retrievedSchema)?this.state.retrievedSchema:e}reset=()=>{const{onChange:e}=this.props,i={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(i,()=>e&&e({...this.state,...i}))};onBlur=(e,n)=>{const{onBlur:r}=this.props;r&&r(e,n)};onFocus=(e,n)=>{const{onFocus:r}=this.props;r&&r(e,n)};onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:n,extraErrors:r,noValidate:i,onSubmit:s}=this.props;let{formData:a}=this.state;if(n===!0&&(a=this.omitExtraData(a)),i||this.validateFormWithFormData(a)){const o=r||{},c=r?St(r):[];this.setState({formData:a,errors:c,errorSchema:o,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{s&&s({...this.state,formData:a,status:"submitted"},e)})}};getRegistry(){const{translateString:e,uiSchema:n={}}=this.props,{schemaUtils:r}=this.state,{fields:i,templates:s,widgets:a,formContext:o,translateString:c}=bc();return{fields:{...i,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...this.props.templates?.ButtonTemplates}},widgets:{...a,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||o,schemaUtils:r,translateString:e||c,globalUiOptions:n[fo]}}submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}};focusOnError(e){const{idPrefix:n="root",idSeparator:r="_"}=this.props,{property:i}=e,s=ii(i);s[0]===""?s[0]=n:s.unshift(n);const a=s.join(r);let o=this.formElement.current.elements[a];o||(o=this.formElement.current.querySelector(`input[id^="${a}"`)),o&&o.length&&(o=o[0]),o&&o.focus()}validateFormWithFormData=e=>{const{extraErrors:n,extraErrorsBlockSubmit:r,focusOnFirstError:i,onError:s}=this.props,{errors:a}=this.state,o=this.validate(e);let c=o.errors,l=o.errorSchema;const u=c,f=l,p=c.length>0||n&&r;if(p){if(n){const m=gr(o,n);l=m.errorSchema,c=m.errors}i&&(typeof i=="function"?i(c[0]):this.focusOnError(c[0])),this.setState({errors:c,errorSchema:l,schemaValidationErrors:u,schemaValidationErrorSchema:f},()=>{s?s(c):console.error("Form validation failed",c)})}else a.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!p};validateForm(){const{omitExtraData:e}=this.props;let{formData:n}=this.state;return e===!0&&(n=this.omitExtraData(n)),this.validateFormWithFormData(n)}render(){const{children:e,id:n,idPrefix:r,idSeparator:i,className:s="",tagName:a,name:o,method:c,target:l,action:u,autoComplete:f,enctype:p,acceptcharset:m,acceptCharset:_,noHtml5Validate:y=!1,disabled:d,readonly:g,formContext:h,showErrorList:v="top",_internalFormWrapper:$}=this.props,{schema:b,uiSchema:w,formData:E,errorSchema:I,idSchema:C}=this.state,F=this.getRegistry(),{SchemaField:U}=F.fields,{SubmitButton:z}=F.templates.ButtonTemplates,N=$?a:void 0,q=$||a||"form";let{[_r]:x={}}=ie(w);d&&(x={...x,props:{...x.props,disabled:!0}});const X={[yt]:{[_r]:x}};return R.jsxs(q,{className:s||"rjsf",id:n,name:o,method:c,target:l,action:u,autoComplete:f,encType:p,acceptCharset:_||m,noValidate:y,onSubmit:this.onSubmit,as:N,ref:this.formElement,children:[v==="top"&&this.renderErrors(F),R.jsx(U,{name:"",schema:b,uiSchema:w,errorSchema:I,idSchema:C,idPrefix:r,idSeparator:i,formContext:h,formData:E,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:F,disabled:d,readonly:g}),e||R.jsx(z,{uiSchema:X,registry:F}),v==="bottom"&&this.renderErrors(F)]})}}var Nt={exports:{}},xr={},qe={},Xe={},Kr={},Lr={},zr={},kn;function br(){return kn||(kn=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(h){if(super(),!t.IDENTIFIER.test(h))throw new Error("CodeGen: name must be a valid identifier");this.str=h}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(h){super(),this._items=typeof h=="string"?[h]:h}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const h=this._items[0];return h===""||h==='""'}get str(){var h;return(h=this._str)!==null&&h!==void 0?h:this._str=this._items.reduce((v,$)=>`${v}${$}`,"")}get names(){var h;return(h=this._names)!==null&&h!==void 0?h:this._names=this._items.reduce((v,$)=>($ instanceof n&&(v[$.str]=(v[$.str]||0)+1),v),{})}}t._Code=r,t.nil=new r("");function i(g,...h){const v=[g[0]];let $=0;for(;$<h.length;)o(v,h[$]),v.push(g[++$]);return new r(v)}t._=i;const s=new r("+");function a(g,...h){const v=[m(g[0])];let $=0;for(;$<h.length;)v.push(s),o(v,h[$]),v.push(s,m(g[++$]));return c(v),new r(v)}t.str=a;function o(g,h){h instanceof r?g.push(...h._items):h instanceof n?g.push(h):g.push(f(h))}t.addCodeArg=o;function c(g){let h=1;for(;h<g.length-1;){if(g[h]===s){const v=l(g[h-1],g[h+1]);if(v!==void 0){g.splice(h-1,3,v);continue}g[h++]="+"}h++}}function l(g,h){if(h==='""')return g;if(g==='""')return h;if(typeof g=="string")return h instanceof n||g[g.length-1]!=='"'?void 0:typeof h!="string"?`${g.slice(0,-1)}${h}"`:h[0]==='"'?g.slice(0,-1)+h.slice(1):void 0;if(typeof h=="string"&&h[0]==='"'&&!(g instanceof n))return`"${g}${h.slice(1)}`}function u(g,h){return h.emptyStr()?g:g.emptyStr()?h:a`${g}${h}`}t.strConcat=u;function f(g){return typeof g=="number"||typeof g=="boolean"||g===null?g:m(Array.isArray(g)?g.join(","):g)}function p(g){return new r(m(g))}t.stringify=p;function m(g){return JSON.stringify(g).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=m;function _(g){return typeof g=="string"&&t.IDENTIFIER.test(g)?new r(`.${g}`):i`[${g}]`}t.getProperty=_;function y(g){if(typeof g=="string"&&t.IDENTIFIER.test(g))return new r(`${g}`);throw new Error(`CodeGen: invalid export name: ${g}, use explicit $id name mapping`)}t.getEsmExportName=y;function d(g){return new r(g.toString())}t.regexpCode=d})(zr)),zr}var Br={},qn;function Mn(){return qn||(qn=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=br();class n extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var r;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:l,parent:u}={}){this._names={},this._prefixes=l,this._parent=u}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const u=this._names[l]||this._nameGroup(l);return`${l}${u.index++}`}_nameGroup(l){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}t.Scope=i;class s extends e.Name{constructor(l,u){super(u),this.prefix=l}setValue(l,{property:u,itemIndex:f}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(u)}[${f}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class o extends i{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:e.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const p=this.toName(l),{prefix:m}=p,_=(f=u.key)!==null&&f!==void 0?f:u.ref;let y=this._values[m];if(y){const h=y.get(_);if(h)return h}else y=this._values[m]=new Map;y.set(_,p);const d=this._scope[m]||(this._scope[m]=[]),g=d.length;return d[g]=u.ref,p.setValue(u,{property:m,itemIndex:g}),p}getValue(l,u){const f=this._values[l];if(f)return f.get(u)}scopeRefs(l,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${l}${f.scopePath}`})}scopeCode(l=this._values,u,f){return this._reduceValues(l,p=>{if(p.value===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return p.value.code},u,f)}_reduceValues(l,u,f={},p){let m=e.nil;for(const _ in l){const y=l[_];if(!y)continue;const d=f[_]=f[_]||new Map;y.forEach(g=>{if(d.has(g))return;d.set(g,r.Started);let h=u(g);if(h){const v=this.opts.es5?t.varKinds.var:t.varKinds.const;m=(0,e._)`${m}${v} ${g} = ${h};${this.opts._n}`}else if(h=p?.(g))m=(0,e._)`${m}${h}${this.opts._n}`;else throw new n(g);d.set(g,r.Completed)})}return m}}t.ValueScope=o})(Br)),Br}var Vn;function te(){return Vn||(Vn=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=br(),n=Mn();var r=br();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=Mn();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(S,O){return this}}class a extends s{constructor(S,O,T){super(),this.varKind=S,this.name=O,this.rhs=T}render({es5:S,_n:O}){const T=S?n.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${H};`+O}optimizeNames(S,O){if(S[this.name.str])return this.rhs&&(this.rhs=q(this.rhs,S,O)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(S,O,T){super(),this.lhs=S,this.rhs=O,this.sideEffects=T}render({_n:S}){return`${this.lhs} = ${this.rhs};`+S}optimizeNames(S,O){if(!(this.lhs instanceof e.Name&&!S[this.lhs.str]&&!this.sideEffects))return this.rhs=q(this.rhs,S,O),this}get names(){const S=this.lhs instanceof e.Name?{}:{...this.lhs.names};return N(S,this.rhs)}}class c extends o{constructor(S,O,T,H){super(S,T,H),this.op=O}render({_n:S}){return`${this.lhs} ${this.op}= ${this.rhs};`+S}}class l extends s{constructor(S){super(),this.label=S,this.names={}}render({_n:S}){return`${this.label}:`+S}}class u extends s{constructor(S){super(),this.label=S,this.names={}}render({_n:S}){return`break${this.label?` ${this.label}`:""};`+S}}class f extends s{constructor(S){super(),this.error=S}render({_n:S}){return`throw ${this.error};`+S}get names(){return this.error.names}}class p extends s{constructor(S){super(),this.code=S}render({_n:S}){return`${this.code};`+S}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(S,O){return this.code=q(this.code,S,O),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class m extends s{constructor(S=[]){super(),this.nodes=S}render(S){return this.nodes.reduce((O,T)=>O+T.render(S),"")}optimizeNodes(){const{nodes:S}=this;let O=S.length;for(;O--;){const T=S[O].optimizeNodes();Array.isArray(T)?S.splice(O,1,...T):T?S[O]=T:S.splice(O,1)}return S.length>0?this:void 0}optimizeNames(S,O){const{nodes:T}=this;let H=T.length;for(;H--;){const J=T[H];J.optimizeNames(S,O)||(x(S,J.names),T.splice(H,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((S,O)=>z(S,O.names),{})}}class _ extends m{render(S){return"{"+S._n+super.render(S)+"}"+S._n}}class y extends m{}class d extends _{}d.kind="else";class g extends _{constructor(S,O){super(O),this.condition=S}render(S){let O=`if(${this.condition})`+super.render(S);return this.else&&(O+="else "+this.else.render(S)),O}optimizeNodes(){super.optimizeNodes();const S=this.condition;if(S===!0)return this.nodes;let O=this.else;if(O){const T=O.optimizeNodes();O=this.else=Array.isArray(T)?new d(T):T}if(O)return S===!1?O instanceof g?O:O.nodes:this.nodes.length?this:new g(X(S),O instanceof g?[O]:O.nodes);if(!(S===!1||!this.nodes.length))return this}optimizeNames(S,O){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(S,O),!!(super.optimizeNames(S,O)||this.else))return this.condition=q(this.condition,S,O),this}get names(){const S=super.names;return N(S,this.condition),this.else&&z(S,this.else.names),S}}g.kind="if";class h extends _{}h.kind="for";class v extends h{constructor(S){super(),this.iteration=S}render(S){return`for(${this.iteration})`+super.render(S)}optimizeNames(S,O){if(super.optimizeNames(S,O))return this.iteration=q(this.iteration,S,O),this}get names(){return z(super.names,this.iteration.names)}}class $ extends h{constructor(S,O,T,H){super(),this.varKind=S,this.name=O,this.from=T,this.to=H}render(S){const O=S.es5?n.varKinds.var:this.varKind,{name:T,from:H,to:J}=this;return`for(${O} ${T}=${H}; ${T}<${J}; ${T}++)`+super.render(S)}get names(){const S=N(super.names,this.from);return N(S,this.to)}}class b extends h{constructor(S,O,T,H){super(),this.loop=S,this.varKind=O,this.name=T,this.iterable=H}render(S){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(S)}optimizeNames(S,O){if(super.optimizeNames(S,O))return this.iterable=q(this.iterable,S,O),this}get names(){return z(super.names,this.iterable.names)}}class w extends _{constructor(S,O,T){super(),this.name=S,this.args=O,this.async=T}render(S){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(S)}}w.kind="func";class E extends m{render(S){return"return "+super.render(S)}}E.kind="return";class I extends _{render(S){let O="try"+super.render(S);return this.catch&&(O+=this.catch.render(S)),this.finally&&(O+=this.finally.render(S)),O}optimizeNodes(){var S,O;return super.optimizeNodes(),(S=this.catch)===null||S===void 0||S.optimizeNodes(),(O=this.finally)===null||O===void 0||O.optimizeNodes(),this}optimizeNames(S,O){var T,H;return super.optimizeNames(S,O),(T=this.catch)===null||T===void 0||T.optimizeNames(S,O),(H=this.finally)===null||H===void 0||H.optimizeNames(S,O),this}get names(){const S=super.names;return this.catch&&z(S,this.catch.names),this.finally&&z(S,this.finally.names),S}}class C extends _{constructor(S){super(),this.error=S}render(S){return`catch(${this.error})`+super.render(S)}}C.kind="catch";class F extends _{render(S){return"finally"+super.render(S)}}F.kind="finally";class U{constructor(S,O={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...O,_n:O.lines?`
`:""},this._extScope=S,this._scope=new n.Scope({parent:S}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(S){return this._scope.name(S)}scopeName(S){return this._extScope.name(S)}scopeValue(S,O){const T=this._extScope.value(S,O);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(S,O){return this._extScope.getValue(S,O)}scopeRefs(S){return this._extScope.scopeRefs(S,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(S,O,T,H){const J=this._scope.toName(O);return T!==void 0&&H&&(this._constants[J.str]=T),this._leafNode(new a(S,J,T)),J}const(S,O,T){return this._def(n.varKinds.const,S,O,T)}let(S,O,T){return this._def(n.varKinds.let,S,O,T)}var(S,O,T){return this._def(n.varKinds.var,S,O,T)}assign(S,O,T){return this._leafNode(new o(S,O,T))}add(S,O){return this._leafNode(new c(S,t.operators.ADD,O))}code(S){return typeof S=="function"?S():S!==e.nil&&this._leafNode(new p(S)),this}object(...S){const O=["{"];for(const[T,H]of S)O.length>1&&O.push(","),O.push(T),(T!==H||this.opts.es5)&&(O.push(":"),(0,e.addCodeArg)(O,H));return O.push("}"),new e._Code(O)}if(S,O,T){if(this._blockNode(new g(S)),O&&T)this.code(O).else().code(T).endIf();else if(O)this.code(O).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(S){return this._elseNode(new g(S))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(g,d)}_for(S,O){return this._blockNode(S),O&&this.code(O).endFor(),this}for(S,O){return this._for(new v(S),O)}forRange(S,O,T,H,J=this.opts.es5?n.varKinds.var:n.varKinds.let){const K=this._scope.toName(S);return this._for(new $(J,K,O,T),()=>H(K))}forOf(S,O,T,H=n.varKinds.const){const J=this._scope.toName(S);if(this.opts.es5){const K=O instanceof e.Name?O:this.var("_arr",O);return this.forRange("_i",0,(0,e._)`${K}.length`,B=>{this.var(J,(0,e._)`${K}[${B}]`),T(J)})}return this._for(new b("of",H,J,O),()=>T(J))}forIn(S,O,T,H=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(S,(0,e._)`Object.keys(${O})`,T);const J=this._scope.toName(S);return this._for(new b("in",H,J,O),()=>T(J))}endFor(){return this._endBlockNode(h)}label(S){return this._leafNode(new l(S))}break(S){return this._leafNode(new u(S))}return(S){const O=new E;if(this._blockNode(O),this.code(S),O.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(S,O,T){if(!O&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new I;if(this._blockNode(H),this.code(S),O){const J=this.name("e");this._currNode=H.catch=new C(J),O(J)}return T&&(this._currNode=H.finally=new F,this.code(T)),this._endBlockNode(C,F)}throw(S){return this._leafNode(new f(S))}block(S,O){return this._blockStarts.push(this._nodes.length),S&&this.code(S).endBlock(O),this}endBlock(S){const O=this._blockStarts.pop();if(O===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-O;if(T<0||S!==void 0&&T!==S)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${S} expected`);return this._nodes.length=O,this}func(S,O=e.nil,T,H){return this._blockNode(new w(S,O,T)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(S=1){for(;S-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(S){return this._currNode.nodes.push(S),this}_blockNode(S){this._currNode.nodes.push(S),this._nodes.push(S)}_endBlockNode(S,O){const T=this._currNode;if(T instanceof S||O&&T instanceof O)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${O?`${S.kind}/${O.kind}`:S.kind}"`)}_elseNode(S){const O=this._currNode;if(!(O instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=O.else=S,this}get _root(){return this._nodes[0]}get _currNode(){const S=this._nodes;return S[S.length-1]}set _currNode(S){const O=this._nodes;O[O.length-1]=S}}t.CodeGen=U;function z(D,S){for(const O in S)D[O]=(D[O]||0)+(S[O]||0);return D}function N(D,S){return S instanceof e._CodeOrName?z(D,S.names):D}function q(D,S,O){if(D instanceof e.Name)return T(D);if(!H(D))return D;return new e._Code(D._items.reduce((J,K)=>(K instanceof e.Name&&(K=T(K)),K instanceof e._Code?J.push(...K._items):J.push(K),J),[]));function T(J){const K=O[J.str];return K===void 0||S[J.str]!==1?J:(delete S[J.str],K)}function H(J){return J instanceof e._Code&&J._items.some(K=>K instanceof e.Name&&S[K.str]===1&&O[K.str]!==void 0)}}function x(D,S){for(const O in S)D[O]=(D[O]||0)-(S[O]||0)}function X(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,e._)`!${V(D)}`}t.not=X;const ne=A(t.operators.AND);function G(...D){return D.reduce(ne)}t.and=G;const Z=A(t.operators.OR);function M(...D){return D.reduce(Z)}t.or=M;function A(D){return(S,O)=>S===e.nil?O:O===e.nil?S:(0,e._)`${V(S)} ${D} ${V(O)}`}function V(D){return D instanceof e.Name?D:(0,e._)`(${D})`}})(Lr)),Lr}var ee={},Un;function ae(){if(Un)return ee;Un=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.checkStrictMode=ee.getErrorPath=ee.Type=ee.useFunc=ee.setEvaluated=ee.evaluatedPropsToName=ee.mergeEvaluated=ee.eachItem=ee.unescapeJsonPointer=ee.escapeJsonPointer=ee.escapeFragment=ee.unescapeFragment=ee.schemaRefOrVal=ee.schemaHasRulesButRef=ee.schemaHasRules=ee.checkUnknownRules=ee.alwaysValidSchema=ee.toHash=void 0;const t=te(),e=br();function n(b){const w={};for(const E of b)w[E]=!0;return w}ee.toHash=n;function r(b,w){return typeof w=="boolean"?w:Object.keys(w).length===0?!0:(i(b,w),!s(w,b.self.RULES.all))}ee.alwaysValidSchema=r;function i(b,w=b.schema){const{opts:E,self:I}=b;if(!E.strictSchema||typeof w=="boolean")return;const C=I.RULES.keywords;for(const F in w)C[F]||$(b,`unknown keyword: "${F}"`)}ee.checkUnknownRules=i;function s(b,w){if(typeof b=="boolean")return!b;for(const E in b)if(w[E])return!0;return!1}ee.schemaHasRules=s;function a(b,w){if(typeof b=="boolean")return!b;for(const E in b)if(E!=="$ref"&&w.all[E])return!0;return!1}ee.schemaHasRulesButRef=a;function o({topSchemaRef:b,schemaPath:w},E,I,C){if(!C){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,t._)`${E}`}return(0,t._)`${b}${w}${(0,t.getProperty)(I)}`}ee.schemaRefOrVal=o;function c(b){return f(decodeURIComponent(b))}ee.unescapeFragment=c;function l(b){return encodeURIComponent(u(b))}ee.escapeFragment=l;function u(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}ee.escapeJsonPointer=u;function f(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}ee.unescapeJsonPointer=f;function p(b,w){if(Array.isArray(b))for(const E of b)w(E);else w(b)}ee.eachItem=p;function m({mergeNames:b,mergeToName:w,mergeValues:E,resultToName:I}){return(C,F,U,z)=>{const N=U===void 0?F:U instanceof t.Name?(F instanceof t.Name?b(C,F,U):w(C,F,U),U):F instanceof t.Name?(w(C,U,F),F):E(F,U);return z===t.Name&&!(N instanceof t.Name)?I(C,N):N}}ee.mergeEvaluated={props:m({mergeNames:(b,w,E)=>b.if((0,t._)`${E} !== true && ${w} !== undefined`,()=>{b.if((0,t._)`${w} === true`,()=>b.assign(E,!0),()=>b.assign(E,(0,t._)`${E} || {}`).code((0,t._)`Object.assign(${E}, ${w})`))}),mergeToName:(b,w,E)=>b.if((0,t._)`${E} !== true`,()=>{w===!0?b.assign(E,!0):(b.assign(E,(0,t._)`${E} || {}`),y(b,E,w))}),mergeValues:(b,w)=>b===!0?!0:{...b,...w},resultToName:_}),items:m({mergeNames:(b,w,E)=>b.if((0,t._)`${E} !== true && ${w} !== undefined`,()=>b.assign(E,(0,t._)`${w} === true ? true : ${E} > ${w} ? ${E} : ${w}`)),mergeToName:(b,w,E)=>b.if((0,t._)`${E} !== true`,()=>b.assign(E,w===!0?!0:(0,t._)`${E} > ${w} ? ${E} : ${w}`)),mergeValues:(b,w)=>b===!0?!0:Math.max(b,w),resultToName:(b,w)=>b.var("items",w)})};function _(b,w){if(w===!0)return b.var("props",!0);const E=b.var("props",(0,t._)`{}`);return w!==void 0&&y(b,E,w),E}ee.evaluatedPropsToName=_;function y(b,w,E){Object.keys(E).forEach(I=>b.assign((0,t._)`${w}${(0,t.getProperty)(I)}`,!0))}ee.setEvaluated=y;const d={};function g(b,w){return b.scopeValue("func",{ref:w,code:d[w.code]||(d[w.code]=new e._Code(w.code))})}ee.useFunc=g;var h;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(h||(ee.Type=h={}));function v(b,w,E){if(b instanceof t.Name){const I=w===h.Num;return E?I?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:I?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,t.getProperty)(b).toString():"/"+u(b)}ee.getErrorPath=v;function $(b,w,E=b.opts.strictSchema){if(E){if(w=`strict mode: ${w}`,E===!0)throw new Error(w);b.self.logger.warn(w)}}return ee.checkStrictMode=$,ee}var It={},xn;function Ye(){if(xn)return It;xn=1,Object.defineProperty(It,"__esModule",{value:!0});const t=te(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return It.default=e,It}var Kn;function Cr(){return Kn||(Kn=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=te(),n=ae(),r=Ye();t.keywordError={message:({keyword:d})=>(0,e.str)`must pass "${d}" keyword validation`},t.keyword$DataError={message:({keyword:d,schemaType:g})=>g?(0,e.str)`"${d}" keyword must be ${g} ($data)`:(0,e.str)`"${d}" keyword is invalid ($data)`};function i(d,g=t.keywordError,h,v){const{it:$}=d,{gen:b,compositeRule:w,allErrors:E}=$,I=f(d,g,h);v??(w||E)?c(b,I):l($,(0,e._)`[${I}]`)}t.reportError=i;function s(d,g=t.keywordError,h){const{it:v}=d,{gen:$,compositeRule:b,allErrors:w}=v,E=f(d,g,h);c($,E),b||w||l(v,r.default.vErrors)}t.reportExtraError=s;function a(d,g){d.assign(r.default.errors,g),d.if((0,e._)`${r.default.vErrors} !== null`,()=>d.if(g,()=>d.assign((0,e._)`${r.default.vErrors}.length`,g),()=>d.assign(r.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:d,keyword:g,schemaValue:h,data:v,errsCount:$,it:b}){if($===void 0)throw new Error("ajv implementation error");const w=d.name("err");d.forRange("i",$,r.default.errors,E=>{d.const(w,(0,e._)`${r.default.vErrors}[${E}]`),d.if((0,e._)`${w}.instancePath === undefined`,()=>d.assign((0,e._)`${w}.instancePath`,(0,e.strConcat)(r.default.instancePath,b.errorPath))),d.assign((0,e._)`${w}.schemaPath`,(0,e.str)`${b.errSchemaPath}/${g}`),b.opts.verbose&&(d.assign((0,e._)`${w}.schema`,h),d.assign((0,e._)`${w}.data`,v))})}t.extendErrors=o;function c(d,g){const h=d.const("err",g);d.if((0,e._)`${r.default.vErrors} === null`,()=>d.assign(r.default.vErrors,(0,e._)`[${h}]`),(0,e._)`${r.default.vErrors}.push(${h})`),d.code((0,e._)`${r.default.errors}++`)}function l(d,g){const{gen:h,validateName:v,schemaEnv:$}=d;$.$async?h.throw((0,e._)`new ${d.ValidationError}(${g})`):(h.assign((0,e._)`${v}.errors`,g),h.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(d,g,h){const{createErrors:v}=d.it;return v===!1?(0,e._)`{}`:p(d,g,h)}function p(d,g,h={}){const{gen:v,it:$}=d,b=[m($,h),_(d,h)];return y(d,g,b),v.object(...b)}function m({errorPath:d},{instancePath:g}){const h=g?(0,e.str)`${d}${(0,n.getErrorPath)(g,n.Type.Str)}`:d;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,h)]}function _({keyword:d,it:{errSchemaPath:g}},{schemaPath:h,parentSchema:v}){let $=v?g:(0,e.str)`${g}/${d}`;return h&&($=(0,e.str)`${$}${(0,n.getErrorPath)(h,n.Type.Str)}`),[u.schemaPath,$]}function y(d,{params:g,message:h},v){const{keyword:$,data:b,schemaValue:w,it:E}=d,{opts:I,propertyName:C,topSchemaRef:F,schemaPath:U}=E;v.push([u.keyword,$],[u.params,typeof g=="function"?g(d):g||(0,e._)`{}`]),I.messages&&v.push([u.message,typeof h=="function"?h(d):h]),I.verbose&&v.push([u.schema,w],[u.parentSchema,(0,e._)`${F}${U}`],[r.default.data,b]),C&&v.push([u.propertyName,C])}})(Kr)),Kr}var Ln;function wc(){if(Ln)return Xe;Ln=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.boolOrEmptySchema=Xe.topBoolOrEmptySchema=void 0;const t=Cr(),e=te(),n=Ye(),r={message:"boolean schema is false"};function i(o){const{gen:c,schema:l,validateName:u}=o;l===!1?a(o,!1):typeof l=="object"&&l.$async===!0?c.return(n.default.data):(c.assign((0,e._)`${u}.errors`,null),c.return(!0))}Xe.topBoolOrEmptySchema=i;function s(o,c){const{gen:l,schema:u}=o;u===!1?(l.var(c,!1),a(o)):l.var(c,!0)}Xe.boolOrEmptySchema=s;function a(o,c){const{gen:l,data:u}=o,f={gen:l,keyword:"false schema",data:u,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(f,r,void 0,c)}return Xe}var be={},Ze={},zn;function ji(){if(zn)return Ze;zn=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.getRules=Ze.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}Ze.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Ze.getRules=r,Ze}var Me={},Bn;function Ni(){if(Bn)return Me;Bn=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.shouldUseRule=Me.shouldUseGroup=Me.schemaHasRulesForType=void 0;function t({schema:r,self:i},s){const a=i.RULES.types[s];return a&&a!==!0&&e(r,a)}Me.schemaHasRulesForType=t;function e(r,i){return i.rules.some(s=>n(r,s))}Me.shouldUseGroup=e;function n(r,i){var s;return r[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(a=>r[a]!==void 0))}return Me.shouldUseRule=n,Me}var Wn;function wr(){if(Wn)return be;Wn=1,Object.defineProperty(be,"__esModule",{value:!0}),be.reportTypeError=be.checkDataTypes=be.checkDataType=be.coerceAndCheckDataType=be.getJSONTypes=be.getSchemaTypes=be.DataType=void 0;const t=ji(),e=Ni(),n=Cr(),r=te(),i=ae();var s;(function(h){h[h.Correct=0]="Correct",h[h.Wrong=1]="Wrong"})(s||(be.DataType=s={}));function a(h){const v=o(h.type);if(v.includes("null")){if(h.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!v.length&&h.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');h.nullable===!0&&v.push("null")}return v}be.getSchemaTypes=a;function o(h){const v=Array.isArray(h)?h:h?[h]:[];if(v.every(t.isJSONType))return v;throw new Error("type must be JSONType or JSONType[]: "+v.join(","))}be.getJSONTypes=o;function c(h,v){const{gen:$,data:b,opts:w}=h,E=u(v,w.coerceTypes),I=v.length>0&&!(E.length===0&&v.length===1&&(0,e.schemaHasRulesForType)(h,v[0]));if(I){const C=_(v,b,w.strictNumbers,s.Wrong);$.if(C,()=>{E.length?f(h,v,E):d(h)})}return I}be.coerceAndCheckDataType=c;const l=new Set(["string","number","integer","boolean","null"]);function u(h,v){return v?h.filter($=>l.has($)||v==="array"&&$==="array"):[]}function f(h,v,$){const{gen:b,data:w,opts:E}=h,I=b.let("dataType",(0,r._)`typeof ${w}`),C=b.let("coerced",(0,r._)`undefined`);E.coerceTypes==="array"&&b.if((0,r._)`${I} == 'object' && Array.isArray(${w}) && ${w}.length == 1`,()=>b.assign(w,(0,r._)`${w}[0]`).assign(I,(0,r._)`typeof ${w}`).if(_(v,w,E.strictNumbers),()=>b.assign(C,w))),b.if((0,r._)`${C} !== undefined`);for(const U of $)(l.has(U)||U==="array"&&E.coerceTypes==="array")&&F(U);b.else(),d(h),b.endIf(),b.if((0,r._)`${C} !== undefined`,()=>{b.assign(w,C),p(h,C)});function F(U){switch(U){case"string":b.elseIf((0,r._)`${I} == "number" || ${I} == "boolean"`).assign(C,(0,r._)`"" + ${w}`).elseIf((0,r._)`${w} === null`).assign(C,(0,r._)`""`);return;case"number":b.elseIf((0,r._)`${I} == "boolean" || ${w} === null
              || (${I} == "string" && ${w} && ${w} == +${w})`).assign(C,(0,r._)`+${w}`);return;case"integer":b.elseIf((0,r._)`${I} === "boolean" || ${w} === null
              || (${I} === "string" && ${w} && ${w} == +${w} && !(${w} % 1))`).assign(C,(0,r._)`+${w}`);return;case"boolean":b.elseIf((0,r._)`${w} === "false" || ${w} === 0 || ${w} === null`).assign(C,!1).elseIf((0,r._)`${w} === "true" || ${w} === 1`).assign(C,!0);return;case"null":b.elseIf((0,r._)`${w} === "" || ${w} === 0 || ${w} === false`),b.assign(C,null);return;case"array":b.elseIf((0,r._)`${I} === "string" || ${I} === "number"
              || ${I} === "boolean" || ${w} === null`).assign(C,(0,r._)`[${w}]`)}}}function p({gen:h,parentData:v,parentDataProperty:$},b){h.if((0,r._)`${v} !== undefined`,()=>h.assign((0,r._)`${v}[${$}]`,b))}function m(h,v,$,b=s.Correct){const w=b===s.Correct?r.operators.EQ:r.operators.NEQ;let E;switch(h){case"null":return(0,r._)`${v} ${w} null`;case"array":E=(0,r._)`Array.isArray(${v})`;break;case"object":E=(0,r._)`${v} && typeof ${v} == "object" && !Array.isArray(${v})`;break;case"integer":E=I((0,r._)`!(${v} % 1) && !isNaN(${v})`);break;case"number":E=I();break;default:return(0,r._)`typeof ${v} ${w} ${h}`}return b===s.Correct?E:(0,r.not)(E);function I(C=r.nil){return(0,r.and)((0,r._)`typeof ${v} == "number"`,C,$?(0,r._)`isFinite(${v})`:r.nil)}}be.checkDataType=m;function _(h,v,$,b){if(h.length===1)return m(h[0],v,$,b);let w;const E=(0,i.toHash)(h);if(E.array&&E.object){const I=(0,r._)`typeof ${v} != "object"`;w=E.null?I:(0,r._)`!${v} || ${I}`,delete E.null,delete E.array,delete E.object}else w=r.nil;E.number&&delete E.integer;for(const I in E)w=(0,r.and)(w,m(I,v,$,b));return w}be.checkDataTypes=_;const y={message:({schema:h})=>`must be ${h}`,params:({schema:h,schemaValue:v})=>typeof h=="string"?(0,r._)`{type: ${h}}`:(0,r._)`{type: ${v}}`};function d(h){const v=g(h);(0,n.reportError)(v,y)}be.reportTypeError=d;function g(h){const{gen:v,data:$,schema:b}=h,w=(0,i.schemaRefOrVal)(h,b,"type");return{gen:v,keyword:"type",data:$,schema:b.type,schemaCode:w,schemaValue:w,parentSchema:b,params:{},it:h}}return be}var mt={},Gn;function Sc(){if(Gn)return mt;Gn=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.assignDefaults=void 0;const t=te(),e=ae();function n(i,s){const{properties:a,items:o}=i.schema;if(s==="object"&&a)for(const c in a)r(i,c,a[c].default);else s==="array"&&Array.isArray(o)&&o.forEach((c,l)=>r(i,l,c.default))}mt.assignDefaults=n;function r(i,s,a){const{gen:o,compositeRule:c,data:l,opts:u}=i;if(a===void 0)return;const f=(0,t._)`${l}${(0,t.getProperty)(s)}`;if(c){(0,e.checkStrictMode)(i,`default is ignored for: ${f}`);return}let p=(0,t._)`${f} === undefined`;u.useDefaults==="empty"&&(p=(0,t._)`${p} || ${f} === null || ${f} === ""`),o.if(p,(0,t._)`${f} = ${(0,t.stringify)(a)}`)}return mt}var Re={},de={},Jn;function De(){if(Jn)return de;Jn=1,Object.defineProperty(de,"__esModule",{value:!0}),de.validateUnion=de.validateArray=de.usePattern=de.callValidateCode=de.schemaProperties=de.allSchemaProperties=de.noPropertyInData=de.propertyInData=de.isOwnProperty=de.hasPropFunc=de.reportMissingProp=de.checkMissingProp=de.checkReportMissingProp=void 0;const t=te(),e=ae(),n=Ye(),r=ae();function i(h,v){const{gen:$,data:b,it:w}=h;$.if(u($,b,v,w.opts.ownProperties),()=>{h.setParams({missingProperty:(0,t._)`${v}`},!0),h.error()})}de.checkReportMissingProp=i;function s({gen:h,data:v,it:{opts:$}},b,w){return(0,t.or)(...b.map(E=>(0,t.and)(u(h,v,E,$.ownProperties),(0,t._)`${w} = ${E}`)))}de.checkMissingProp=s;function a(h,v){h.setParams({missingProperty:v},!0),h.error()}de.reportMissingProp=a;function o(h){return h.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}de.hasPropFunc=o;function c(h,v,$){return(0,t._)`${o(h)}.call(${v}, ${$})`}de.isOwnProperty=c;function l(h,v,$,b){const w=(0,t._)`${v}${(0,t.getProperty)($)} !== undefined`;return b?(0,t._)`${w} && ${c(h,v,$)}`:w}de.propertyInData=l;function u(h,v,$,b){const w=(0,t._)`${v}${(0,t.getProperty)($)} === undefined`;return b?(0,t.or)(w,(0,t.not)(c(h,v,$))):w}de.noPropertyInData=u;function f(h){return h?Object.keys(h).filter(v=>v!=="__proto__"):[]}de.allSchemaProperties=f;function p(h,v){return f(v).filter($=>!(0,e.alwaysValidSchema)(h,v[$]))}de.schemaProperties=p;function m({schemaCode:h,data:v,it:{gen:$,topSchemaRef:b,schemaPath:w,errorPath:E},it:I},C,F,U){const z=U?(0,t._)`${h}, ${v}, ${b}${w}`:v,N=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)],[n.default.parentData,I.parentData],[n.default.parentDataProperty,I.parentDataProperty],[n.default.rootData,n.default.rootData]];I.opts.dynamicRef&&N.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const q=(0,t._)`${z}, ${$.object(...N)}`;return F!==t.nil?(0,t._)`${C}.call(${F}, ${q})`:(0,t._)`${C}(${q})`}de.callValidateCode=m;const _=(0,t._)`new RegExp`;function y({gen:h,it:{opts:v}},$){const b=v.unicodeRegExp?"u":"",{regExp:w}=v.code,E=w($,b);return h.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,t._)`${w.code==="new RegExp"?_:(0,r.useFunc)(h,w)}(${$}, ${b})`})}de.usePattern=y;function d(h){const{gen:v,data:$,keyword:b,it:w}=h,E=v.name("valid");if(w.allErrors){const C=v.let("valid",!0);return I(()=>v.assign(C,!1)),C}return v.var(E,!0),I(()=>v.break()),E;function I(C){const F=v.const("len",(0,t._)`${$}.length`);v.forRange("i",0,F,U=>{h.subschema({keyword:b,dataProp:U,dataPropType:e.Type.Num},E),v.if((0,t.not)(E),C)})}}de.validateArray=d;function g(h){const{gen:v,schema:$,keyword:b,it:w}=h;if(!Array.isArray($))throw new Error("ajv implementation error");if($.some(F=>(0,e.alwaysValidSchema)(w,F))&&!w.opts.unevaluated)return;const I=v.let("valid",!1),C=v.name("_valid");v.block(()=>$.forEach((F,U)=>{const z=h.subschema({keyword:b,schemaProp:U,compositeRule:!0},C);v.assign(I,(0,t._)`${I} || ${C}`),h.mergeValidEvaluated(z,C)||v.if((0,t.not)(I))})),h.result(I,()=>h.reset(),()=>h.error(!0))}return de.validateUnion=g,de}var Hn;function Ec(){if(Hn)return Re;Hn=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.validateKeywordUsage=Re.validSchemaType=Re.funcKeywordCode=Re.macroKeywordCode=void 0;const t=te(),e=Ye(),n=De(),r=Cr();function i(p,m){const{gen:_,keyword:y,schema:d,parentSchema:g,it:h}=p,v=m.macro.call(h.self,d,g,h),$=l(_,y,v);h.opts.validateSchema!==!1&&h.self.validateSchema(v,!0);const b=_.name("valid");p.subschema({schema:v,schemaPath:t.nil,errSchemaPath:`${h.errSchemaPath}/${y}`,topSchemaRef:$,compositeRule:!0},b),p.pass(b,()=>p.error(!0))}Re.macroKeywordCode=i;function s(p,m){var _;const{gen:y,keyword:d,schema:g,parentSchema:h,$data:v,it:$}=p;c($,m);const b=!v&&m.compile?m.compile.call($.self,g,h,$):m.validate,w=l(y,d,b),E=y.let("valid");p.block$data(E,I),p.ok((_=m.valid)!==null&&_!==void 0?_:E);function I(){if(m.errors===!1)U(),m.modifying&&a(p),z(()=>p.error());else{const N=m.async?C():F();m.modifying&&a(p),z(()=>o(p,N))}}function C(){const N=y.let("ruleErrs",null);return y.try(()=>U((0,t._)`await `),q=>y.assign(E,!1).if((0,t._)`${q} instanceof ${$.ValidationError}`,()=>y.assign(N,(0,t._)`${q}.errors`),()=>y.throw(q))),N}function F(){const N=(0,t._)`${w}.errors`;return y.assign(N,null),U(t.nil),N}function U(N=m.async?(0,t._)`await `:t.nil){const q=$.opts.passContext?e.default.this:e.default.self,x=!("compile"in m&&!v||m.schema===!1);y.assign(E,(0,t._)`${N}${(0,n.callValidateCode)(p,w,q,x)}`,m.modifying)}function z(N){var q;y.if((0,t.not)((q=m.valid)!==null&&q!==void 0?q:E),N)}}Re.funcKeywordCode=s;function a(p){const{gen:m,data:_,it:y}=p;m.if(y.parentData,()=>m.assign(_,(0,t._)`${y.parentData}[${y.parentDataProperty}]`))}function o(p,m){const{gen:_}=p;_.if((0,t._)`Array.isArray(${m})`,()=>{_.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${m} : ${e.default.vErrors}.concat(${m})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(p)},()=>p.error())}function c({schemaEnv:p},m){if(m.async&&!p.$async)throw new Error("async keyword in sync schema")}function l(p,m,_){if(_===void 0)throw new Error(`keyword "${m}" failed to compile`);return p.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function u(p,m,_=!1){return!m.length||m.some(y=>y==="array"?Array.isArray(p):y==="object"?p&&typeof p=="object"&&!Array.isArray(p):typeof p==y||_&&typeof p>"u")}Re.validSchemaType=u;function f({schema:p,opts:m,self:_,errSchemaPath:y},d,g){if(Array.isArray(d.keyword)?!d.keyword.includes(g):d.keyword!==g)throw new Error("ajv implementation error");const h=d.dependencies;if(h?.some(v=>!Object.prototype.hasOwnProperty.call(p,v)))throw new Error(`parent schema must have dependencies of ${g}: ${h.join(",")}`);if(d.validateSchema&&!d.validateSchema(p[g])){const $=`keyword "${g}" value is invalid at path "${y}": `+_.errorsText(d.validateSchema.errors);if(m.validateSchema==="log")_.logger.error($);else throw new Error($)}}return Re.validateKeywordUsage=f,Re}var Ve={},Yn;function Pc(){if(Yn)return Ve;Yn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.extendSubschemaMode=Ve.extendSubschemaData=Ve.getSubschema=void 0;const t=te(),e=ae();function n(s,{keyword:a,schemaProp:o,schema:c,schemaPath:l,errSchemaPath:u,topSchemaRef:f}){if(a!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const p=s.schema[a];return o===void 0?{schema:p,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:p[o],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,e.escapeFragment)(o)}`}}if(c!==void 0){if(l===void 0||u===void 0||f===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:l,topSchemaRef:f,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}Ve.getSubschema=n;function r(s,a,{dataProp:o,dataPropType:c,data:l,dataTypes:u,propertyName:f}){if(l!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:p}=a;if(o!==void 0){const{errorPath:_,dataPathArr:y,opts:d}=a,g=p.let("data",(0,t._)`${a.data}${(0,t.getProperty)(o)}`,!0);m(g),s.errorPath=(0,t.str)`${_}${(0,e.getErrorPath)(o,c,d.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${o}`,s.dataPathArr=[...y,s.parentDataProperty]}if(l!==void 0){const _=l instanceof t.Name?l:p.let("data",l,!0);m(_),f!==void 0&&(s.propertyName=f)}u&&(s.dataTypes=u);function m(_){s.data=_,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,_]}}Ve.extendSubschemaData=r;function i(s,{jtdDiscriminator:a,jtdMetadata:o,compositeRule:c,createErrors:l,allErrors:u}){c!==void 0&&(s.compositeRule=c),l!==void 0&&(s.createErrors=l),u!==void 0&&(s.allErrors=u),s.jtdDiscriminator=a,s.jtdMetadata=o}return Ve.extendSubschemaMode=i,Ve}var Se={},Wr={exports:{}},Qn;function Oc(){if(Qn)return Wr.exports;Qn=1;var t=Wr.exports=function(r,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var a=typeof s=="function"?s:s.pre||function(){},o=s.post||function(){};e(i,a,o,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,s,a,o,c,l,u,f,p){if(a&&typeof a=="object"&&!Array.isArray(a)){i(a,o,c,l,u,f,p);for(var m in a){var _=a[m];if(Array.isArray(_)){if(m in t.arrayKeywords)for(var y=0;y<_.length;y++)e(r,i,s,_[y],o+"/"+m+"/"+y,c,o,m,a,y)}else if(m in t.propsKeywords){if(_&&typeof _=="object")for(var d in _)e(r,i,s,_[d],o+"/"+m+"/"+n(d),c,o,m,a,d)}else(m in t.keywords||r.allKeys&&!(m in t.skipKeywords))&&e(r,i,s,_,o+"/"+m,c,o,m,a)}s(a,o,c,l,u,f,p)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return Wr.exports}var Xn;function jr(){if(Xn)return Se;Xn=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.getSchemaRefs=Se.resolveUrl=Se.normalizeId=Se._getFullPath=Se.getFullPath=Se.inlineRef=void 0;const t=ae(),e=Hs(),n=Oc(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(y,d=!0){return typeof y=="boolean"?!0:d===!0?!a(y):d?o(y)<=d:!1}Se.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(y){for(const d in y){if(s.has(d))return!0;const g=y[d];if(Array.isArray(g)&&g.some(a)||typeof g=="object"&&a(g))return!0}return!1}function o(y){let d=0;for(const g in y){if(g==="$ref")return 1/0;if(d++,!r.has(g)&&(typeof y[g]=="object"&&(0,t.eachItem)(y[g],h=>d+=o(h)),d===1/0))return 1/0}return d}function c(y,d="",g){g!==!1&&(d=f(d));const h=y.parse(d);return l(y,h)}Se.getFullPath=c;function l(y,d){return y.serialize(d).split("#")[0]+"#"}Se._getFullPath=l;const u=/#\/?$/;function f(y){return y?y.replace(u,""):""}Se.normalizeId=f;function p(y,d,g){return g=f(g),y.resolve(d,g)}Se.resolveUrl=p;const m=/^[a-z_][-a-z0-9._]*$/i;function _(y,d){if(typeof y=="boolean")return{};const{schemaId:g,uriResolver:h}=this.opts,v=f(y[g]||d),$={"":v},b=c(h,v,!1),w={},E=new Set;return n(y,{allKeys:!0},(F,U,z,N)=>{if(N===void 0)return;const q=b+U;let x=$[N];typeof F[g]=="string"&&(x=X.call(this,F[g])),ne.call(this,F.$anchor),ne.call(this,F.$dynamicAnchor),$[U]=x;function X(G){const Z=this.opts.uriResolver.resolve;if(G=f(x?Z(x,G):G),E.has(G))throw C(G);E.add(G);let M=this.refs[G];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?I(F,M.schema,G):G!==f(q)&&(G[0]==="#"?(I(F,w[G],G),w[G]=F):this.refs[G]=q),G}function ne(G){if(typeof G=="string"){if(!m.test(G))throw new Error(`invalid anchor "${G}"`);X.call(this,`#${G}`)}}}),w;function I(F,U,z){if(U!==void 0&&!e(F,U))throw C(z)}function C(F){return new Error(`reference "${F}" resolves to more than one schema`)}}return Se.getSchemaRefs=_,Se}var Zn;function Nr(){if(Zn)return qe;Zn=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.getData=qe.KeywordCxt=qe.validateFunctionCode=void 0;const t=wc(),e=wr(),n=Ni(),r=wr(),i=Sc(),s=Ec(),a=Pc(),o=te(),c=Ye(),l=jr(),u=ae(),f=Cr();function p(P){if(b(P)&&(E(P),$(P))){d(P);return}m(P,()=>(0,t.topBoolOrEmptySchema)(P))}qe.validateFunctionCode=p;function m({gen:P,validateName:j,schema:k,schemaEnv:L,opts:W},Y){W.code.es5?P.func(j,(0,o._)`${c.default.data}, ${c.default.valCxt}`,L.$async,()=>{P.code((0,o._)`"use strict"; ${h(k,W)}`),y(P,W),P.code(Y)}):P.func(j,(0,o._)`${c.default.data}, ${_(W)}`,L.$async,()=>P.code(h(k,W)).code(Y))}function _(P){return(0,o._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${P.dynamicRef?(0,o._)`, ${c.default.dynamicAnchors}={}`:o.nil}}={}`}function y(P,j){P.if(c.default.valCxt,()=>{P.var(c.default.instancePath,(0,o._)`${c.default.valCxt}.${c.default.instancePath}`),P.var(c.default.parentData,(0,o._)`${c.default.valCxt}.${c.default.parentData}`),P.var(c.default.parentDataProperty,(0,o._)`${c.default.valCxt}.${c.default.parentDataProperty}`),P.var(c.default.rootData,(0,o._)`${c.default.valCxt}.${c.default.rootData}`),j.dynamicRef&&P.var(c.default.dynamicAnchors,(0,o._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{P.var(c.default.instancePath,(0,o._)`""`),P.var(c.default.parentData,(0,o._)`undefined`),P.var(c.default.parentDataProperty,(0,o._)`undefined`),P.var(c.default.rootData,c.default.data),j.dynamicRef&&P.var(c.default.dynamicAnchors,(0,o._)`{}`)})}function d(P){const{schema:j,opts:k,gen:L}=P;m(P,()=>{k.$comment&&j.$comment&&N(P),F(P),L.let(c.default.vErrors,null),L.let(c.default.errors,0),k.unevaluated&&g(P),I(P),q(P)})}function g(P){const{gen:j,validateName:k}=P;P.evaluated=j.const("evaluated",(0,o._)`${k}.evaluated`),j.if((0,o._)`${P.evaluated}.dynamicProps`,()=>j.assign((0,o._)`${P.evaluated}.props`,(0,o._)`undefined`)),j.if((0,o._)`${P.evaluated}.dynamicItems`,()=>j.assign((0,o._)`${P.evaluated}.items`,(0,o._)`undefined`))}function h(P,j){const k=typeof P=="object"&&P[j.schemaId];return k&&(j.code.source||j.code.process)?(0,o._)`/*# sourceURL=${k} */`:o.nil}function v(P,j){if(b(P)&&(E(P),$(P))){w(P,j);return}(0,t.boolOrEmptySchema)(P,j)}function $({schema:P,self:j}){if(typeof P=="boolean")return!P;for(const k in P)if(j.RULES.all[k])return!0;return!1}function b(P){return typeof P.schema!="boolean"}function w(P,j){const{schema:k,gen:L,opts:W}=P;W.$comment&&k.$comment&&N(P),U(P),z(P);const Y=L.const("_errs",c.default.errors);I(P,Y),L.var(j,(0,o._)`${Y} === ${c.default.errors}`)}function E(P){(0,u.checkUnknownRules)(P),C(P)}function I(P,j){if(P.opts.jtd)return X(P,[],!1,j);const k=(0,e.getSchemaTypes)(P.schema),L=(0,e.coerceAndCheckDataType)(P,k);X(P,k,!L,j)}function C(P){const{schema:j,errSchemaPath:k,opts:L,self:W}=P;j.$ref&&L.ignoreKeywordsWithRef&&(0,u.schemaHasRulesButRef)(j,W.RULES)&&W.logger.warn(`$ref: keywords ignored in schema at path "${k}"`)}function F(P){const{schema:j,opts:k}=P;j.default!==void 0&&k.useDefaults&&k.strictSchema&&(0,u.checkStrictMode)(P,"default is ignored in the schema root")}function U(P){const j=P.schema[P.opts.schemaId];j&&(P.baseId=(0,l.resolveUrl)(P.opts.uriResolver,P.baseId,j))}function z(P){if(P.schema.$async&&!P.schemaEnv.$async)throw new Error("async schema in sync schema")}function N({gen:P,schemaEnv:j,schema:k,errSchemaPath:L,opts:W}){const Y=k.$comment;if(W.$comment===!0)P.code((0,o._)`${c.default.self}.logger.log(${Y})`);else if(typeof W.$comment=="function"){const ue=(0,o.str)`${L}/$comment`,ge=P.scopeValue("root",{ref:j.root});P.code((0,o._)`${c.default.self}.opts.$comment(${Y}, ${ue}, ${ge}.schema)`)}}function q(P){const{gen:j,schemaEnv:k,validateName:L,ValidationError:W,opts:Y}=P;k.$async?j.if((0,o._)`${c.default.errors} === 0`,()=>j.return(c.default.data),()=>j.throw((0,o._)`new ${W}(${c.default.vErrors})`)):(j.assign((0,o._)`${L}.errors`,c.default.vErrors),Y.unevaluated&&x(P),j.return((0,o._)`${c.default.errors} === 0`))}function x({gen:P,evaluated:j,props:k,items:L}){k instanceof o.Name&&P.assign((0,o._)`${j}.props`,k),L instanceof o.Name&&P.assign((0,o._)`${j}.items`,L)}function X(P,j,k,L){const{gen:W,schema:Y,data:ue,allErrors:ge,opts:fe,self:ye}=P,{RULES:he}=ye;if(Y.$ref&&(fe.ignoreKeywordsWithRef||!(0,u.schemaHasRulesButRef)(Y,he))){W.block(()=>H(P,"$ref",he.all.$ref.definition));return}fe.jtd||G(P,j),W.block(()=>{for(const _e of he.rules)se(_e);se(he.post)});function se(_e){(0,n.shouldUseGroup)(Y,_e)&&(_e.type?(W.if((0,r.checkDataType)(_e.type,ue,fe.strictNumbers)),ne(P,_e),j.length===1&&j[0]===_e.type&&k&&(W.else(),(0,r.reportTypeError)(P)),W.endIf()):ne(P,_e),ge||W.if((0,o._)`${c.default.errors} === ${L||0}`))}}function ne(P,j){const{gen:k,schema:L,opts:{useDefaults:W}}=P;W&&(0,i.assignDefaults)(P,j.type),k.block(()=>{for(const Y of j.rules)(0,n.shouldUseRule)(L,Y)&&H(P,Y.keyword,Y.definition,j.type)})}function G(P,j){P.schemaEnv.meta||!P.opts.strictTypes||(Z(P,j),P.opts.allowUnionTypes||M(P,j),A(P,P.dataTypes))}function Z(P,j){if(j.length){if(!P.dataTypes.length){P.dataTypes=j;return}j.forEach(k=>{D(P.dataTypes,k)||O(P,`type "${k}" not allowed by context "${P.dataTypes.join(",")}"`)}),S(P,j)}}function M(P,j){j.length>1&&!(j.length===2&&j.includes("null"))&&O(P,"use allowUnionTypes to allow union type keyword")}function A(P,j){const k=P.self.RULES.all;for(const L in k){const W=k[L];if(typeof W=="object"&&(0,n.shouldUseRule)(P.schema,W)){const{type:Y}=W.definition;Y.length&&!Y.some(ue=>V(j,ue))&&O(P,`missing type "${Y.join(",")}" for keyword "${L}"`)}}}function V(P,j){return P.includes(j)||j==="number"&&P.includes("integer")}function D(P,j){return P.includes(j)||j==="integer"&&P.includes("number")}function S(P,j){const k=[];for(const L of P.dataTypes)D(j,L)?k.push(L):j.includes("integer")&&L==="number"&&k.push("integer");P.dataTypes=k}function O(P,j){const k=P.schemaEnv.baseId+P.errSchemaPath;j+=` at "${k}" (strictTypes)`,(0,u.checkStrictMode)(P,j,P.opts.strictTypes)}class T{constructor(j,k,L){if((0,s.validateKeywordUsage)(j,k,L),this.gen=j.gen,this.allErrors=j.allErrors,this.keyword=L,this.data=j.data,this.schema=j.schema[L],this.$data=k.$data&&j.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,u.schemaRefOrVal)(j,this.schema,L,this.$data),this.schemaType=k.schemaType,this.parentSchema=j.schema,this.params={},this.it=j,this.def=k,this.$data)this.schemaCode=j.gen.const("vSchema",B(this.$data,j));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,k.schemaType,k.allowUndefined))throw new Error(`${L} value must be ${JSON.stringify(k.schemaType)}`);("code"in k?k.trackErrors:k.errors!==!1)&&(this.errsCount=j.gen.const("_errs",c.default.errors))}result(j,k,L){this.failResult((0,o.not)(j),k,L)}failResult(j,k,L){this.gen.if(j),L?L():this.error(),k?(this.gen.else(),k(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(j,k){this.failResult((0,o.not)(j),void 0,k)}fail(j){if(j===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(j),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(j){if(!this.$data)return this.fail(j);const{schemaCode:k}=this;this.fail((0,o._)`${k} !== undefined && (${(0,o.or)(this.invalid$data(),j)})`)}error(j,k,L){if(k){this.setParams(k),this._error(j,L),this.setParams({});return}this._error(j,L)}_error(j,k){(j?f.reportExtraError:f.reportError)(this,this.def.error,k)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(j){this.allErrors||this.gen.if(j)}setParams(j,k){k?Object.assign(this.params,j):this.params=j}block$data(j,k,L=o.nil){this.gen.block(()=>{this.check$data(j,L),k()})}check$data(j=o.nil,k=o.nil){if(!this.$data)return;const{gen:L,schemaCode:W,schemaType:Y,def:ue}=this;L.if((0,o.or)((0,o._)`${W} === undefined`,k)),j!==o.nil&&L.assign(j,!0),(Y.length||ue.validateSchema)&&(L.elseIf(this.invalid$data()),this.$dataError(),j!==o.nil&&L.assign(j,!1)),L.else()}invalid$data(){const{gen:j,schemaCode:k,schemaType:L,def:W,it:Y}=this;return(0,o.or)(ue(),ge());function ue(){if(L.length){if(!(k instanceof o.Name))throw new Error("ajv implementation error");const fe=Array.isArray(L)?L:[L];return(0,o._)`${(0,r.checkDataTypes)(fe,k,Y.opts.strictNumbers,r.DataType.Wrong)}`}return o.nil}function ge(){if(W.validateSchema){const fe=j.scopeValue("validate$data",{ref:W.validateSchema});return(0,o._)`!${fe}(${k})`}return o.nil}}subschema(j,k){const L=(0,a.getSubschema)(this.it,j);(0,a.extendSubschemaData)(L,this.it,j),(0,a.extendSubschemaMode)(L,j);const W={...this.it,...L,items:void 0,props:void 0};return v(W,k),W}mergeEvaluated(j,k){const{it:L,gen:W}=this;L.opts.unevaluated&&(L.props!==!0&&j.props!==void 0&&(L.props=u.mergeEvaluated.props(W,j.props,L.props,k)),L.items!==!0&&j.items!==void 0&&(L.items=u.mergeEvaluated.items(W,j.items,L.items,k)))}mergeValidEvaluated(j,k){const{it:L,gen:W}=this;if(L.opts.unevaluated&&(L.props!==!0||L.items!==!0))return W.if(k,()=>this.mergeEvaluated(j,o.Name)),!0}}qe.KeywordCxt=T;function H(P,j,k,L){const W=new T(P,k,j);"code"in k?k.code(W,L):W.$data&&k.validate?(0,s.funcKeywordCode)(W,k):"macro"in k?(0,s.macroKeywordCode)(W,k):(k.compile||k.validate)&&(0,s.funcKeywordCode)(W,k)}const J=/^\/(?:[^~]|~0|~1)*$/,K=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function B(P,{dataLevel:j,dataNames:k,dataPathArr:L}){let W,Y;if(P==="")return c.default.rootData;if(P[0]==="/"){if(!J.test(P))throw new Error(`Invalid JSON-pointer: ${P}`);W=P,Y=c.default.rootData}else{const ye=K.exec(P);if(!ye)throw new Error(`Invalid JSON-pointer: ${P}`);const he=+ye[1];if(W=ye[2],W==="#"){if(he>=j)throw new Error(fe("property/index",he));return L[j-he]}if(he>j)throw new Error(fe("data",he));if(Y=k[j-he],!W)return Y}let ue=Y;const ge=W.split("/");for(const ye of ge)ye&&(Y=(0,o._)`${Y}${(0,o.getProperty)((0,u.unescapeJsonPointer)(ye))}`,ue=(0,o._)`${ue} && ${Y}`);return ue;function fe(ye,he){return`Cannot access ${ye} ${he} levels up, current level is ${j}`}}return qe.getData=B,qe}var At={},es;function yn(){if(es)return At;es=1,Object.defineProperty(At,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return At.default=t,At}var Rt={},ts;function Ir(){if(ts)return Rt;ts=1,Object.defineProperty(Rt,"__esModule",{value:!0});const t=jr();class e extends Error{constructor(r,i,s,a){super(a||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Rt.default=e,Rt}var Oe={},rs;function gn(){if(rs)return Oe;rs=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.resolveSchema=Oe.getCompilingSchema=Oe.resolveRef=Oe.compileSchema=Oe.SchemaEnv=void 0;const t=te(),e=yn(),n=Ye(),r=jr(),i=ae(),s=Nr();class a{constructor(g){var h;this.refs={},this.dynamicAnchors={};let v;typeof g.schema=="object"&&(v=g.schema),this.schema=g.schema,this.schemaId=g.schemaId,this.root=g.root||this,this.baseId=(h=g.baseId)!==null&&h!==void 0?h:(0,r.normalizeId)(v?.[g.schemaId||"$id"]),this.schemaPath=g.schemaPath,this.localRefs=g.localRefs,this.meta=g.meta,this.$async=v?.$async,this.refs={}}}Oe.SchemaEnv=a;function o(d){const g=u.call(this,d);if(g)return g;const h=(0,r.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:v,lines:$}=this.opts.code,{ownProperties:b}=this.opts,w=new t.CodeGen(this.scope,{es5:v,lines:$,ownProperties:b});let E;d.$async&&(E=w.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const I=w.scopeName("validate");d.validateName=I;const C={gen:w,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:w.scopeValue("schema",this.opts.code.source===!0?{ref:d.schema,code:(0,t.stringify)(d.schema)}:{ref:d.schema}),validateName:I,ValidationError:E,schema:d.schema,schemaEnv:d,rootId:h,baseId:d.baseId||h,schemaPath:t.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let F;try{this._compilations.add(d),(0,s.validateFunctionCode)(C),w.optimize(this.opts.code.optimize);const U=w.toString();F=`${w.scopeRefs(n.default.scope)}return ${U}`,this.opts.code.process&&(F=this.opts.code.process(F,d));const N=new Function(`${n.default.self}`,`${n.default.scope}`,F)(this,this.scope.get());if(this.scope.value(I,{ref:N}),N.errors=null,N.schema=d.schema,N.schemaEnv=d,d.$async&&(N.$async=!0),this.opts.code.source===!0&&(N.source={validateName:I,validateCode:U,scopeValues:w._values}),this.opts.unevaluated){const{props:q,items:x}=C;N.evaluated={props:q instanceof t.Name?void 0:q,items:x instanceof t.Name?void 0:x,dynamicProps:q instanceof t.Name,dynamicItems:x instanceof t.Name},N.source&&(N.source.evaluated=(0,t.stringify)(N.evaluated))}return d.validate=N,d}catch(U){throw delete d.validate,delete d.validateName,F&&this.logger.error("Error compiling schema, function code:",F),U}finally{this._compilations.delete(d)}}Oe.compileSchema=o;function c(d,g,h){var v;h=(0,r.resolveUrl)(this.opts.uriResolver,g,h);const $=d.refs[h];if($)return $;let b=p.call(this,d,h);if(b===void 0){const w=(v=d.localRefs)===null||v===void 0?void 0:v[h],{schemaId:E}=this.opts;w&&(b=new a({schema:w,schemaId:E,root:d,baseId:g}))}if(b!==void 0)return d.refs[h]=l.call(this,b)}Oe.resolveRef=c;function l(d){return(0,r.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:o.call(this,d)}function u(d){for(const g of this._compilations)if(f(g,d))return g}Oe.getCompilingSchema=u;function f(d,g){return d.schema===g.schema&&d.root===g.root&&d.baseId===g.baseId}function p(d,g){let h;for(;typeof(h=this.refs[g])=="string";)g=h;return h||this.schemas[g]||m.call(this,d,g)}function m(d,g){const h=this.opts.uriResolver.parse(g),v=(0,r._getFullPath)(this.opts.uriResolver,h);let $=(0,r.getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&v===$)return y.call(this,h,d);const b=(0,r.normalizeId)(v),w=this.refs[b]||this.schemas[b];if(typeof w=="string"){const E=m.call(this,d,w);return typeof E?.schema!="object"?void 0:y.call(this,h,E)}if(typeof w?.schema=="object"){if(w.validate||o.call(this,w),b===(0,r.normalizeId)(g)){const{schema:E}=w,{schemaId:I}=this.opts,C=E[I];return C&&($=(0,r.resolveUrl)(this.opts.uriResolver,$,C)),new a({schema:E,schemaId:I,root:d,baseId:$})}return y.call(this,h,w)}}Oe.resolveSchema=m;const _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(d,{baseId:g,schema:h,root:v}){var $;if((($=d.fragment)===null||$===void 0?void 0:$[0])!=="/")return;for(const E of d.fragment.slice(1).split("/")){if(typeof h=="boolean")return;const I=h[(0,i.unescapeFragment)(E)];if(I===void 0)return;h=I;const C=typeof h=="object"&&h[this.opts.schemaId];!_.has(E)&&C&&(g=(0,r.resolveUrl)(this.opts.uriResolver,g,C))}let b;if(typeof h!="boolean"&&h.$ref&&!(0,i.schemaHasRulesButRef)(h,this.RULES)){const E=(0,r.resolveUrl)(this.opts.uriResolver,g,h.$ref);b=m.call(this,v,E)}const{schemaId:w}=this.opts;if(b=b||new a({schema:h,schemaId:w,root:v,baseId:g}),b.schema!==b.root.schema)return b}return Oe}const Cc="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",jc="Meta-schema for $data reference (JSON AnySchema extension proposal)",Nc="object",Ic=["$data"],Ac={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Rc=!1,Tc={$id:Cc,description:jc,type:Nc,required:Ic,properties:Ac,additionalProperties:Rc};var Tt={},ns;function Dc(){if(ns)return Tt;ns=1,Object.defineProperty(Tt,"__esModule",{value:!0});const t=qi();return t.code='require("ajv/dist/runtime/uri").default',Tt.default=t,Tt}var ss;function Fc(){return ss||(ss=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Nr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=te();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=yn(),i=Ir(),s=ji(),a=gn(),o=te(),c=jr(),l=wr(),u=ae(),f=Tc,p=Dc(),m=(M,A)=>new RegExp(M,A);m.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},g={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},h=200;function v(M){var A,V,D,S,O,T,H,J,K,B,P,j,k,L,W,Y,ue,ge,fe,ye,he,se,_e,Pe,Ae;const Qe=M.strict,ut=(A=M.code)===null||A===void 0?void 0:A.optimize,jt=ut===!0||ut===void 0?1:ut||0,_n=(D=(V=M.code)===null||V===void 0?void 0:V.regExp)!==null&&D!==void 0?D:m,Di=(S=M.uriResolver)!==null&&S!==void 0?S:p.default;return{strictSchema:(T=(O=M.strictSchema)!==null&&O!==void 0?O:Qe)!==null&&T!==void 0?T:!0,strictNumbers:(J=(H=M.strictNumbers)!==null&&H!==void 0?H:Qe)!==null&&J!==void 0?J:!0,strictTypes:(B=(K=M.strictTypes)!==null&&K!==void 0?K:Qe)!==null&&B!==void 0?B:"log",strictTuples:(j=(P=M.strictTuples)!==null&&P!==void 0?P:Qe)!==null&&j!==void 0?j:"log",strictRequired:(L=(k=M.strictRequired)!==null&&k!==void 0?k:Qe)!==null&&L!==void 0?L:!1,code:M.code?{...M.code,optimize:jt,regExp:_n}:{optimize:jt,regExp:_n},loopRequired:(W=M.loopRequired)!==null&&W!==void 0?W:h,loopEnum:(Y=M.loopEnum)!==null&&Y!==void 0?Y:h,meta:(ue=M.meta)!==null&&ue!==void 0?ue:!0,messages:(ge=M.messages)!==null&&ge!==void 0?ge:!0,inlineRefs:(fe=M.inlineRefs)!==null&&fe!==void 0?fe:!0,schemaId:(ye=M.schemaId)!==null&&ye!==void 0?ye:"$id",addUsedSchema:(he=M.addUsedSchema)!==null&&he!==void 0?he:!0,validateSchema:(se=M.validateSchema)!==null&&se!==void 0?se:!0,validateFormats:(_e=M.validateFormats)!==null&&_e!==void 0?_e:!0,unicodeRegExp:(Pe=M.unicodeRegExp)!==null&&Pe!==void 0?Pe:!0,int32range:(Ae=M.int32range)!==null&&Ae!==void 0?Ae:!0,uriResolver:Di}}class ${constructor(A={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,A=this.opts={...A,...v(A)};const{es5:V,lines:D}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:y,es5:V,lines:D}),this.logger=z(A.logger);const S=A.validateFormats;A.validateFormats=!1,this.RULES=(0,s.getRules)(),b.call(this,d,A,"NOT SUPPORTED"),b.call(this,g,A,"DEPRECATED","warn"),this._metaOpts=F.call(this),A.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),A.keywords&&C.call(this,A.keywords),typeof A.meta=="object"&&this.addMetaSchema(A.meta),E.call(this),A.validateFormats=S}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:A,meta:V,schemaId:D}=this.opts;let S=f;D==="id"&&(S={...f},S.id=S.$id,delete S.$id),V&&A&&this.addMetaSchema(S,S[D],!1)}defaultMeta(){const{meta:A,schemaId:V}=this.opts;return this.opts.defaultMeta=typeof A=="object"?A[V]||A:void 0}validate(A,V){let D;if(typeof A=="string"){if(D=this.getSchema(A),!D)throw new Error(`no schema with key or ref "${A}"`)}else D=this.compile(A);const S=D(V);return"$async"in D||(this.errors=D.errors),S}compile(A,V){const D=this._addSchema(A,V);return D.validate||this._compileSchemaEnv(D)}compileAsync(A,V){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:D}=this.opts;return S.call(this,A,V);async function S(B,P){await O.call(this,B.$schema);const j=this._addSchema(B,P);return j.validate||T.call(this,j)}async function O(B){B&&!this.getSchema(B)&&await S.call(this,{$ref:B},!0)}async function T(B){try{return this._compileSchemaEnv(B)}catch(P){if(!(P instanceof i.default))throw P;return H.call(this,P),await J.call(this,P.missingSchema),T.call(this,B)}}function H({missingSchema:B,missingRef:P}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${P} cannot be resolved`)}async function J(B){const P=await K.call(this,B);this.refs[B]||await O.call(this,P.$schema),this.refs[B]||this.addSchema(P,B,V)}async function K(B){const P=this._loading[B];if(P)return P;try{return await(this._loading[B]=D(B))}finally{delete this._loading[B]}}}addSchema(A,V,D,S=this.opts.validateSchema){if(Array.isArray(A)){for(const T of A)this.addSchema(T,void 0,D,S);return this}let O;if(typeof A=="object"){const{schemaId:T}=this.opts;if(O=A[T],O!==void 0&&typeof O!="string")throw new Error(`schema ${T} must be string`)}return V=(0,c.normalizeId)(V||O),this._checkUnique(V),this.schemas[V]=this._addSchema(A,D,V,S,!0),this}addMetaSchema(A,V,D=this.opts.validateSchema){return this.addSchema(A,V,!0,D),this}validateSchema(A,V){if(typeof A=="boolean")return!0;let D;if(D=A.$schema,D!==void 0&&typeof D!="string")throw new Error("$schema must be a string");if(D=D||this.opts.defaultMeta||this.defaultMeta(),!D)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const S=this.validate(D,A);if(!S&&V){const O="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(O);else throw new Error(O)}return S}getSchema(A){let V;for(;typeof(V=w.call(this,A))=="string";)A=V;if(V===void 0){const{schemaId:D}=this.opts,S=new a.SchemaEnv({schema:{},schemaId:D});if(V=a.resolveSchema.call(this,S,A),!V)return;this.refs[A]=V}return V.validate||this._compileSchemaEnv(V)}removeSchema(A){if(A instanceof RegExp)return this._removeAllSchemas(this.schemas,A),this._removeAllSchemas(this.refs,A),this;switch(typeof A){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const V=w.call(this,A);return typeof V=="object"&&this._cache.delete(V.schema),delete this.schemas[A],delete this.refs[A],this}case"object":{const V=A;this._cache.delete(V);let D=A[this.opts.schemaId];return D&&(D=(0,c.normalizeId)(D),delete this.schemas[D],delete this.refs[D]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(A){for(const V of A)this.addKeyword(V);return this}addKeyword(A,V){let D;if(typeof A=="string")D=A,typeof V=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),V.keyword=D);else if(typeof A=="object"&&V===void 0){if(V=A,D=V.keyword,Array.isArray(D)&&!D.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(q.call(this,D,V),!V)return(0,u.eachItem)(D,O=>x.call(this,O)),this;ne.call(this,V);const S={...V,type:(0,l.getJSONTypes)(V.type),schemaType:(0,l.getJSONTypes)(V.schemaType)};return(0,u.eachItem)(D,S.type.length===0?O=>x.call(this,O,S):O=>S.type.forEach(T=>x.call(this,O,S,T))),this}getKeyword(A){const V=this.RULES.all[A];return typeof V=="object"?V.definition:!!V}removeKeyword(A){const{RULES:V}=this;delete V.keywords[A],delete V.all[A];for(const D of V.rules){const S=D.rules.findIndex(O=>O.keyword===A);S>=0&&D.rules.splice(S,1)}return this}addFormat(A,V){return typeof V=="string"&&(V=new RegExp(V)),this.formats[A]=V,this}errorsText(A=this.errors,{separator:V=", ",dataVar:D="data"}={}){return!A||A.length===0?"No errors":A.map(S=>`${D}${S.instancePath} ${S.message}`).reduce((S,O)=>S+V+O)}$dataMetaSchema(A,V){const D=this.RULES.all;A=JSON.parse(JSON.stringify(A));for(const S of V){const O=S.split("/").slice(1);let T=A;for(const H of O)T=T[H];for(const H in D){const J=D[H];if(typeof J!="object")continue;const{$data:K}=J.definition,B=T[H];K&&B&&(T[H]=Z(B))}}return A}_removeAllSchemas(A,V){for(const D in A){const S=A[D];(!V||V.test(D))&&(typeof S=="string"?delete A[D]:S&&!S.meta&&(this._cache.delete(S.schema),delete A[D]))}}_addSchema(A,V,D,S=this.opts.validateSchema,O=this.opts.addUsedSchema){let T;const{schemaId:H}=this.opts;if(typeof A=="object")T=A[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof A!="boolean")throw new Error("schema must be object or boolean")}let J=this._cache.get(A);if(J!==void 0)return J;D=(0,c.normalizeId)(T||D);const K=c.getSchemaRefs.call(this,A,D);return J=new a.SchemaEnv({schema:A,schemaId:H,meta:V,baseId:D,localRefs:K}),this._cache.set(J.schema,J),O&&!D.startsWith("#")&&(D&&this._checkUnique(D),this.refs[D]=J),S&&this.validateSchema(A,!0),J}_checkUnique(A){if(this.schemas[A]||this.refs[A])throw new Error(`schema with key or id "${A}" already exists`)}_compileSchemaEnv(A){if(A.meta?this._compileMetaSchema(A):a.compileSchema.call(this,A),!A.validate)throw new Error("ajv implementation error");return A.validate}_compileMetaSchema(A){const V=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,A)}finally{this.opts=V}}}$.ValidationError=r.default,$.MissingRefError=i.default,t.default=$;function b(M,A,V,D="error"){for(const S in M){const O=S;O in A&&this.logger[D](`${V}: option ${S}. ${M[O]}`)}}function w(M){return M=(0,c.normalizeId)(M),this.schemas[M]||this.refs[M]}function E(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const A in M)this.addSchema(M[A],A)}function I(){for(const M in this.opts.formats){const A=this.opts.formats[M];A&&this.addFormat(M,A)}}function C(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const A in M){const V=M[A];V.keyword||(V.keyword=A),this.addKeyword(V)}}function F(){const M={...this.opts};for(const A of _)delete M[A];return M}const U={log(){},warn(){},error(){}};function z(M){if(M===!1)return U;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const N=/^[a-z_$][a-z0-9_$:-]*$/i;function q(M,A){const{RULES:V}=this;if((0,u.eachItem)(M,D=>{if(V.keywords[D])throw new Error(`Keyword ${D} is already defined`);if(!N.test(D))throw new Error(`Keyword ${D} has invalid name`)}),!!A&&A.$data&&!("code"in A||"validate"in A))throw new Error('$data keyword must have "code" or "validate" function')}function x(M,A,V){var D;const S=A?.post;if(V&&S)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:O}=this;let T=S?O.post:O.rules.find(({type:J})=>J===V);if(T||(T={type:V,rules:[]},O.rules.push(T)),O.keywords[M]=!0,!A)return;const H={keyword:M,definition:{...A,type:(0,l.getJSONTypes)(A.type),schemaType:(0,l.getJSONTypes)(A.schemaType)}};A.before?X.call(this,T,H,A.before):T.rules.push(H),O.all[M]=H,(D=A.implements)===null||D===void 0||D.forEach(J=>this.addKeyword(J))}function X(M,A,V){const D=M.rules.findIndex(S=>S.keyword===V);D>=0?M.rules.splice(D,0,A):(M.rules.push(A),this.logger.warn(`rule ${V} is not defined`))}function ne(M){let{metaSchema:A}=M;A!==void 0&&(M.$data&&this.opts.$data&&(A=Z(A)),M.validateSchema=this.compile(A,!0))}const G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Z(M){return{anyOf:[M,G]}}})(xr)),xr}var Dt={},Ft={},kt={},is;function kc(){if(is)return kt;is=1,Object.defineProperty(kt,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return kt.default=t,kt}var Be={},os;function qc(){if(os)return Be;os=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.callRef=Be.getValidate=void 0;const t=Ir(),e=De(),n=te(),r=Ye(),i=gn(),s=ae(),a={keyword:"$ref",schemaType:"string",code(l){const{gen:u,schema:f,it:p}=l,{baseId:m,schemaEnv:_,validateName:y,opts:d,self:g}=p,{root:h}=_;if((f==="#"||f==="#/")&&m===h.baseId)return $();const v=i.resolveRef.call(g,h,m,f);if(v===void 0)throw new t.default(p.opts.uriResolver,m,f);if(v instanceof i.SchemaEnv)return b(v);return w(v);function $(){if(_===h)return c(l,y,_,_.$async);const E=u.scopeValue("root",{ref:h});return c(l,(0,n._)`${E}.validate`,h,h.$async)}function b(E){const I=o(l,E);c(l,I,E,E.$async)}function w(E){const I=u.scopeValue("schema",d.code.source===!0?{ref:E,code:(0,n.stringify)(E)}:{ref:E}),C=u.name("valid"),F=l.subschema({schema:E,dataTypes:[],schemaPath:n.nil,topSchemaRef:I,errSchemaPath:f},C);l.mergeEvaluated(F),l.ok(C)}}};function o(l,u){const{gen:f}=l;return u.validate?f.scopeValue("validate",{ref:u.validate}):(0,n._)`${f.scopeValue("wrapper",{ref:u})}.validate`}Be.getValidate=o;function c(l,u,f,p){const{gen:m,it:_}=l,{allErrors:y,schemaEnv:d,opts:g}=_,h=g.passContext?r.default.this:n.nil;p?v():$();function v(){if(!d.$async)throw new Error("async schema referenced by sync schema");const E=m.let("valid");m.try(()=>{m.code((0,n._)`await ${(0,e.callValidateCode)(l,u,h)}`),w(u),y||m.assign(E,!0)},I=>{m.if((0,n._)`!(${I} instanceof ${_.ValidationError})`,()=>m.throw(I)),b(I),y||m.assign(E,!1)}),l.ok(E)}function $(){l.result((0,e.callValidateCode)(l,u,h),()=>w(u),()=>b(u))}function b(E){const I=(0,n._)`${E}.errors`;m.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${I} : ${r.default.vErrors}.concat(${I})`),m.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function w(E){var I;if(!_.opts.unevaluated)return;const C=(I=f?.validate)===null||I===void 0?void 0:I.evaluated;if(_.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(_.props=s.mergeEvaluated.props(m,C.props,_.props));else{const F=m.var("props",(0,n._)`${E}.evaluated.props`);_.props=s.mergeEvaluated.props(m,F,_.props,n.Name)}if(_.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(_.items=s.mergeEvaluated.items(m,C.items,_.items));else{const F=m.var("items",(0,n._)`${E}.evaluated.items`);_.items=s.mergeEvaluated.items(m,F,_.items,n.Name)}}}return Be.callRef=c,Be.default=a,Be}var as;function Mc(){if(as)return Ft;as=1,Object.defineProperty(Ft,"__esModule",{value:!0});const t=kc(),e=qc(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Ft.default=n,Ft}var qt={},Mt={},cs;function Vc(){if(cs)return Mt;cs=1,Object.defineProperty(Mt,"__esModule",{value:!0});const t=te(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${n[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${n[s].okStr}, limit: ${a}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(s){const{keyword:a,data:o,schemaCode:c}=s;s.fail$data((0,t._)`${o} ${n[a].fail} ${c} || isNaN(${o})`)}};return Mt.default=i,Mt}var Vt={},ls;function Uc(){if(ls)return Vt;ls=1,Object.defineProperty(Vt,"__esModule",{value:!0});const t=te(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:s,schemaCode:a,it:o}=r,c=o.opts.multipleOfPrecision,l=i.let("res"),u=c?(0,t._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${c}`:(0,t._)`${l} !== parseInt(${l})`;r.fail$data((0,t._)`(${a} === 0 || (${l} = ${s}/${a}, ${u}))`)}};return Vt.default=n,Vt}var Ut={},xt={},us;function xc(){if(us)return xt;us=1,Object.defineProperty(xt,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,s;for(;i<n;)r++,s=e.charCodeAt(i++),s>=55296&&s<=56319&&i<n&&(s=e.charCodeAt(i),(s&64512)===56320&&i++);return r}return xt.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',xt}var ds;function Kc(){if(ds)return Ut;ds=1,Object.defineProperty(Ut,"__esModule",{value:!0});const t=te(),e=ae(),n=xc(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:a}){const o=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:a,data:o,schemaCode:c,it:l}=s,u=a==="maxLength"?t.operators.GT:t.operators.LT,f=l.opts.unicode===!1?(0,t._)`${o}.length`:(0,t._)`${(0,e.useFunc)(s.gen,n.default)}(${o})`;s.fail$data((0,t._)`${f} ${u} ${c}`)}};return Ut.default=i,Ut}var Kt={},fs;function Lc(){if(fs)return Kt;fs=1,Object.defineProperty(Kt,"__esModule",{value:!0});const t=De(),e=te(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:s,$data:a,schema:o,schemaCode:c,it:l}=i,u=l.opts.unicodeRegExp?"u":"",f=a?(0,e._)`(new RegExp(${c}, ${u}))`:(0,t.usePattern)(i,o);i.fail$data((0,e._)`!${f}.test(${s})`)}};return Kt.default=r,Kt}var Lt={},ms;function zc(){if(ms)return Lt;ms=1,Object.defineProperty(Lt,"__esModule",{value:!0});const t=te(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:a}=r,o=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${s}).length ${o} ${a}`)}};return Lt.default=n,Lt}var zt={},hs;function Bc(){if(hs)return zt;hs=1,Object.defineProperty(zt,"__esModule",{value:!0});const t=De(),e=te(),n=ae(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:a,schema:o,schemaCode:c,data:l,$data:u,it:f}=s,{opts:p}=f;if(!u&&o.length===0)return;const m=o.length>=p.loopRequired;if(f.allErrors?_():y(),p.strictRequired){const h=s.parentSchema.properties,{definedProperties:v}=s.it;for(const $ of o)if(h?.[$]===void 0&&!v.has($)){const b=f.schemaEnv.baseId+f.errSchemaPath,w=`required property "${$}" is not defined at "${b}" (strictRequired)`;(0,n.checkStrictMode)(f,w,f.opts.strictRequired)}}function _(){if(m||u)s.block$data(e.nil,d);else for(const h of o)(0,t.checkReportMissingProp)(s,h)}function y(){const h=a.let("missing");if(m||u){const v=a.let("valid",!0);s.block$data(v,()=>g(h,v)),s.ok(v)}else a.if((0,t.checkMissingProp)(s,o,h)),(0,t.reportMissingProp)(s,h),a.else()}function d(){a.forOf("prop",c,h=>{s.setParams({missingProperty:h}),a.if((0,t.noPropertyInData)(a,l,h,p.ownProperties),()=>s.error())})}function g(h,v){s.setParams({missingProperty:h}),a.forOf(h,c,()=>{a.assign(v,(0,t.propertyInData)(a,l,h,p.ownProperties)),a.if((0,e.not)(v),()=>{s.error(),a.break()})},e.nil)}}};return zt.default=i,zt}var Bt={},ps;function Wc(){if(ps)return Bt;ps=1,Object.defineProperty(Bt,"__esModule",{value:!0});const t=te(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:a}=r,o=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${s}.length ${o} ${a}`)}};return Bt.default=n,Bt}var Wt={},Gt={},ys;function vn(){if(ys)return Gt;ys=1,Object.defineProperty(Gt,"__esModule",{value:!0});const t=Hs();return t.code='require("ajv/dist/runtime/equal").default',Gt.default=t,Gt}var gs;function Gc(){if(gs)return Wt;gs=1,Object.defineProperty(Wt,"__esModule",{value:!0});const t=wr(),e=te(),n=ae(),r=vn(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:o}})=>(0,e.str)`must NOT have duplicate items (items ## ${o} and ${a} are identical)`,params:({params:{i:a,j:o}})=>(0,e._)`{i: ${a}, j: ${o}}`},code(a){const{gen:o,data:c,$data:l,schema:u,parentSchema:f,schemaCode:p,it:m}=a;if(!l&&!u)return;const _=o.let("valid"),y=f.items?(0,t.getSchemaTypes)(f.items):[];a.block$data(_,d,(0,e._)`${p} === false`),a.ok(_);function d(){const $=o.let("i",(0,e._)`${c}.length`),b=o.let("j");a.setParams({i:$,j:b}),o.assign(_,!0),o.if((0,e._)`${$} > 1`,()=>(g()?h:v)($,b))}function g(){return y.length>0&&!y.some($=>$==="object"||$==="array")}function h($,b){const w=o.name("item"),E=(0,t.checkDataTypes)(y,w,m.opts.strictNumbers,t.DataType.Wrong),I=o.const("indices",(0,e._)`{}`);o.for((0,e._)`;${$}--;`,()=>{o.let(w,(0,e._)`${c}[${$}]`),o.if(E,(0,e._)`continue`),y.length>1&&o.if((0,e._)`typeof ${w} == "string"`,(0,e._)`${w} += "_"`),o.if((0,e._)`typeof ${I}[${w}] == "number"`,()=>{o.assign(b,(0,e._)`${I}[${w}]`),a.error(),o.assign(_,!1).break()}).code((0,e._)`${I}[${w}] = ${$}`)})}function v($,b){const w=(0,n.useFunc)(o,r.default),E=o.name("outer");o.label(E).for((0,e._)`;${$}--;`,()=>o.for((0,e._)`${b} = ${$}; ${b}--;`,()=>o.if((0,e._)`${w}(${c}[${$}], ${c}[${b}])`,()=>{a.error(),o.assign(_,!1).break(E)})))}}};return Wt.default=s,Wt}var Jt={},vs;function Jc(){if(vs)return Jt;vs=1,Object.defineProperty(Jt,"__esModule",{value:!0});const t=te(),e=ae(),n=vn(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:a,data:o,$data:c,schemaCode:l,schema:u}=s;c||u&&typeof u=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(a,n.default)}(${o}, ${l})`):s.fail((0,t._)`${u} !== ${o}`)}};return Jt.default=i,Jt}var Ht={},_s;function Hc(){if(_s)return Ht;_s=1,Object.defineProperty(Ht,"__esModule",{value:!0});const t=te(),e=ae(),n=vn(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:a,data:o,$data:c,schema:l,schemaCode:u,it:f}=s;if(!c&&l.length===0)throw new Error("enum must have non-empty array");const p=l.length>=f.opts.loopEnum;let m;const _=()=>m??(m=(0,e.useFunc)(a,n.default));let y;if(p||c)y=a.let("valid"),s.block$data(y,d);else{if(!Array.isArray(l))throw new Error("ajv implementation error");const h=a.const("vSchema",u);y=(0,t.or)(...l.map((v,$)=>g(h,$)))}s.pass(y);function d(){a.assign(y,!1),a.forOf("v",u,h=>a.if((0,t._)`${_()}(${o}, ${h})`,()=>a.assign(y,!0).break()))}function g(h,v){const $=l[v];return typeof $=="object"&&$!==null?(0,t._)`${_()}(${o}, ${h}[${v}])`:(0,t._)`${o} === ${$}`}}};return Ht.default=i,Ht}var $s;function Yc(){if($s)return qt;$s=1,Object.defineProperty(qt,"__esModule",{value:!0});const t=Vc(),e=Uc(),n=Kc(),r=Lc(),i=zc(),s=Bc(),a=Wc(),o=Gc(),c=Jc(),l=Hc(),u=[t.default,e.default,n.default,r.default,i.default,s.default,a.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,l.default];return qt.default=u,qt}var Yt={},st={},bs;function Ii(){if(bs)return st;bs=1,Object.defineProperty(st,"__esModule",{value:!0}),st.validateAdditionalItems=void 0;const t=te(),e=ae(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:a,it:o}=s,{items:c}=a;if(!Array.isArray(c)){(0,e.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,c)}};function i(s,a){const{gen:o,schema:c,data:l,keyword:u,it:f}=s;f.items=!0;const p=o.const("len",(0,t._)`${l}.length`);if(c===!1)s.setParams({len:a.length}),s.pass((0,t._)`${p} <= ${a.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(f,c)){const _=o.var("valid",(0,t._)`${p} <= ${a.length}`);o.if((0,t.not)(_),()=>m(_)),s.ok(_)}function m(_){o.forRange("i",a.length,p,y=>{s.subschema({keyword:u,dataProp:y,dataPropType:e.Type.Num},_),f.allErrors||o.if((0,t.not)(_),()=>o.break())})}}return st.validateAdditionalItems=i,st.default=r,st}var Qt={},it={},ws;function Ai(){if(ws)return it;ws=1,Object.defineProperty(it,"__esModule",{value:!0}),it.validateTuple=void 0;const t=te(),e=ae(),n=De(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:o}=s;if(Array.isArray(a))return i(s,"additionalItems",a);o.items=!0,!(0,e.alwaysValidSchema)(o,a)&&s.ok((0,n.validateArray)(s))}};function i(s,a,o=s.schema){const{gen:c,parentSchema:l,data:u,keyword:f,it:p}=s;y(l),p.opts.unevaluated&&o.length&&p.items!==!0&&(p.items=e.mergeEvaluated.items(c,o.length,p.items));const m=c.name("valid"),_=c.const("len",(0,t._)`${u}.length`);o.forEach((d,g)=>{(0,e.alwaysValidSchema)(p,d)||(c.if((0,t._)`${_} > ${g}`,()=>s.subschema({keyword:f,schemaProp:g,dataProp:g},m)),s.ok(m))});function y(d){const{opts:g,errSchemaPath:h}=p,v=o.length,$=v===d.minItems&&(v===d.maxItems||d[a]===!1);if(g.strictTuples&&!$){const b=`"${f}" is ${v}-tuple, but minItems or maxItems/${a} are not specified or different at path "${h}"`;(0,e.checkStrictMode)(p,b,g.strictTuples)}}}return it.validateTuple=i,it.default=r,it}var Ss;function Qc(){if(Ss)return Qt;Ss=1,Object.defineProperty(Qt,"__esModule",{value:!0});const t=Ai(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return Qt.default=e,Qt}var Xt={},Es;function Xc(){if(Es)return Xt;Es=1,Object.defineProperty(Xt,"__esModule",{value:!0});const t=te(),e=ae(),n=De(),r=Ii(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{schema:o,parentSchema:c,it:l}=a,{prefixItems:u}=c;l.items=!0,!(0,e.alwaysValidSchema)(l,o)&&(u?(0,r.validateAdditionalItems)(a,u):a.ok((0,n.validateArray)(a)))}};return Xt.default=s,Xt}var Zt={},Ps;function Zc(){if(Ps)return Zt;Ps=1,Object.defineProperty(Zt,"__esModule",{value:!0});const t=te(),e=ae(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:a,parentSchema:o,data:c,it:l}=i;let u,f;const{minContains:p,maxContains:m}=o;l.opts.next?(u=p===void 0?1:p,f=m):u=1;const _=s.const("len",(0,t._)`${c}.length`);if(i.setParams({min:u,max:f}),f===void 0&&u===0){(0,e.checkStrictMode)(l,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&u>f){(0,e.checkStrictMode)(l,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(l,a)){let v=(0,t._)`${_} >= ${u}`;f!==void 0&&(v=(0,t._)`${v} && ${_} <= ${f}`),i.pass(v);return}l.items=!0;const y=s.name("valid");f===void 0&&u===1?g(y,()=>s.if(y,()=>s.break())):u===0?(s.let(y,!0),f!==void 0&&s.if((0,t._)`${c}.length > 0`,d)):(s.let(y,!1),d()),i.result(y,()=>i.reset());function d(){const v=s.name("_valid"),$=s.let("count",0);g(v,()=>s.if(v,()=>h($)))}function g(v,$){s.forRange("i",0,_,b=>{i.subschema({keyword:"contains",dataProp:b,dataPropType:e.Type.Num,compositeRule:!0},v),$()})}function h(v){s.code((0,t._)`${v}++`),f===void 0?s.if((0,t._)`${v} >= ${u}`,()=>s.assign(y,!0).break()):(s.if((0,t._)`${v} > ${f}`,()=>s.assign(y,!1).break()),u===1?s.assign(y,!0):s.if((0,t._)`${v} >= ${u}`,()=>s.assign(y,!0)))}}};return Zt.default=r,Zt}var Gr={},Os;function el(){return Os||(Os=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=te(),n=ae(),r=De();t.error={message:({params:{property:c,depsCount:l,deps:u}})=>{const f=l===1?"property":"properties";return(0,e.str)`must have ${f} ${u} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:u,missingProperty:f}})=>(0,e._)`{property: ${c},
    missingProperty: ${f},
    depsCount: ${l},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[l,u]=s(c);a(c,l),o(c,u)}};function s({schema:c}){const l={},u={};for(const f in c){if(f==="__proto__")continue;const p=Array.isArray(c[f])?l:u;p[f]=c[f]}return[l,u]}function a(c,l=c.schema){const{gen:u,data:f,it:p}=c;if(Object.keys(l).length===0)return;const m=u.let("missing");for(const _ in l){const y=l[_];if(y.length===0)continue;const d=(0,r.propertyInData)(u,f,_,p.opts.ownProperties);c.setParams({property:_,depsCount:y.length,deps:y.join(", ")}),p.allErrors?u.if(d,()=>{for(const g of y)(0,r.checkReportMissingProp)(c,g)}):(u.if((0,e._)`${d} && (${(0,r.checkMissingProp)(c,y,m)})`),(0,r.reportMissingProp)(c,m),u.else())}}t.validatePropertyDeps=a;function o(c,l=c.schema){const{gen:u,data:f,keyword:p,it:m}=c,_=u.name("valid");for(const y in l)(0,n.alwaysValidSchema)(m,l[y])||(u.if((0,r.propertyInData)(u,f,y,m.opts.ownProperties),()=>{const d=c.subschema({keyword:p,schemaProp:y},_);c.mergeValidEvaluated(d,_)},()=>u.var(_,!0)),c.ok(_))}t.validateSchemaDeps=o,t.default=i})(Gr)),Gr}var er={},Cs;function tl(){if(Cs)return er;Cs=1,Object.defineProperty(er,"__esModule",{value:!0});const t=te(),e=ae(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:a,data:o,it:c}=i;if((0,e.alwaysValidSchema)(c,a))return;const l=s.name("valid");s.forIn("key",o,u=>{i.setParams({propertyName:u}),i.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},l),s.if((0,t.not)(l),()=>{i.error(!0),c.allErrors||s.break()})}),i.ok(l)}};return er.default=r,er}var tr={},js;function Ri(){if(js)return tr;js=1,Object.defineProperty(tr,"__esModule",{value:!0});const t=De(),e=te(),n=Ye(),r=ae(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:o,schema:c,parentSchema:l,data:u,errsCount:f,it:p}=a;if(!f)throw new Error("ajv implementation error");const{allErrors:m,opts:_}=p;if(p.props=!0,_.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(p,c))return;const y=(0,t.allSchemaProperties)(l.properties),d=(0,t.allSchemaProperties)(l.patternProperties);g(),a.ok((0,e._)`${f} === ${n.default.errors}`);function g(){o.forIn("key",u,w=>{!y.length&&!d.length?$(w):o.if(h(w),()=>$(w))})}function h(w){let E;if(y.length>8){const I=(0,r.schemaRefOrVal)(p,l.properties,"properties");E=(0,t.isOwnProperty)(o,I,w)}else y.length?E=(0,e.or)(...y.map(I=>(0,e._)`${w} === ${I}`)):E=e.nil;return d.length&&(E=(0,e.or)(E,...d.map(I=>(0,e._)`${(0,t.usePattern)(a,I)}.test(${w})`))),(0,e.not)(E)}function v(w){o.code((0,e._)`delete ${u}[${w}]`)}function $(w){if(_.removeAdditional==="all"||_.removeAdditional&&c===!1){v(w);return}if(c===!1){a.setParams({additionalProperty:w}),a.error(),m||o.break();return}if(typeof c=="object"&&!(0,r.alwaysValidSchema)(p,c)){const E=o.name("valid");_.removeAdditional==="failing"?(b(w,E,!1),o.if((0,e.not)(E),()=>{a.reset(),v(w)})):(b(w,E),m||o.if((0,e.not)(E),()=>o.break()))}}function b(w,E,I){const C={keyword:"additionalProperties",dataProp:w,dataPropType:r.Type.Str};I===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(C,E)}}};return tr.default=s,tr}var rr={},Ns;function rl(){if(Ns)return rr;Ns=1,Object.defineProperty(rr,"__esModule",{value:!0});const t=Nr(),e=De(),n=ae(),r=Ri(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:o,parentSchema:c,data:l,it:u}=s;u.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(u,r.default,"additionalProperties"));const f=(0,e.allSchemaProperties)(o);for(const d of f)u.definedProperties.add(d);u.opts.unevaluated&&f.length&&u.props!==!0&&(u.props=n.mergeEvaluated.props(a,(0,n.toHash)(f),u.props));const p=f.filter(d=>!(0,n.alwaysValidSchema)(u,o[d]));if(p.length===0)return;const m=a.name("valid");for(const d of p)_(d)?y(d):(a.if((0,e.propertyInData)(a,l,d,u.opts.ownProperties)),y(d),u.allErrors||a.else().var(m,!0),a.endIf()),s.it.definedProperties.add(d),s.ok(m);function _(d){return u.opts.useDefaults&&!u.compositeRule&&o[d].default!==void 0}function y(d){s.subschema({keyword:"properties",schemaProp:d,dataProp:d},m)}}};return rr.default=i,rr}var nr={},Is;function nl(){if(Is)return nr;Is=1,Object.defineProperty(nr,"__esModule",{value:!0});const t=De(),e=te(),n=ae(),r=ae(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:o,data:c,parentSchema:l,it:u}=s,{opts:f}=u,p=(0,t.allSchemaProperties)(o),m=p.filter($=>(0,n.alwaysValidSchema)(u,o[$]));if(p.length===0||m.length===p.length&&(!u.opts.unevaluated||u.props===!0))return;const _=f.strictSchema&&!f.allowMatchingProperties&&l.properties,y=a.name("valid");u.props!==!0&&!(u.props instanceof e.Name)&&(u.props=(0,r.evaluatedPropsToName)(a,u.props));const{props:d}=u;g();function g(){for(const $ of p)_&&h($),u.allErrors?v($):(a.var(y,!0),v($),a.if(y))}function h($){for(const b in _)new RegExp($).test(b)&&(0,n.checkStrictMode)(u,`property ${b} matches pattern ${$} (use allowMatchingProperties)`)}function v($){a.forIn("key",c,b=>{a.if((0,e._)`${(0,t.usePattern)(s,$)}.test(${b})`,()=>{const w=m.includes($);w||s.subschema({keyword:"patternProperties",schemaProp:$,dataProp:b,dataPropType:r.Type.Str},y),u.opts.unevaluated&&d!==!0?a.assign((0,e._)`${d}[${b}]`,!0):!w&&!u.allErrors&&a.if((0,e.not)(y),()=>a.break())})})}}};return nr.default=i,nr}var sr={},As;function sl(){if(As)return sr;As=1,Object.defineProperty(sr,"__esModule",{value:!0});const t=ae(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:s}=n;if((0,t.alwaysValidSchema)(s,i)){n.fail();return}const a=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return sr.default=e,sr}var ir={},Rs;function il(){if(Rs)return ir;Rs=1,Object.defineProperty(ir,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:De().validateUnion,error:{message:"must match a schema in anyOf"}};return ir.default=e,ir}var or={},Ts;function ol(){if(Ts)return or;Ts=1,Object.defineProperty(or,"__esModule",{value:!0});const t=te(),e=ae(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:a,parentSchema:o,it:c}=i;if(!Array.isArray(a))throw new Error("ajv implementation error");if(c.opts.discriminator&&o.discriminator)return;const l=a,u=s.let("valid",!1),f=s.let("passing",null),p=s.name("_valid");i.setParams({passing:f}),s.block(m),i.result(u,()=>i.reset(),()=>i.error(!0));function m(){l.forEach((_,y)=>{let d;(0,e.alwaysValidSchema)(c,_)?s.var(p,!0):d=i.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},p),y>0&&s.if((0,t._)`${p} && ${u}`).assign(u,!1).assign(f,(0,t._)`[${f}, ${y}]`).else(),s.if(p,()=>{s.assign(u,!0),s.assign(f,y),d&&i.mergeEvaluated(d,t.Name)})})}}};return or.default=r,or}var ar={},Ds;function al(){if(Ds)return ar;Ds=1,Object.defineProperty(ar,"__esModule",{value:!0});const t=ae(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:s}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const a=r.name("valid");i.forEach((o,c)=>{if((0,t.alwaysValidSchema)(s,o))return;const l=n.subschema({keyword:"allOf",schemaProp:c},a);n.ok(a),n.mergeEvaluated(l)})}};return ar.default=e,ar}var cr={},Fs;function cl(){if(Fs)return cr;Fs=1,Object.defineProperty(cr,"__esModule",{value:!0});const t=te(),e=ae(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:a,parentSchema:o,it:c}=s;o.then===void 0&&o.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const l=i(c,"then"),u=i(c,"else");if(!l&&!u)return;const f=a.let("valid",!0),p=a.name("_valid");if(m(),s.reset(),l&&u){const y=a.let("ifClause");s.setParams({ifClause:y}),a.if(p,_("then",y),_("else",y))}else l?a.if(p,_("then")):a.if((0,t.not)(p),_("else"));s.pass(f,()=>s.error(!0));function m(){const y=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},p);s.mergeEvaluated(y)}function _(y,d){return()=>{const g=s.subschema({keyword:y},p);a.assign(f,p),s.mergeValidEvaluated(g,f),d?a.assign(d,(0,t._)`${y}`):s.setParams({ifClause:y})}}}};function i(s,a){const o=s.schema[a];return o!==void 0&&!(0,e.alwaysValidSchema)(s,o)}return cr.default=r,cr}var lr={},ks;function ll(){if(ks)return lr;ks=1,Object.defineProperty(lr,"__esModule",{value:!0});const t=ae(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return lr.default=e,lr}var qs;function ul(){if(qs)return Yt;qs=1,Object.defineProperty(Yt,"__esModule",{value:!0});const t=Ii(),e=Qc(),n=Ai(),r=Xc(),i=Zc(),s=el(),a=tl(),o=Ri(),c=rl(),l=nl(),u=sl(),f=il(),p=ol(),m=al(),_=cl(),y=ll();function d(g=!1){const h=[u.default,f.default,p.default,m.default,_.default,y.default,a.default,o.default,s.default,c.default,l.default];return g?h.push(e.default,r.default):h.push(t.default,n.default),h.push(i.default),h}return Yt.default=d,Yt}var ur={},dr={},Ms;function dl(){if(Ms)return dr;Ms=1,Object.defineProperty(dr,"__esModule",{value:!0});const t=te(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:s,data:a,$data:o,schema:c,schemaCode:l,it:u}=r,{opts:f,errSchemaPath:p,schemaEnv:m,self:_}=u;if(!f.validateFormats)return;o?y():d();function y(){const g=s.scopeValue("formats",{ref:_.formats,code:f.code.formats}),h=s.const("fDef",(0,t._)`${g}[${l}]`),v=s.let("fType"),$=s.let("format");s.if((0,t._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>s.assign(v,(0,t._)`${h}.type || "string"`).assign($,(0,t._)`${h}.validate`),()=>s.assign(v,(0,t._)`"string"`).assign($,h)),r.fail$data((0,t.or)(b(),w()));function b(){return f.strictSchema===!1?t.nil:(0,t._)`${l} && !${$}`}function w(){const E=m.$async?(0,t._)`(${h}.async ? await ${$}(${a}) : ${$}(${a}))`:(0,t._)`${$}(${a})`,I=(0,t._)`(typeof ${$} == "function" ? ${E} : ${$}.test(${a}))`;return(0,t._)`${$} && ${$} !== true && ${v} === ${i} && !${I}`}}function d(){const g=_.formats[c];if(!g){b();return}if(g===!0)return;const[h,v,$]=w(g);h===i&&r.pass(E());function b(){if(f.strictSchema===!1){_.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${c}" ignored in schema at path "${p}"`}}function w(I){const C=I instanceof RegExp?(0,t.regexpCode)(I):f.code.formats?(0,t._)`${f.code.formats}${(0,t.getProperty)(c)}`:void 0,F=s.scopeValue("formats",{key:c,ref:I,code:C});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,t._)`${F}.validate`]:["string",I,F]}function E(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!m.$async)throw new Error("async format in sync schema");return(0,t._)`await ${$}(${a})`}return typeof v=="function"?(0,t._)`${$}(${a})`:(0,t._)`${$}.test(${a})`}}}};return dr.default=n,dr}var Vs;function fl(){if(Vs)return ur;Vs=1,Object.defineProperty(ur,"__esModule",{value:!0});const e=[dl().default];return ur.default=e,ur}var et={},Us;function ml(){return Us||(Us=1,Object.defineProperty(et,"__esModule",{value:!0}),et.contentVocabulary=et.metadataVocabulary=void 0,et.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],et.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),et}var xs;function hl(){if(xs)return Dt;xs=1,Object.defineProperty(Dt,"__esModule",{value:!0});const t=Mc(),e=Yc(),n=ul(),r=fl(),i=ml(),s=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return Dt.default=s,Dt}var fr={},ht={},Ks;function pl(){if(Ks)return ht;Ks=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.DiscrError=void 0;var t;return(function(e){e.Tag="tag",e.Mapping="mapping"})(t||(ht.DiscrError=t={})),ht}var Ls;function yl(){if(Ls)return fr;Ls=1,Object.defineProperty(fr,"__esModule",{value:!0});const t=te(),e=pl(),n=gn(),r=Ir(),i=ae(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:c}})=>o===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:o,tag:c,tagName:l}})=>(0,t._)`{error: ${o}, tag: ${l}, tagValue: ${c}}`},code(o){const{gen:c,data:l,schema:u,parentSchema:f,it:p}=o,{oneOf:m}=f;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const _=u.propertyName;if(typeof _!="string")throw new Error("discriminator: requires propertyName");if(u.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const y=c.let("valid",!1),d=c.const("tag",(0,t._)`${l}${(0,t.getProperty)(_)}`);c.if((0,t._)`typeof ${d} == "string"`,()=>g(),()=>o.error(!1,{discrError:e.DiscrError.Tag,tag:d,tagName:_})),o.ok(y);function g(){const $=v();c.if(!1);for(const b in $)c.elseIf((0,t._)`${d} === ${b}`),c.assign(y,h($[b]));c.else(),o.error(!1,{discrError:e.DiscrError.Mapping,tag:d,tagName:_}),c.endIf()}function h($){const b=c.name("valid"),w=o.subschema({keyword:"oneOf",schemaProp:$},b);return o.mergeEvaluated(w,t.Name),b}function v(){var $;const b={},w=I(f);let E=!0;for(let U=0;U<m.length;U++){let z=m[U];if(z?.$ref&&!(0,i.schemaHasRulesButRef)(z,p.self.RULES)){const q=z.$ref;if(z=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,q),z instanceof n.SchemaEnv&&(z=z.schema),z===void 0)throw new r.default(p.opts.uriResolver,p.baseId,q)}const N=($=z?.properties)===null||$===void 0?void 0:$[_];if(typeof N!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${_}"`);E=E&&(w||I(z)),C(N,U)}if(!E)throw new Error(`discriminator: "${_}" must be required`);return b;function I({required:U}){return Array.isArray(U)&&U.includes(_)}function C(U,z){if(U.const)F(U.const,z);else if(U.enum)for(const N of U.enum)F(N,z);else throw new Error(`discriminator: "properties/${_}" must have "const" or "enum"`)}function F(U,z){if(typeof U!="string"||U in b)throw new Error(`discriminator: "${_}" values must be unique strings`);b[U]=z}}}};return fr.default=a,fr}const gl="http://json-schema.org/draft-07/schema#",vl="http://json-schema.org/draft-07/schema#",_l="Core schema meta-schema",$l={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},bl=["object","boolean"],wl={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Sl={$schema:gl,$id:vl,title:_l,definitions:$l,type:bl,properties:wl,default:!0};var zs;function Ti(){return zs||(zs=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=Fc(),r=hl(),i=yl(),s=Sl,a=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var l=Nr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var u=te();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=yn();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var p=Ir();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return p.default}})})(Nt,Nt.exports)),Nt.exports}var El=Ti();const Pl=Er(El);var mr={exports:{}},Jr={},Bs;function Ol(){return Bs||(Bs=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(C,F){return{validate:C,compare:F}}t.fullFormats={date:e(s,a),time:e(c,l),"date-time":e(f,p),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:y,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:I,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:$},int64:{type:"number",validate:b},float:{type:"number",validate:w},double:{type:"number",validate:w},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function n(C){return C%4===0&&(C%100!==0||C%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(C){const F=r.exec(C);if(!F)return!1;const U=+F[1],z=+F[2],N=+F[3];return z>=1&&z<=12&&N>=1&&N<=(z===2&&n(U)?29:i[z])}function a(C,F){if(C&&F)return C>F?1:C<F?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(C,F){const U=o.exec(C);if(!U)return!1;const z=+U[1],N=+U[2],q=+U[3],x=U[5];return(z<=23&&N<=59&&q<=59||z===23&&N===59&&q===60)&&(!F||x!=="")}function l(C,F){if(!(C&&F))return;const U=o.exec(C),z=o.exec(F);if(U&&z)return C=U[1]+U[2]+U[3]+(U[4]||""),F=z[1]+z[2]+z[3]+(z[4]||""),C>F?1:C<F?-1:0}const u=/t|\s/i;function f(C){const F=C.split(u);return F.length===2&&s(F[0])&&c(F[1],!0)}function p(C,F){if(!(C&&F))return;const[U,z]=C.split(u),[N,q]=F.split(u),x=a(U,N);if(x!==void 0)return x||l(z,q)}const m=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function y(C){return m.test(C)&&_.test(C)}const d=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(C){return d.lastIndex=0,d.test(C)}const h=-2147483648,v=2**31-1;function $(C){return Number.isInteger(C)&&C<=v&&C>=h}function b(C){return Number.isInteger(C)}function w(){return!0}const E=/[^\\]\\Z/;function I(C){if(E.test(C))return!1;try{return new RegExp(C),!0}catch{return!1}}})(Jr)),Jr}var Hr={},Ws;function Cl(){return Ws||(Ws=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Ti(),n=te(),r=n.operators,i={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},s={message:({keyword:o,schemaCode:c})=>n.str`should be ${i[o].okStr} ${c}`,params:({keyword:o,schemaCode:c})=>n._`{comparison: ${i[o].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:c,data:l,schemaCode:u,keyword:f,it:p}=o,{opts:m,self:_}=p;if(!m.validateFormats)return;const y=new e.KeywordCxt(p,_.RULES.all.format.definition,"format");y.$data?d():g();function d(){const v=c.scopeValue("formats",{ref:_.formats,code:m.code.formats}),$=c.const("fmt",n._`${v}[${y.schemaCode}]`);o.fail$data(n.or(n._`typeof ${$} != "object"`,n._`${$} instanceof RegExp`,n._`typeof ${$}.compare != "function"`,h($)))}function g(){const v=y.schema,$=_.formats[v];if(!$||$===!0)return;if(typeof $!="object"||$ instanceof RegExp||typeof $.compare!="function")throw new Error(`"${f}": format "${v}" does not define "compare" function`);const b=c.scopeValue("formats",{key:v,ref:$,code:m.code.formats?n._`${m.code.formats}${n.getProperty(v)}`:void 0});o.fail$data(h(b))}function h(v){return n._`${v}.compare(${l}, ${u}) ${i[f].fail} 0`}},dependencies:["format"]};const a=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=a})(Hr)),Hr}var Gs;function jl(){return Gs||(Gs=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=Ol(),r=Cl(),i=te(),s=new i.Name("fullFormats"),a=new i.Name("fastFormats"),o=(l,u={keywords:!0})=>{if(Array.isArray(u))return c(l,u,n.fullFormats,s),l;const[f,p]=u.mode==="fast"?[n.fastFormats,a]:[n.fullFormats,s],m=u.formats||n.formatNames;return c(l,m,f,p),u.keywords&&r.default(l),l};o.get=(l,u="full")=>{const p=(u==="fast"?n.fastFormats:n.fullFormats)[l];if(!p)throw new Error(`Unknown format "${l}"`);return p};function c(l,u,f,p){var m,_;(m=(_=l.opts.code).formats)!==null&&m!==void 0||(_.formats=i._`require("ajv-formats/dist/formats").${p}`);for(const y of u)l.addFormat(y,f[y])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(mr,mr.exports)),mr.exports}var Nl=jl();const Js=Er(Nl),Il={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},Al=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,Rl=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function Tl(t,e,n={},r,i=Pl){const s=new i({...Il,...n});return r?Js(s,r):r!==!1&&Js(s),s.addFormat("data-url",Rl),s.addFormat("color",Al),s.addKeyword(Et),s.addKeyword(on),Array.isArray(t)&&s.addMetaSchema(t),Ie(e)&&Object.keys(e).forEach(a=>{s.addFormat(a,e[a])}),s}function Dl(t=[],e){return t.map(n=>{var r;const{instancePath:i,keyword:s,params:a,schemaPath:o,parentSchema:c,...l}=n;let{message:u=""}=l,f=i.replace(/\//g,"."),p=`${f} ${u}`.trim();const m=[...((r=a.deps)===null||r===void 0?void 0:r.split(", "))||[],a.missingProperty,a.property].filter(_=>_);if(m.length>0)m.forEach(_=>{const y=f?`${f}.${_}`:_;let d=ie(Q(e,`${y.replace(/^\./,"")}`)).title;if(d===void 0){const g=o.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([_]);d=ie(Q(e,g)).title}if(d)u=u.replace(`'${_}'`,`'${d}'`);else{const g=Q(c,[ve,_,"title"]);g&&(u=u.replace(`'${_}'`,`'${g}'`))}}),p=u;else{const _=ie(Q(e,`${f.replace(/^\./,"")}`)).title;if(_)p=`'${_}' ${u}`.trim();else{const y=c?.title;y&&(p=`'${y}' ${u}`.trim())}}return"missingProperty"in a&&(f=f?`${f}.${a.missingProperty}`:a.missingProperty),{name:s,property:f,message:u,params:a,stack:p,schemaPath:o}})}function Fl(t,e,n,r,i,s,a){const{validationError:o}=e;let c=Dl(e.errors,a);o&&(c=[...c,{stack:o.message}]),typeof s=="function"&&(c=s(c,a));let l=oa(c);if(o&&(l={...l,$schema:{__errors:[o.message]}}),typeof i!="function")return{errors:c,errorSchema:l};const u=vi(t,r,n,r,!0),f=i(u,$r(u),a),p=hn(f);return gr({errors:c,errorSchema:l},p)}class kl{constructor(e,n){const{additionalMetaSchemas:r,customFormats:i,ajvOptionsOverrides:s,ajvFormatOptions:a,AjvClass:o}=e;this.ajv=Tl(r,i,s,a,o),this.localizer=n}reset(){this.ajv.removeSchema()}toErrorList(e,n=[]){return St(e,n)}rawValidation(e,n){var r,i;let s,a;e[Ge]&&(a=this.ajv.getSchema(e[Ge]));try{a===void 0&&(a=this.ajv.compile(e)),a(n)}catch(c){s=c}let o;return a&&(typeof this.localizer=="function"&&(((r=a.errors)!==null&&r!==void 0?r:[]).forEach(c=>{var l;["missingProperty","property"].forEach(u=>{var f;!((f=c.params)===null||f===void 0)&&f[u]&&(c.params[u]=`'${c.params[u]}'`)}),!((l=c.params)===null||l===void 0)&&l.deps&&(c.params.deps=c.params.deps.split(", ").map(u=>`'${u}'`).join(", "))}),this.localizer(a.errors),((i=a.errors)!==null&&i!==void 0?i:[]).forEach(c=>{var l;["missingProperty","property"].forEach(u=>{var f;!((f=c.params)===null||f===void 0)&&f[u]&&(c.params[u]=c.params[u].slice(1,-1))}),!((l=c.params)===null||l===void 0)&&l.deps&&(c.params.deps=c.params.deps.split(", ").map(u=>u.slice(1,-1)).join(", "))})),o=a.errors||void 0,a.errors=null),{errors:o,validationError:s}}validateFormData(e,n,r,i,s){const a=this.rawValidation(n,e);return Fl(this,a,e,n,r,i,s)}handleSchemaUpdate(e){var n,r;const i=(n=e[Ge])!==null&&n!==void 0?n:oi;this.ajv.getSchema(i)===void 0?this.ajv.addSchema(e,i):pe(e,(r=this.ajv.getSchema(i))===null||r===void 0?void 0:r.schema)||(this.ajv.removeSchema(i),this.ajv.addSchema(e,i))}isValid(e,n,r){var i;try{this.handleSchemaUpdate(r);const s=pn(e),a=(i=s[Ge])!==null&&i!==void 0?i:ea(s);let o;return o=this.ajv.getSchema(a),o===void 0&&(o=this.ajv.addSchema(s,a).getSchema(a)||this.ajv.compile(s)),o(n)}catch(s){return console.warn("Error encountered compiling schema:",s),!1}}}function ql(t={},e){return new kl(t,e)}const xl=ql();export{Et as A,Ul as F,rt as a,ie as b,le as c,ke as d,Ko as e,Jo as g,xl as v};
