import{L as un,N as fn,y as I,B as h,O as He,P as mn,Q as bt}from"./vendor_node_modules.js";import{q as De,s as pn,t as Le,u as E,v as It,w as J,x as ze,y as hn,z as Y,A as yn,B as gn,C as bn,D as Sn,E as Nt,F as Z,G as xn,H as we,I as be,J as Fn,K as Tt,g as Cn,L as Pt,M as ve,N as On,O as vn,P as En,Q as wn,R as St,S as jn}from"./vendor_lodash.js";function P(t){return typeof t!="object"||t===null||typeof t.lastModified=="number"&&typeof File<"u"&&t instanceof File||typeof t.getMonth=="function"&&typeof Date<"u"&&t instanceof Date?!1:!Array.isArray(t)}function Dn(t){return t.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),P(t.additionalItems)}function xt(t){if(t==="")return;if(t===null)return null;if(/\.$/.test(t)||/\.0$/.test(t)||/\.\d*0$/.test(t))return t;const e=Number(t);return typeof e=="number"&&!Number.isNaN(e)?e:t}const Ue="__additional_property",nt="additionalProperties",Fe="allOf",ee="anyOf",se="const",An="default",Je="dependencies",In="enum",G="__errors",ce="$id",Nn="if",de="items",Tn="_$junk_option_schema_id$_",Ve="$name",Q="oneOf",q="properties",Pn="required",Ke="submitButtonOptions",K="$ref",lt="__rjsf_additionalProperties",$t="__rjsf_rootSchema",$n="ui:field",ct="ui:widget",je="ui:options",Un="ui:globalOptions";function T(t={},e={}){return Object.keys(t).filter(n=>n.indexOf("ui:")===0).reduce((n,r)=>{const i=t[r];return r===ct&&P(i)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),n):r===je&&P(i)?{...n,...i}:{...n,[r.substring(3)]:i}},{...e})}function _n(t,e={},n){if(!t.additionalProperties)return!1;const{expandable:r=!0}=T(e);return r===!1?r:t.maxProperties!==void 0&&n?Object.keys(n).length<t.maxProperties:!0}function Ye(t){const e={[G]:[],addError(n){this[G].push(n)}};if(Array.isArray(t))return t.reduce((n,r,i)=>({...n,[i]:Ye(r)}),e);if(De(t)){const n=t;return Object.keys(n).reduce((r,i)=>({...r,[i]:Ye(n[i])}),e)}return e}function W(t,e){return pn(t,e,(n,r)=>{if(typeof n=="function"&&typeof r=="function")return!0})}function dt(t,e){const n=e[t];return[Le(e,[t]),n]}function Ut(t,e={},n=[]){const r=t||"";let i;if(r.startsWith("#"))i=decodeURIComponent(r.substring(1));else throw new Error(`Could not find a definition for ${t}.`);const s=un.get(e,i);if(s===void 0)throw new Error(`Could not find a definition for ${t}.`);const o=s[K];if(o){if(n.includes(o)){if(n.length===1)throw new Error(`Definition for ${t} is a circular reference`);const[d,...u]=n,m=[...u,r,d].join(" -> ");throw new Error(`Definition for ${d} contains a circular reference through ${m}`)}const[a,l]=dt(K,s),c=Ut(l,e,[...n,r]);return Object.keys(a).length>0?{...a,...c}:c}return s}function _t(t,e={}){return Ut(t,e,[])}function kt(t,e,n){var r;if(t&&n){const i=E(t,n);if(i===void 0)return;for(let s=0;s<e.length;s++){const o=e[s],a=E(o,[q,n],{});if(!(a.type==="object"||a.type==="array")&&(a.const===i||!((r=a.enum)===null||r===void 0)&&r.includes(i)))return s}}}function Rt(t,e,n,r,i){if(e===void 0)return 0;const s=kt(e,n,i);if(It(s))return s;for(let o=0;o<n.length;o++){const a=n[o];if(i&&J(a,[q,i])){const l=E(e,i),c=E(a,[q,i],{});if(t.isValid(c,l,r))return o}else if(a[q]){const l={anyOf:Object.keys(a[q]).map(d=>({required:[d]}))};let c;if(a.anyOf){const{...d}=a;d.allOf?d.allOf=d.allOf.slice():d.allOf=[],d.allOf.push(l),c=d}else c=Object.assign({},a,l);if(delete c.required,t.isValid(c,e,r))return o}else if(t.isValid(a,e,r))return o}return 0}function ut(t,e,n,r,i){return Rt(t,e,n,r,i)}function Se(t){let e;const n=E(t,"discriminator.propertyName",void 0);return ze(n)?e=n:n!==void 0&&console.warn(`Expecting discriminator to be a string, got "${typeof n}" instead`),e}function Ae(t){return Array.isArray(t)?"array":typeof t=="string"?"string":t==null?"null":typeof t=="boolean"?"boolean":isNaN(t)?typeof t=="object"?"object":"string":"number"}function oe(t){let{type:e}=t;return!e&&t.const?Ae(t.const):!e&&t.enum?"string":!e&&(t.properties||t.additionalProperties)?"object":(Array.isArray(e)&&(e.length===2&&e.includes("null")?e=e.find(n=>n!=="null"):e=e[0]),e)}function ae(t,e){const n=Object.assign({},t);return Object.keys(e).reduce((r,i)=>{const s=t?t[i]:{},o=e[i];return t&&i in t&&P(o)?r[i]=ae(s,o):t&&e&&(oe(t)==="object"||oe(e)==="object")&&i===Pn&&Array.isArray(s)&&Array.isArray(o)?r[i]=hn(s,o):r[i]=o,r},n)}function X(t,e,n={},r,i){return te(t,e,n,r,void 0,void 0,i)[0]}function kn(t,e,n,r,i,s,o){const{if:a,then:l,else:c,...d}=e,u=t.isValid(a,s||{},n);let m=[d],f=[];if(r)l&&typeof l!="boolean"&&(f=f.concat(te(t,l,n,s,r,i,o))),c&&typeof c!="boolean"&&(f=f.concat(te(t,c,n,s,r,i,o)));else{const g=u?l:c;g&&typeof g!="boolean"&&(f=f.concat(te(t,g,n,s,r,i,o)))}return f.length&&(m=f.map(g=>ae(d,g))),m.flatMap(g=>te(t,g,n,s,r,i,o))}function Bt(t){return t.reduce((n,r)=>r.length>1?r.flatMap(i=>Nt(n.length,s=>[...n[s]].concat(i))):(n.forEach(i=>i.push(r[0])),n),[[]])}function Rn(t,e,n,r,i,s,o){const a=Vt(t,e,n,r,i,s);if(a.length>1||a[0]!==e)return a;if(Je in e)return Wt(t,e,n,r,i,s).flatMap(c=>te(t,c,n,s,r,i,o));if(Fe in e&&Array.isArray(e.allOf)){const l=e.allOf.map(d=>te(t,d,n,s,r,i,o));return Bt(l).map(d=>({...e,allOf:d}))}return[e]}function Vt(t,e,n,r,i,s,o){const a=Ie(e,n,i);return a!==e?te(t,a,n,s,r,i,o):[e]}function Ie(t,e,n){if(!P(t))return t;let r=t;if(K in r){const{$ref:i,...s}=r;if(n.includes(i))return r;n.push(i),r={..._t(i,e),...s}}if(q in r){const i=[],s=yn(r[q],(o,a,l)=>{const c=[...n];o[l]=Ie(a,e,c),i.push(c)},{});gn(n,bn(Sn(i))),r={...r,[q]:s}}return de in r&&!Array.isArray(r.items)&&typeof r.items!="boolean"&&(r={...r,items:Ie(r.items,e,n)}),W(t,r)?t:r}function Bn(t,e,n,r,i){const s={...e,properties:{...e.properties}},o=r&&P(r)?r:{};return Object.keys(o).forEach(a=>{if(a in s.properties)return;let l={};typeof s.additionalProperties!="boolean"?K in s.additionalProperties?l=X(t,{$ref:E(s.additionalProperties,[K])},n,o,i):"type"in s.additionalProperties?l={...s.additionalProperties}:ee in s.additionalProperties||Q in s.additionalProperties?l={type:"object",...s.additionalProperties}:l={type:Ae(E(o,[a]))}:l={type:Ae(E(o,[a]))},s.properties[a]=l,Y(s.properties,[a,Ue],!0)}),s}function te(t,e,n,r,i=!1,s=[],o){return P(e)?Rn(t,e,n,i,s,r,o).flatMap(l=>{var c;let d=l;if(Nn in d)return kn(t,d,n,i,s,r,o);if(Fe in d){if(i){const{allOf:m,...f}=d;return[...m,f]}try{const m=[],f=[];(c=d.allOf)===null||c===void 0||c.forEach(g=>{typeof g=="object"&&g.contains?m.push(g):f.push(g)}),m.length&&(d={...d,allOf:f}),d=o?o(d):fn(d,{deep:!1}),m.length&&(d.allOf=m)}catch(m){console.warn(`could not merge subschemas in allOf:
`,m);const{allOf:f,...g}=d;return g}}return nt in d&&d.additionalProperties!==!1?Bn(t,d,n,r,o):d}):[{}]}function Vn(t,e,n,r,i){let s;const{oneOf:o,anyOf:a,...l}=e;if(Array.isArray(o)?s=o:Array.isArray(a)&&(s=a),s){const c=i===void 0&&r?{}:i,d=Se(e);s=s.map(m=>Ie(m,n,[]));const u=ut(t,c,s,n,d);if(r)return s.map(m=>ae(l,m));e=ae(l,s[u])}return[e]}function Wt(t,e,n,r,i,s,o){const{dependencies:a,...l}=e;return Vn(t,l,n,r,s).flatMap(d=>Mt(t,a,d,n,r,i,s,o))}function Mt(t,e,n,r,i,s,o,a){let l=[n];for(const c in e){if(!i&&E(o,[c])===void 0||n.properties&&!(c in n.properties))continue;const[d,u]=dt(c,e);return Array.isArray(u)?l[0]=Wn(n,u):P(u)&&(l=Mn(t,n,r,c,u,i,s,o,a)),l.flatMap(m=>Mt(t,d,m,r,i,s,o,a))}return l}function Wn(t,e){if(!e)return t;const n=Array.isArray(t.required)?Array.from(new Set([...t.required,...e])):e;return{...t,required:n}}function Mn(t,e,n,r,i,s,o,a,l){return te(t,i,n,a,s,o,l).flatMap(d=>{const{oneOf:u,...m}=d;if(e=ae(e,m),u===void 0)return e;const f=u.map(y=>typeof y=="boolean"||!(K in y)?[y]:Vt(t,y,n,s,o,a));return Bt(f).flatMap(y=>qn(t,e,n,r,y,s,o,a,l))})}function qn(t,e,n,r,i,s,o,a,l){const c=i.filter(d=>{if(typeof d=="boolean"||!d||!d.properties)return!1;const{[r]:u}=d.properties;if(u){const m={type:"object",properties:{[r]:u}};return t.isValid(m,a,n)||s}return!1});return!s&&c.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[e]):c.flatMap(d=>{const u=d,[m]=dt(r,u.properties),f={...u,properties:m};return te(t,f,n,a,s,o,l).map(y=>ae(e,y))})}const Ln={type:"object",$id:Tn,properties:{__not_really_there__:{type:"number"}}};function rt(t,e,n,r,i){let s=0;return n&&(Z(n.properties)?s+=xn(n.properties,(o,a,l)=>{const c=E(r,l);if(typeof a=="boolean")return o;if(J(a,K)){const d=X(t,a,e,c,i);return o+rt(t,e,d,c||{},i)}if((J(a,Q)||J(a,ee))&&c){const d=J(a,Q)?Q:ee,u=Se(a);return o+Ne(t,e,c,E(a,d),-1,u,i)}if(a.type==="object")return Z(c)&&(o+=1),o+rt(t,e,a,c,i);if(a.type===Ae(c)){let d=o+1;return a.default?d+=c===a.default?1:-1:a.const&&(d+=c===a.const?1:-1),d}return o},0):ze(n.type)&&n.type===Ae(r)&&(s+=1)),s}function Ne(t,e,n,r,i=-1,s,o){const a=r.map(m=>Ie(m,e,[])),l=kt(n,r,s);if(It(l))return l;const c=a.reduce((m,f,g)=>(ut(t,n,[Ln,f],e,s)===1&&m.push(g),m),[]);if(c.length===1)return c[0];c.length||Nt(a.length,m=>c.push(m));const d=new Set,{bestIndex:u}=c.reduce((m,f)=>{const{bestScore:g}=m,y=a[f],p=rt(t,e,y,n,o);return d.add(p),p>g?{bestIndex:f,bestScore:p}:m},{bestIndex:i,bestScore:0});return d.size===1&&i>=0?i:u}function it(t){return Array.isArray(t.items)&&t.items.length>0&&t.items.every(e=>P(e))}function Te(t,e,n=!1,r=!1,i=!1){if(Array.isArray(e)){const s=Array.isArray(t)?t:[],o=i?s:e,a=i?e:s,l=o.map((c,d)=>a[d]!==void 0?Te(s[d],e[d],n,r,i):c);return(n||i)&&l.length<a.length&&l.push(...a.slice(l.length)),l}if(P(e)){const s=Object.assign({},t);return Object.keys(e).reduce((o,a)=>{const l=E(e,a),c=P(t)&&a in t,d=a in e;return o[a]=Te(t?E(t,a):{},l,n,r,i&&(c||!d)),o},s)}return r&&(!we(t)&&we(e)||typeof e=="number"&&isNaN(e))||i&&!we(e)?t:e}function re(t,e,n=!1){return Object.keys(e).reduce((r,i)=>{const s=t?t[i]:{},o=e[i];if(t&&i in t&&P(o))r[i]=re(s,o,n);else if(n&&Array.isArray(s)&&Array.isArray(o)){let a=o;n==="preventDuplicates"&&(a=o.reduce((l,c)=>(s.includes(c)||l.push(c),l),[])),r[i]=s.concat(a)}else r[i]=o;return r},Object.assign({},t))}function qt(t){return Array.isArray(t.enum)&&t.enum.length===1||se in t}function ft(t,e,n={},r){const i=X(t,e,n,void 0,r),s=i.oneOf||i.anyOf;return Array.isArray(i.enum)?!0:Array.isArray(s)?s.every(o=>typeof o!="boolean"&&qt(o)):!1}function mt(t,e,n,r){return!e.uniqueItems||!e.items||typeof e.items=="boolean"?!1:ft(t,e.items,n,r)}function Lt(t){const e=t[se],n=oe(t);return P(e)&&ze(e?.$data)&&n!=="object"&&n!=="array"}function Kn(t){if(In in t&&Array.isArray(t.enum)&&t.enum.length===1)return t.enum[0];if(se in t)return t.const;throw new Error("schema cannot be inferred as a constant")}function Pe(t,e){const n=t;if(t.enum){let s;if(e){const{enumNames:o}=T(e);s=o}return!s&&n.enumNames&&(s=n.enumNames),t.enum.map((o,a)=>({label:s?.[a]||String(o),value:o}))}let r,i;return t.anyOf?(r=t.anyOf,i=e?.anyOf):t.oneOf&&(r=t.oneOf,i=e?.oneOf),r&&r.map((s,o)=>{const{title:a}=T(i?.[o]),l=s,c=Kn(l),d=a||l.title||String(c);return{schema:l,label:d,value:c}})}const Yn=["string","number","integer","boolean","null"];var xe;(function(t){t[t.Ignore=0]="Ignore",t[t.Invert=1]="Invert",t[t.Fallback=2]="Fallback"})(xe||(xe={}));function Qe(t,e=xe.Ignore,n=-1){if(n>=0){if(Array.isArray(t.items)&&n<t.items.length){const r=t.items[n];if(typeof r!="boolean")return r}}else if(t.items&&!Array.isArray(t.items)&&typeof t.items!="boolean")return t.items;return e!==xe.Ignore&&P(t.additionalItems)?t.additionalItems:{}}function Ft(t,e,n,r,i,s=[],o={},a=!1){const{emptyObjectFields:l="populateAllDefaults"}=o;if(r||a)t[e]=n;else if(l!=="skipDefaults"){const c=i===void 0?s.includes(e):i;P(n)?l==="skipEmptyDefaults"?be(n)||(t[e]=n):(!be(n)||s.includes(e))&&(c||l!=="populateRequiredDefaults")&&(t[e]=n):n!==void 0&&(l==="populateAllDefaults"||l==="skipEmptyDefaults"||c&&s.includes(e))&&(t[e]=n)}}function ue(t,e,n={}){const{parentDefaults:r,rawFormData:i,rootSchema:s={},includeUndefinedValues:o=!1,_recurseList:a=[],experimental_defaultFormStateBehavior:l=void 0,experimental_customMergeAllOf:c=void 0,required:d,shouldMergeDefaultsIntoFormData:u=!1}=n;let m=P(i)?i:{};const f=P(e)?e:{};let g=r,y=null,p=l,b=a;if(f[se]!==void 0&&l?.constAsDefaults!=="never"&&!Lt(f))g=f[se];else if(P(g)&&P(f.default))g=re(g,f.default);else if(An in f&&!f[ee]&&!f[Q])g=f.default;else if(K in f){const S=f[K];a.includes(S)||(b=a.concat(S),y=_t(S,s)),y&&!g&&(g=f.default),u&&y&&!P(i)&&(m=i)}else if(Je in f){const S={...Ct(t,f,n,g),...m};y=Wt(t,f,s,!1,[],S,c)[0]}else if(it(f))g=f.items.map((S,O)=>ue(t,S,{rootSchema:s,includeUndefinedValues:o,_recurseList:a,experimental_defaultFormStateBehavior:l,experimental_customMergeAllOf:c,parentDefaults:Array.isArray(r)?r[O]:void 0,rawFormData:m,required:d,shouldMergeDefaultsIntoFormData:u}));else if(Q in f){const{oneOf:S,...O}=f;if(S.length===0)return;const w=Se(f),{type:C="null"}=O;!Array.isArray(C)&&Yn.includes(C)&&p?.constAsDefaults==="skipOneOf"&&(p={...p,constAsDefaults:"never"}),y=S[Ne(t,s,i??f.default,S,0,w,c)],y=ae(O,y)}else if(ee in f){const{anyOf:S,...O}=f;if(S.length===0)return;const w=Se(f);y=S[Ne(t,s,i??f.default,S,0,w,c)],y=ae(O,y)}if(y)return ue(t,y,{rootSchema:s,includeUndefinedValues:o,_recurseList:b,experimental_defaultFormStateBehavior:p,experimental_customMergeAllOf:c,parentDefaults:g,rawFormData:i??m,required:d,shouldMergeDefaultsIntoFormData:u});g===void 0&&(g=f.default);const F=Ct(t,f,n,g);let x=F??g;if(u){const{arrayMinItems:S={}}=l||{},{mergeExtraDefaults:O}=S,w=Hn(t,f,s,i,l,c);(!P(i)||Fe in f)&&(x=Te(x,w,O,!0))}return x}function Hn(t,e,n,r,i,s){const o=!qt(e)&&ft(t,e,n,s);let a=r;if(o){const c=Pe(e);a=c?.some(u=>W(u.value,r))?r:void 0}return e[se]&&i?.constAsDefaults==="always"&&(a=e.const),a}function zn(t,e,{rawFormData:n,rootSchema:r={},includeUndefinedValues:i=!1,_recurseList:s=[],experimental_defaultFormStateBehavior:o=void 0,experimental_customMergeAllOf:a=void 0,required:l,shouldMergeDefaultsIntoFormData:c}={},d){{const u=P(n)?n:{},m=e,f=o?.allOf==="populateDefaults"&&Fe in m?X(t,m,r,u,a):m,g=f[se],y=Object.keys(f.properties||{}).reduce((p,b)=>{var F;const x=E(f,[q,b]),S=P(g)&&g[b]!==void 0,O=(P(x)&&se in x||S)&&o?.constAsDefaults!=="never"&&!Lt(x),w=ue(t,x,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:o,experimental_customMergeAllOf:a,includeUndefinedValues:i===!0,parentDefaults:E(d,[b]),rawFormData:E(u,[b]),required:(F=f.required)===null||F===void 0?void 0:F.includes(b),shouldMergeDefaultsIntoFormData:c});return Ft(p,b,w,i,l,f.required,o,O),p},{});if(f.additionalProperties){const p=P(f.additionalProperties)?f.additionalProperties:{},b=new Set;P(d)&&Object.keys(d).filter(x=>!f.properties||!f.properties[x]).forEach(x=>b.add(x));const F=[];Object.keys(u).filter(x=>!f.properties||!f.properties[x]).forEach(x=>{b.add(x),F.push(x)}),b.forEach(x=>{var S;const O=ue(t,p,{rootSchema:r,_recurseList:s,experimental_defaultFormStateBehavior:o,experimental_customMergeAllOf:a,includeUndefinedValues:i===!0,parentDefaults:E(d,[x]),rawFormData:E(u,[x]),required:(S=f.required)===null||S===void 0?void 0:S.includes(x),shouldMergeDefaultsIntoFormData:c});Ft(y,x,O,i,l,F)})}return y}}function Jn(t,e,{rawFormData:n,rootSchema:r={},_recurseList:i=[],experimental_defaultFormStateBehavior:s=void 0,experimental_customMergeAllOf:o=void 0,required:a,shouldMergeDefaultsIntoFormData:l}={},c){var d,u;const m=e,f=(d=s?.arrayMinItems)!==null&&d!==void 0?d:{},{populate:g,mergeExtraDefaults:y}=f,p=g==="never",b=g==="requiredOnly",F=g==="all"||!p&&!b,x=(u=f?.computeSkipPopulate)!==null&&u!==void 0?u:(()=>!1),O=s?.emptyObjectFields==="skipEmptyDefaults"?void 0:[];if(Array.isArray(c)&&(c=c.map((_,N)=>{const B=Qe(m,xe.Fallback,N);return ue(t,B,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,parentDefaults:_,required:a,shouldMergeDefaultsIntoFormData:l})})),Array.isArray(n)){const _=Qe(m);if(p)c=n;else{const N=n.map((v,k)=>ue(t,_,{rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,rawFormData:v,parentDefaults:E(c,[k]),required:a,shouldMergeDefaultsIntoFormData:l}));c=Te(c,N,(b&&a||F)&&y)}}if((P(m)&&se in m&&s?.constAsDefaults!=="never")===!1){if(p)return c??O;if(b&&!a)return c||void 0}const C=Array.isArray(c)?c.length:0;if(!m.minItems||mt(t,m,r,o)||x(t,m,r)||m.minItems<=C)return c||O;const A=c||[],j=Qe(m,xe.Invert),D=j.default,V=new Array(m.minItems-C).fill(ue(t,j,{parentDefaults:D,rootSchema:r,_recurseList:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,required:a,shouldMergeDefaultsIntoFormData:l}));return A.concat(V)}function Ct(t,e,n={},r){switch(oe(e)){case"object":return zn(t,e,n,r);case"array":return Jn(t,e,n,r)}}function Kt(t,e,n,r,i=!1,s,o){if(!P(e))throw new Error("Invalid schema: "+e);const a=X(t,e,r,n,o),l=ue(t,a,{rootSchema:r,includeUndefinedValues:i,experimental_defaultFormStateBehavior:s,experimental_customMergeAllOf:o,rawFormData:n,shouldMergeDefaultsIntoFormData:!0});if(P(n)||Array.isArray(n)){const{mergeDefaultsIntoFormData:c}=s||{};return Te(l,n,!0,c==="useDefaultIfFormDataUndefined",!0)}return l}function Yt(t={}){return"widget"in T(t)&&T(t).widget!=="hidden"}function Ht(t,e,n={},r,i){if(n[ct]==="files")return!0;if(e.items){const s=X(t,e.items,r,void 0,i);return s.type==="string"&&s.format==="data-url"}return!1}function Gn(t,e,n={},r,i,s){const o=T(n,i),{label:a=!0}=o;let l=!!a;const c=oe(e);return c==="array"&&(l=mt(t,e,r,s)||Ht(t,e,n,r,s)||Yt(n)),c==="object"&&(l=!1),c==="boolean"&&!n[ct]&&(l=!1),n[$n]&&(l=!1),l}function Qn(t,e,n){if(!n)return e;const{errors:r,errorSchema:i}=e;let s=t.toErrorList(n),o=n;return be(i)||(o=re(i,n,!0),s=[...r].concat(s)),{errorSchema:o,errors:s}}const ge=Symbol("no Value");function st(t,e,n,r,i={},s){let o;if(J(n,q)){const a={};if(J(r,q)){const d=E(r,q,{});Object.keys(d).forEach(u=>{J(i,u)&&(a[u]=void 0)})}const l=Object.keys(E(n,q,{})),c={};l.forEach(d=>{const u=E(i,d);let m=E(r,[q,d],{}),f=E(n,[q,d],{});J(m,K)&&(m=X(t,m,e,u,s)),J(f,K)&&(f=X(t,f,e,u,s));const g=E(m,"type"),y=E(f,"type");if(!g||g===y)if(J(a,d)&&delete a[d],y==="object"||y==="array"&&Array.isArray(u)){const p=st(t,e,f,m,u,s);(p!==void 0||y==="array")&&(c[d]=p)}else{const p=E(f,"default",ge),b=E(m,"default",ge);p!==ge&&p!==u&&(b===u?a[d]=p:E(f,"readOnly")===!0&&(a[d]=void 0));const F=E(f,"const",ge),x=E(m,"const",ge);F!==ge&&F!==u&&(a[d]=x===u?F:void 0)}}),o={...typeof i=="string"||Array.isArray(i)?void 0:i,...a,...c}}else if(E(r,"type")==="array"&&E(n,"type")==="array"&&Array.isArray(i)){let a=E(r,"items"),l=E(n,"items");if(typeof a=="object"&&typeof l=="object"&&!Array.isArray(a)&&!Array.isArray(l)){J(a,K)&&(a=X(t,a,e,i,s)),J(l,K)&&(l=X(t,l,e,i,s));const c=E(a,"type"),d=E(l,"type");if(!c||c===d){const u=E(n,"maxItems",-1);d==="object"?o=i.reduce((m,f)=>{const g=st(t,e,l,a,f,s);return g!==void 0&&(u<0||m.length<u)&&m.push(g),m},[]):o=u>0&&i.length>u?i.slice(0,u):i}}else typeof a=="boolean"&&typeof l=="boolean"&&a===l&&(o=i)}return o}function We(t,e,n,r,i,s,o,a=[],l){if(K in e||Je in e||Fe in e){const u=X(t,e,s,o,l);if(a.findIndex(f=>W(f,u))===-1)return We(t,u,n,r,i,s,o,a.concat(u),l)}if(de in e&&!E(e,[de,K]))return We(t,E(e,de),n,r,i,s,o,a,l);const d={$id:i||n};if(oe(e)==="object"&&q in e)for(const u in e.properties){const m=E(e,[q,u]),f=d[ce]+r+u;d[u]=We(t,P(m)?m:{},n,r,f,s,E(o,[u]),a,l)}return d}function Xn(t,e,n,r,i,s="root",o="_",a){return We(t,e,s,o,n,r,i,void 0,a)}function pe(t,e,n,r,i,s=[],o){if(K in e||Je in e||Fe in e){const l=X(t,e,r,i,o);if(s.findIndex(d=>W(d,l))===-1)return pe(t,l,n,r,i,s.concat(l),o)}let a={[Ve]:n.replace(/^\./,"")};if(Q in e||ee in e){const l=Q in e?e.oneOf:e.anyOf,c=Se(e),d=Ne(t,r,i,l,0,c,o),u=l[d];a={...a,...pe(t,u,n,r,i,s,o)}}if(nt in e&&e[nt]!==!1&&Y(a,lt,!0),de in e&&Array.isArray(i)){const{items:l,additionalItems:c}=e;Array.isArray(l)?i.forEach((d,u)=>{l[u]?a[u]=pe(t,l[u],`${n}.${u}`,r,d,s,o):c?a[u]=pe(t,c,`${n}.${u}`,r,d,s,o):console.warn(`Unable to generate path schema for "${n}.${u}". No schema defined for it`)}):i.forEach((d,u)=>{a[u]=pe(t,l,`${n}.${u}`,r,d,s,o)})}else if(q in e)for(const l in e.properties){const c=E(e,[q,l]);a[l]=pe(t,c,`${n}.${l}`,r,E(i,[l]),s,o)}return a}function Zn(t,e,n="",r,i,s){return pe(t,e,n,r,i,void 0,s)}class er{constructor(e,n,r,i){this.rootSchema=n,this.validator=e,this.experimental_defaultFormStateBehavior=r,this.experimental_customMergeAllOf=i}getValidator(){return this.validator}doesSchemaUtilsDiffer(e,n,r={},i){return!e||!n?!1:this.validator!==e||!W(this.rootSchema,n)||!W(this.experimental_defaultFormStateBehavior,r)||this.experimental_customMergeAllOf!==i}getDefaultFormState(e,n,r=!1){return Kt(this.validator,e,n,this.rootSchema,r,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(e,n,r){return Gn(this.validator,e,n,this.rootSchema,r,this.experimental_customMergeAllOf)}getClosestMatchingOption(e,n,r,i){return Ne(this.validator,this.rootSchema,e,n,r,i,this.experimental_customMergeAllOf)}getFirstMatchingOption(e,n,r){return ut(this.validator,e,n,this.rootSchema,r)}getMatchingOption(e,n,r){return Rt(this.validator,e,n,this.rootSchema,r)}isFilesArray(e,n){return Ht(this.validator,e,n,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(e){return mt(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(e){return ft(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}mergeValidationData(e,n){return Qn(this.validator,e,n)}retrieveSchema(e,n){return X(this.validator,e,this.rootSchema,n,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(e,n,r){return st(this.validator,this.rootSchema,e,n,r,this.experimental_customMergeAllOf)}toIdSchema(e,n,r,i="root",s="_"){return Xn(this.validator,e,n,this.rootSchema,r,i,s,this.experimental_customMergeAllOf)}toPathSchema(e,n,r){return Zn(this.validator,e,n,this.rootSchema,r,this.experimental_customMergeAllOf)}}function tr(t,e,n={},r){return new er(t,e,n,r)}function nr(t){var e;if(t.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const r=t.slice(5).split(";base64,");if(r.length!==2)throw new Error("File is invalid: dataURI must be base64");const[i,s]=r,[o,...a]=i.split(";"),l=o||"",c=decodeURI(((e=a.map(d=>d.split("=")).find(([d])=>d==="name"))===null||e===void 0?void 0:e[1])||"unknown");try{const d=atob(s),u=new Array(d.length);for(let f=0;f<d.length;f++)u[f]=d.charCodeAt(f);return{blob:new window.Blob([new Uint8Array(u)],{type:l}),name:c}}catch(d){throw new Error("File is invalid: "+d.message)}}function le(t,e){let n=String(t);for(;n.length<e;)n="0"+n;return n}function zt(t,e){if(t<=0&&e<=0)t=new Date().getFullYear()+t,e=new Date().getFullYear()+e;else if(t<0||e<0)throw new Error(`Both start (${t}) and stop (${e}) must both be <= 0 or > 0, got one of each`);if(t>e)return zt(e,t).reverse();const n=[];for(let r=t;r<=e;r++)n.push({value:r,label:le(r,2)});return n}function rr(t,e){let n=t;if(Array.isArray(e)){const r=n.split(/(%\d)/);e.forEach((i,s)=>{const o=r.findIndex(a=>a===`%${s+1}`);o>=0&&(r[o]=i)}),n=r.join("")}return n}function ir(t,e){return rr(t,e)}function ne(t,e=[],n){if(Array.isArray(t))return t.map(s=>ne(s,e)).filter(s=>s!==n);const r=t===""||t===null?-1:Number(t),i=e[r];return i?i.value:n}function sr(t,e,n=[]){const r=ne(t,n);return Array.isArray(e)?e.filter(i=>!W(i,r)):W(r,e)?void 0:e}function pt(t,e){return Array.isArray(e)?e.some(n=>W(n,t)):W(e,t)}function or(t,e=[],n=!1){const r=e.map((i,s)=>pt(i.value,t)?String(s):void 0).filter(i=>typeof i<"u");return n?r:r[0]}function ar(t,e,n=[]){const r=ne(t,n);if(!we(r)){const i=n.findIndex(a=>r===a.value),s=n.map(({value:a})=>a);return e.slice(0,i).concat(r,e.slice(i)).sort((a,l)=>+(s.indexOf(a)>s.indexOf(l)))}return e}class lr{constructor(e){this.errorSchema={},this.resetAllErrors(e)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(e){let r=Array.isArray(e)&&e.length>0||typeof e=="string"?E(this.errorSchema,e):this.errorSchema;return!r&&e&&(r={},Fn(this.errorSchema,e,r,Object)),r}resetAllErrors(e){return this.errorSchema=e?Tt(e):{},this}addErrors(e,n){const r=this.getOrCreateErrorBlock(n);let i=E(r,G);return Array.isArray(i)||(i=[],r[G]=i),Array.isArray(e)?Y(r,G,[...new Set([...i,...e])]):Y(r,G,[...new Set([...i,e])]),this}setErrors(e,n){const r=this.getOrCreateErrorBlock(n),i=Array.isArray(e)?[...new Set([...e])]:[e];return Y(r,G,i),this}clearErrors(e){const n=this.getOrCreateErrorBlock(e);return Y(n,G,[]),this}}function cr(t,e,n=[1900,new Date().getFullYear()+2],r="YMD"){const{day:i,month:s,year:o,hour:a,minute:l,second:c}=t,d={type:"day",range:[1,31],value:i},u={type:"month",range:[1,12],value:s},m={type:"year",range:n,value:o},f=[];switch(r){case"MDY":f.push(u,d,m);break;case"DMY":f.push(d,u,m);break;case"YMD":default:f.push(m,u,d)}return e&&f.push({type:"hour",range:[0,23],value:a},{type:"minute",range:[0,59],value:l},{type:"second",range:[0,59],value:c}),f}function dr(t){const e={};return t.multipleOf&&(e.step=t.multipleOf),(t.minimum||t.minimum===0)&&(e.min=t.minimum),(t.maximum||t.maximum===0)&&(e.max=t.maximum),e}function ur(t,e,n={},r=!0){const i={type:e||"text",...dr(t)};return n.inputType?i.type=n.inputType:e||(t.type==="number"?(i.type="number",r&&i.step===void 0&&(i.step="any")):t.type==="integer"&&(i.type="number",i.step===void 0&&(i.step=1))),n.autocomplete&&(i.autoComplete=n.autocomplete),n.accept&&(i.accept=n.accept),i}const Ot={props:{disabled:!1},submitText:"Submit",norender:!1};function fr(t={}){const e=T(t);if(e&&e[Ke]){const n=e[Ke];return{...Ot,...n}}return Ot}function U(t,e,n={}){const{templates:r}=e;return t==="ButtonTemplates"?r[t]:n[t]||r[t]}var Xe={exports:{}},$={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt;function mr(){if(vt)return $;vt=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),g;g=Symbol.for("react.module.reference");function y(p){if(typeof p=="object"&&p!==null){var b=p.$$typeof;switch(b){case t:switch(p=p.type,p){case n:case i:case r:case c:case d:return p;default:switch(p=p&&p.$$typeof,p){case a:case o:case l:case m:case u:case s:return p;default:return b}}case e:return b}}}return $.ContextConsumer=o,$.ContextProvider=s,$.Element=t,$.ForwardRef=l,$.Fragment=n,$.Lazy=m,$.Memo=u,$.Portal=e,$.Profiler=i,$.StrictMode=r,$.Suspense=c,$.SuspenseList=d,$.isAsyncMode=function(){return!1},$.isConcurrentMode=function(){return!1},$.isContextConsumer=function(p){return y(p)===o},$.isContextProvider=function(p){return y(p)===s},$.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===t},$.isForwardRef=function(p){return y(p)===l},$.isFragment=function(p){return y(p)===n},$.isLazy=function(p){return y(p)===m},$.isMemo=function(p){return y(p)===u},$.isPortal=function(p){return y(p)===e},$.isProfiler=function(p){return y(p)===i},$.isStrictMode=function(p){return y(p)===r},$.isSuspense=function(p){return y(p)===c},$.isSuspenseList=function(p){return y(p)===d},$.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===n||p===i||p===r||p===c||p===d||p===f||typeof p=="object"&&p!==null&&(p.$$typeof===m||p.$$typeof===u||p.$$typeof===s||p.$$typeof===o||p.$$typeof===l||p.$$typeof===g||p.getModuleId!==void 0)},$.typeOf=y,$}var Et;function pr(){return Et||(Et=1,Xe.exports=mr()),Xe.exports}var hr=pr();const wt=Cn(hr),Ze={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function yr(t){let e=E(t,"MergedWidget");if(!e){const n=t.defaultProps&&t.defaultProps.options||{};e=({options:r,...i})=>h.jsx(t,{options:{...n,...r},...i}),Y(t,"MergedWidget",e)}return e}function ie(t,e,n={}){const r=oe(t);if(typeof e=="function"||e&&wt.isForwardRef(I.createElement(e))||wt.isMemo(e))return yr(e);if(typeof e!="string")throw new Error(`Unsupported widget definition: ${typeof e}`);if(e in n){const i=n[e];return ie(t,i,n)}if(typeof r=="string"){if(!(r in Ze))throw new Error(`No widget for type '${r}'`);if(e in Ze[r]){const i=n[Ze[r][e]];return ie(t,i,n)}}throw new Error(`No widget '${e}' for type '${r}'`)}function gr(t){let e=0;for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e.toString(16)}function br(t){const e=new Set;return JSON.stringify(t,(n,r)=>(e.add(n),r)),gr(JSON.stringify(t,Array.from(e).sort()))}function Sr(t,e,n={}){try{return ie(t,e,n),!0}catch(r){const i=r;if(i.message&&(i.message.startsWith("No widget")||i.message.startsWith("Unsupported widget")))return!1;throw r}}function _e(t,e){return`${ze(t)?t:t[ce]}__${e}`}function ke(t){return _e(t,"description")}function Jt(t){return _e(t,"error")}function ot(t){return _e(t,"examples")}function Gt(t){return _e(t,"help")}function Qt(t){return _e(t,"title")}function he(t,e=!1){const n=e?` ${ot(t)}`:"";return`${Jt(t)} ${ke(t)} ${Gt(t)}${n}`}function Xt(t,e){return`${t}-${e}`}function xr(t,e,n){return e?n:t}function Fr(t){return t?new Date(t).toJSON():void 0}function Cr(t,e){if(!Array.isArray(e))return t;const n=d=>d.reduce((u,m)=>(u[m]=!0,u),{}),r=d=>d.length>1?`properties '${d.join("', '")}'`:`property '${d[0]}'`,i=n(t),s=e.filter(d=>d==="*"||i[d]),o=n(s),a=t.filter(d=>!o[d]),l=s.indexOf("*");if(l===-1){if(a.length)throw new Error(`uiSchema order list does not contain ${r(a)}`);return s}if(l!==s.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const c=[...s];return c.splice(l,1,...a),c}function et(t,e=!0){if(!t)return{year:-1,month:-1,day:-1,hour:e?-1:0,minute:e?-1:0,second:e?-1:0};const n=new Date(t);if(Number.isNaN(n.getTime()))throw new Error("Unable to parse date "+t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:e?n.getUTCHours():0,minute:e?n.getUTCMinutes():0,second:e?n.getUTCSeconds():0}}function Me(t){if(t.const||t.enum&&t.enum.length===1&&t.enum[0]===!0)return!0;if(t.anyOf&&t.anyOf.length===1)return Me(t.anyOf[0]);if(t.oneOf&&t.oneOf.length===1)return Me(t.oneOf[0]);if(t.allOf){const e=n=>Me(n);return t.allOf.some(e)}return!1}function Or(t,e,n){const{props:r,state:i}=t;return!W(r,e)||!W(i,n)}function jt(t,e=!0){const{year:n,month:r,day:i,hour:s=0,minute:o=0,second:a=0}=t,l=Date.UTC(n,r-1,i,s,o,a),c=new Date(l).toJSON();return e?c:c.slice(0,10)}function $e(t,e=[]){if(!t)return[];let n=[];return G in t&&(n=n.concat(t[G].map(r=>{const i=`.${e.join(".")}`;return{property:i,message:r,stack:`${i} ${r}`}}))),Object.keys(t).reduce((r,i)=>{if(i!==G){const s=t[i];De(s)&&(r=r.concat($e(s,[...e,i])))}return r},n)}function vr(t){const e=new lr;return t.length&&t.forEach(n=>{const{property:r,message:i}=n,s=r==="."?[]:Pt(r);s.length>0&&s[0]===""&&s.splice(0,1),i&&e.addErrors(i,s)}),e.ErrorSchema}function ht(t){return Object.keys(t).reduce((e,n)=>{if(n==="addError")return e;{const r=t[n];return De(r)?{...e,[n]:ht(r)}:{...e,[n]:r}}},{})}function Er(t){if(!t)return"";const e=new Date(t),n=le(e.getFullYear(),4),r=le(e.getMonth()+1,2),i=le(e.getDate(),2),s=le(e.getHours(),2),o=le(e.getMinutes(),2),a=le(e.getSeconds(),2),l=le(e.getMilliseconds(),3);return`${n}-${r}-${i}T${s}:${o}:${a}.${l}`}function qe(t,e){if(!e)return t;const{errors:n,errorSchema:r}=t;let i=$e(e),s=e;return be(r)||(s=re(r,e,!0),i=[...n].concat(i)),{errorSchema:s,errors:i}}function wr(t){for(const e in t){const n=t,r=n[e];e===K&&typeof r=="string"&&r.startsWith("#")?n[e]=$t+r:n[e]=yt(r)}return t}function jr(t){for(let e=0;e<t.length;e++)t[e]=yt(t[e]);return t}function yt(t){return Array.isArray(t)?jr([...t]):Z(t)?wr({...t}):t}function Dr(t,e){const n=De(t),r=De(e);if(t===e||!n&&!r)return[];if(n&&!r)return ve(t);if(!n&&r)return ve(e);{const i=ve(On(t,(o,a)=>!W(o,E(e,a)))),s=vn(ve(e),ve(t));return[...i,...s]}}var R;(function(t){t.ArrayItemTitle="Item",t.MissingItems="Missing items definition",t.YesLabel="Yes",t.NoLabel="No",t.CloseLabel="Close",t.ErrorsLabel="Errors",t.NewStringDefault="New Value",t.AddButton="Add",t.AddItemButton="Add Item",t.CopyButton="Copy",t.MoveDownButton="Move down",t.MoveUpButton="Move up",t.RemoveButton="Remove",t.NowLabel="Now",t.ClearLabel="Clear",t.AriaDateLabel="Select a date",t.PreviewLabel="Preview",t.DecrementAriaLabel="Decrease value by 1",t.IncrementAriaLabel="Increase value by 1",t.UnknownFieldType="Unknown field type %1",t.OptionPrefix="Option %1",t.TitleOptionPrefix="%1 option %2",t.KeyLabel="%1 Key",t.InvalidObjectField='Invalid "%1" object field configuration: _%2_.',t.UnsupportedField="Unsupported field schema.",t.UnsupportedFieldWithId="Unsupported field schema for field `%1`.",t.UnsupportedFieldWithReason="Unsupported field schema: _%1_.",t.UnsupportedFieldWithIdAndReason="Unsupported field schema for field `%1`: _%2_.",t.FilesInfo="**%1** (%2, %3 bytes)"})(R||(R={}));function at(){return En("rjsf-array-item-")}function Dt(t){return Array.isArray(t)?t.map(e=>({key:at(),item:e})):[]}function Ee(t){return Array.isArray(t)?t.map(e=>e.item):[]}class Ar extends I.Component{constructor(e){super(e);const{formData:n=[]}=e,r=Dt(n);this.state={keyedFormData:r,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,n){if(n.updatedKeyedFormData)return{updatedKeyedFormData:!1};const r=Array.isArray(e.formData)?e.formData:[],i=n.keyedFormData||[];return{keyedFormData:r.length===i.length?i.map((o,a)=>({key:o.key,item:r[a]})):Dt(r)}}get itemTitle(){const{schema:e,registry:n}=this.props,{translateString:r}=n;return E(e,[de,"title"],E(e,[de,"description"],r(R.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):e.type!=="null"}canAddItem(e){const{schema:n,uiSchema:r,registry:i}=this.props;let{addable:s}=T(r,i.globalUiOptions);return s!==!1&&(n.maxItems!==void 0?s=e.length<n.maxItems:s=!0),s}_getNewFormDataRow=()=>{const{schema:e,registry:n}=this.props,{schemaUtils:r}=n;let i=e.items;return it(e)&&Dn(e)&&(i=e.additionalItems),r.getDefaultFormState(i)};_handleAddClick(e,n){e&&e.preventDefault();const{onChange:r,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let o;if(i){o={};for(const c in i){const d=parseInt(c);n===void 0||d<n?Y(o,[d],i[c]):d>=n&&Y(o,[d+1],i[c])}}const a={key:at(),item:this._getNewFormDataRow()},l=[...s];n!==void 0?l.splice(n,0,a):l.push(a),this.setState({keyedFormData:l,updatedKeyedFormData:!0},()=>r(Ee(l),o))}onAddClick=e=>{this._handleAddClick(e)};onAddIndexClick=e=>n=>{this._handleAddClick(n,e)};onCopyIndexClick=e=>n=>{n&&n.preventDefault();const{onChange:r,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let o;if(i){o={};for(const c in i){const d=parseInt(c);d<=e?Y(o,[d],i[c]):d>e&&Y(o,[d+1],i[c])}}const a={key:at(),item:Tt(s[e].item)},l=[...s];e!==void 0?l.splice(e+1,0,a):l.push(a),this.setState({keyedFormData:l,updatedKeyedFormData:!0},()=>r(Ee(l),o))};onDropIndexClick=e=>n=>{n&&n.preventDefault();const{onChange:r,errorSchema:i}=this.props,{keyedFormData:s}=this.state;let o;if(i){o={};for(const l in i){const c=parseInt(l);c<e?Y(o,[c],i[l]):c>e&&Y(o,[c-1],i[l])}}const a=s.filter((l,c)=>c!==e);this.setState({keyedFormData:a,updatedKeyedFormData:!0},()=>r(Ee(a),o))};onReorderClick=(e,n)=>r=>{r&&(r.preventDefault(),r.currentTarget.blur());const{onChange:i,errorSchema:s}=this.props;let o;if(s){o={};for(const d in s){const u=parseInt(d);u==e?Y(o,[n],s[e]):u==n?Y(o,[e],s[n]):Y(o,[d],s[u])}}const{keyedFormData:a}=this.state;function l(){const d=a.slice();return d.splice(e,1),d.splice(n,0,a[e]),d}const c=l();this.setState({keyedFormData:c},()=>i(Ee(c),o))};onChangeForIndex=e=>(n,r,i)=>{const{formData:s,onChange:o,errorSchema:a}=this.props,c=(Array.isArray(s)?s:[]).map((d,u)=>e===u?typeof n>"u"?null:n:d);o(c,a&&a&&{...a,[e]:r},i)};onSelectChange=e=>{const{onChange:n,idSchema:r}=this.props;n(e,void 0,r&&r.$id)};render(){const{schema:e,uiSchema:n,idSchema:r,registry:i}=this.props,{schemaUtils:s,translateString:o}=i;if(!(de in e)){const a=T(n),l=U("UnsupportedFieldTemplate",i,a);return h.jsx(l,{schema:e,idSchema:r,reason:o(R.MissingItems),registry:i})}return s.isMultiSelect(e)?this.renderMultiSelect():Yt(n)?this.renderCustomWidget():it(e)?this.renderFixedArray():s.isFilesArray(e,n)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:n={},errorSchema:r,idSchema:i,name:s,title:o,disabled:a=!1,readonly:l=!1,autofocus:c=!1,required:d=!1,registry:u,onBlur:m,onFocus:f,idPrefix:g,idSeparator:y="_",rawErrors:p}=this.props,{keyedFormData:b}=this.state,F=e.title||o||s,{schemaUtils:x,formContext:S}=u,O=T(n),w=Z(e.items)?e.items:{},C=x.retrieveSchema(w),A=Ee(this.state.keyedFormData),j=this.canAddItem(A),D={canAdd:j,items:b.map((_,N)=>{const{key:B,item:v}=_,k=v,z=x.retrieveSchema(w,k),L=r?r[N]:void 0,M=i.$id+y+N,H=x.toIdSchema(z,M,k,g,y);return this.renderArrayFieldItem({key:B,index:N,name:s&&`${s}-${N}`,title:F?`${F}-${N+1}`:void 0,canAdd:j,canMoveUp:N>0,canMoveDown:N<A.length-1,itemSchema:z,itemIdSchema:H,itemErrorSchema:L,itemData:k,itemUiSchema:n.items,autofocus:c&&N===0,onBlur:m,onFocus:f,rawErrors:p,totalItems:b.length})}),className:`field field-array field-array-of-${C.type}`,disabled:a,idSchema:i,uiSchema:n,onAddClick:this.onAddClick,readonly:l,required:d,schema:e,title:F,formContext:S,formData:A,rawErrors:p,registry:u},V=U("ArrayFieldTemplate",u,O);return h.jsx(V,{...D})}renderCustomWidget(){const{schema:e,idSchema:n,uiSchema:r,disabled:i=!1,readonly:s=!1,autofocus:o=!1,required:a=!1,hideError:l,placeholder:c,onBlur:d,onFocus:u,formData:m=[],registry:f,rawErrors:g,name:y}=this.props,{widgets:p,formContext:b,globalUiOptions:F,schemaUtils:x}=f,{widget:S,title:O,...w}=T(r,F),C=ie(e,S,p),A=O??e.title??y,j=x.getDisplayLabel(e,r,F);return h.jsx(C,{id:n.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:u,options:w,schema:e,uiSchema:r,registry:f,value:m,disabled:i,readonly:s,hideError:l,required:a,label:A,hideLabel:!j,placeholder:c,formContext:b,autofocus:o,rawErrors:g})}renderMultiSelect(){const{schema:e,idSchema:n,uiSchema:r,formData:i=[],disabled:s=!1,readonly:o=!1,autofocus:a=!1,required:l=!1,placeholder:c,onBlur:d,onFocus:u,registry:m,rawErrors:f,name:g}=this.props,{widgets:y,schemaUtils:p,formContext:b,globalUiOptions:F}=m,x=p.retrieveSchema(e.items,i),S=Pe(x,r),{widget:O="select",title:w,...C}=T(r,F),A=ie(e,O,y),j=w??e.title??g,D=p.getDisplayLabel(e,r,F);return h.jsx(A,{id:n.$id,name:g,multiple:!0,onChange:this.onSelectChange,onBlur:d,onFocus:u,options:{...C,enumOptions:S},schema:e,uiSchema:r,registry:m,value:i,disabled:s,readonly:o,required:l,label:j,hideLabel:!D,placeholder:c,formContext:b,autofocus:a,rawErrors:f})}renderFiles(){const{schema:e,uiSchema:n,idSchema:r,name:i,disabled:s=!1,readonly:o=!1,autofocus:a=!1,required:l=!1,onBlur:c,onFocus:d,registry:u,formData:m=[],rawErrors:f}=this.props,{widgets:g,formContext:y,globalUiOptions:p,schemaUtils:b}=u,{widget:F="files",title:x,...S}=T(n,p),O=ie(e,F,g),w=x??e.title??i,C=b.getDisplayLabel(e,n,p);return h.jsx(O,{options:S,id:r.$id,name:i,multiple:!0,onChange:this.onSelectChange,onBlur:c,onFocus:d,schema:e,uiSchema:n,value:m,disabled:s,readonly:o,required:l,registry:u,formContext:y,autofocus:a,rawErrors:f,label:w,hideLabel:!C})}renderFixedArray(){const{schema:e,uiSchema:n={},formData:r=[],errorSchema:i,idPrefix:s,idSeparator:o="_",idSchema:a,name:l,title:c,disabled:d=!1,readonly:u=!1,autofocus:m=!1,required:f=!1,registry:g,onBlur:y,onFocus:p,rawErrors:b}=this.props,{keyedFormData:F}=this.state;let{formData:x=[]}=this.props;const S=e.title||c||l,O=T(n),{schemaUtils:w,formContext:C}=g,j=(Z(e.items)?e.items:[]).map((B,v)=>w.retrieveSchema(B,r[v])),D=Z(e.additionalItems)?w.retrieveSchema(e.additionalItems,r):null;(!x||x.length<j.length)&&(x=x||[],x=x.concat(new Array(j.length-x.length)));const V=this.canAddItem(x)&&!!D,_={canAdd:V,className:"field field-array field-array-fixed-items",disabled:d,idSchema:a,formData:r,items:F.map((B,v)=>{const{key:k,item:z}=B,L=z,M=v>=j.length,H=(M&&Z(e.additionalItems)?w.retrieveSchema(e.additionalItems,L):j[v])||{},fe=a.$id+o+v,ye=w.toIdSchema(H,fe,L,s,o),Ce=M?n.additionalItems||{}:Array.isArray(n.items)?n.items[v]:n.items||{},Oe=i?i[v]:void 0;return this.renderArrayFieldItem({key:k,index:v,name:l&&`${l}-${v}`,title:S?`${S}-${v+1}`:void 0,canAdd:V,canRemove:M,canMoveUp:v>=j.length+1,canMoveDown:M&&v<x.length-1,itemSchema:H,itemData:L,itemUiSchema:Ce,itemIdSchema:ye,itemErrorSchema:Oe,autofocus:m&&v===0,onBlur:y,onFocus:p,rawErrors:b,totalItems:F.length})}),onAddClick:this.onAddClick,readonly:u,required:f,registry:g,schema:e,uiSchema:n,title:S,formContext:C,errorSchema:i,rawErrors:b},N=U("ArrayFieldTemplate",g,O);return h.jsx(N,{..._})}renderArrayFieldItem(e){const{key:n,index:r,name:i,canAdd:s,canRemove:o=!0,canMoveUp:a,canMoveDown:l,itemSchema:c,itemData:d,itemUiSchema:u,itemIdSchema:m,itemErrorSchema:f,autofocus:g,onBlur:y,onFocus:p,rawErrors:b,totalItems:F,title:x}=e,{disabled:S,hideError:O,idPrefix:w,idSeparator:C,readonly:A,uiSchema:j,registry:D,formContext:V}=this.props,{fields:{ArraySchemaField:_,SchemaField:N},globalUiOptions:B}=D,v=_||N,{orderable:k=!0,removable:z=!0,copyable:L=!1}=T(j,B),M={moveUp:k&&a,moveDown:k&&l,copy:L&&s,remove:z&&o,toolbar:!1};return M.toolbar=Object.keys(M).some(H=>M[H]),{children:h.jsx(v,{name:i,title:x,index:r,schema:c,uiSchema:u,formData:d,formContext:V,errorSchema:f,idPrefix:w,idSeparator:C,idSchema:m,required:this.isItemRequired(c),onChange:this.onChangeForIndex(r),onBlur:y,onFocus:p,registry:D,disabled:S,readonly:A,hideError:O,autofocus:g,rawErrors:b}),className:"array-item",disabled:S,canAdd:s,hasCopy:M.copy,hasToolbar:M.toolbar,hasMoveUp:M.moveUp,hasMoveDown:M.moveDown,hasRemove:M.remove,index:r,totalItems:F,key:n,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:A,registry:D,schema:c,uiSchema:u}}}function Ir(t){const{schema:e,name:n,uiSchema:r,idSchema:i,formData:s,registry:o,required:a,disabled:l,readonly:c,hideError:d,autofocus:u,title:m,onChange:f,onFocus:g,onBlur:y,rawErrors:p}=t,{title:b}=e,{widgets:F,formContext:x,translateString:S,globalUiOptions:O}=o,{widget:w="checkbox",title:C,label:A=!0,...j}=T(r,O),D=ie(e,w,F),V=S(R.YesLabel),_=S(R.NoLabel);let N;const B=C??b??m??n;if(Array.isArray(e.oneOf))N=Pe({oneOf:e.oneOf.map(v=>{if(Z(v))return{...v,title:v.title||(v.const===!0?V:_)}}).filter(v=>v)},r);else{const v=e,k=e.enum??[!0,!1];!v.enumNames&&k.length===2&&k.every(z=>typeof z=="boolean")?N=[{value:k[0],label:k[0]?V:_},{value:k[1],label:k[1]?V:_}]:N=Pe({enum:k,enumNames:v.enumNames},r)}return h.jsx(D,{options:{...j,enumOptions:N},schema:e,uiSchema:r,id:i.$id,name:n,onChange:f,onFocus:g,onBlur:y,label:B,hideLabel:!A,value:s,required:a,disabled:l,readonly:c,hideError:d,registry:o,formContext:x,autofocus:u,rawErrors:p})}class At extends I.Component{constructor(e){super(e);const{formData:n,options:r,registry:{schemaUtils:i}}=this.props,s=r.map(o=>i.retrieveSchema(o,n));this.state={retrievedOptions:s,selectedOption:this.getMatchingOption(0,n,s)}}componentDidUpdate(e,n){const{formData:r,options:i,idSchema:s}=this.props,{selectedOption:o}=this.state;let a=this.state;if(!W(e.options,i)){const{registry:{schemaUtils:l}}=this.props,c=i.map(d=>l.retrieveSchema(d,r));a={selectedOption:o,retrievedOptions:c}}if(!W(r,e.formData)&&s.$id===e.idSchema.$id){const{retrievedOptions:l}=a,c=this.getMatchingOption(o,r,l);n&&c!==o&&(a={selectedOption:c,retrievedOptions:l})}a!==this.state&&this.setState(a)}getMatchingOption(e,n,r){const{schema:i,registry:{schemaUtils:s}}=this.props,o=Se(i);return s.getClosestMatchingOption(n,r,e,o)}onOptionChange=e=>{const{selectedOption:n,retrievedOptions:r}=this.state,{formData:i,onChange:s,registry:o}=this.props,{schemaUtils:a}=o,l=e!==void 0?parseInt(e,10):-1;if(l===n)return;const c=l>=0?r[l]:void 0,d=n>=0?r[n]:void 0;let u=a.sanitizeDataForNewSchema(c,d,i);c&&(u=a.getDefaultFormState(c,u,"excludeObjectChildren")),this.setState({selectedOption:l},()=>{s(u,void 0,this.getFieldId())})};getFieldId(){const{idSchema:e,schema:n}=this.props;return`${e.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:n=!1,errorSchema:r={},formContext:i,onBlur:s,onFocus:o,readonly:a,registry:l,schema:c,uiSchema:d}=this.props,{widgets:u,fields:m,translateString:f,globalUiOptions:g,schemaUtils:y}=l,{SchemaField:p}=m,{selectedOption:b,retrievedOptions:F}=this.state,{widget:x="select",placeholder:S,autofocus:O,autocomplete:w,title:C=c.title,...A}=T(d,g),j=ie({type:"number"},x,u),D=E(r,G,[]),V=Le(r,[G]),_=y.getDisplayLabel(c,d,g),N=b>=0&&F[b]||null;let B;if(N){const{required:H}=c;B=H?ae({required:H},N):N}let v=[];Q in c&&d&&Q in d?Array.isArray(d[Q])?v=d[Q]:console.warn(`uiSchema.oneOf is not an array for "${C||e}"`):ee in c&&d&&ee in d&&(Array.isArray(d[ee])?v=d[ee]:console.warn(`uiSchema.anyOf is not an array for "${C||e}"`));let k=d;b>=0&&v.length>b&&(k=v[b]);const z=C?R.TitleOptionPrefix:R.OptionPrefix,L=C?[C]:[],M=F.map((H,fe)=>{const{title:ye=H.title}=T(v[fe]);return{label:ye||f(z,L.concat(String(fe+1))),value:fe}});return h.jsxs("div",{className:"panel panel-default panel-body",children:[h.jsx("div",{className:"form-group",children:h.jsx(j,{id:this.getFieldId(),name:`${e}${c.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:o,disabled:n||be(M),multiple:!1,rawErrors:D,errorSchema:V,value:b>=0?b:void 0,options:{enumOptions:M,...A},registry:l,formContext:i,placeholder:S,autocomplete:w,autofocus:O,label:C??e,hideLabel:!_,readonly:a})}),B&&B.type!=="null"&&h.jsx(p,{...this.props,schema:B,uiSchema:k})]})}}const Nr=/\.([0-9]*0)*$/,Tr=/[0.]0*$/;function Pr(t){const{registry:e,onChange:n,formData:r,value:i}=t,[s,o]=I.useState(i),{StringField:a}=e.fields;let l=r;const c=I.useCallback((d,u,m)=>{o(d),`${d}`.charAt(0)==="."&&(d=`0${d}`);const f=typeof d=="string"&&d.match(Nr)?xt(d.replace(Tr,"")):xt(d);n(f,u,m)},[n]);if(typeof s=="string"&&typeof l=="number"){const d=new RegExp(`^(${String(l).replace(".","\\.")})?\\.?0*$`);s.match(d)&&(l=s)}return h.jsx(a,{...t,formData:l,onChange:c})}class $r extends I.Component{state={wasPropertyKeyModified:!1,additionalProperties:{}};isRequired(e){const{schema:n}=this.props;return Array.isArray(n.required)&&n.required.indexOf(e)!==-1}onPropertyChange=(e,n=!1)=>(r,i,s)=>{const{formData:o,onChange:a,errorSchema:l}=this.props;r===void 0&&n&&(r="");const c={...o,[e]:r};a(c,l&&l&&{...l,[e]:i},s)};onDropPropertyClick=e=>n=>{n.preventDefault();const{onChange:r,formData:i}=this.props,s={...i};wn(s,e),r(s)};getAvailableKey=(e,n)=>{const{uiSchema:r,registry:i}=this.props,{duplicateKeySuffixSeparator:s="-"}=T(r,i.globalUiOptions);let o=0,a=e;for(;J(n,a);)a=`${e}${s}${++o}`;return a};onKeyChange=e=>(n,r)=>{if(e===n)return;const{formData:i,onChange:s,errorSchema:o}=this.props;n=this.getAvailableKey(n,i);const a={...i},l={[e]:n},c=Object.keys(a).map(u=>({[l[u]||u]:a[u]})),d=Object.assign({},...c);this.setState({wasPropertyKeyModified:!0}),s(d,o&&o&&{...o,[n]:r})};getDefaultValue(e){const{registry:{translateString:n}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return n(R.NewStringDefault)}}handleAddClick=e=>()=>{if(!e.additionalProperties)return;const{formData:n,onChange:r,registry:i}=this.props,s={...n};let o,a,l;if(Z(e.additionalProperties)){o=e.additionalProperties.type,a=e.additionalProperties.const,l=e.additionalProperties.default;let u=e.additionalProperties;if(K in u){const{schemaUtils:m}=i;u=m.retrieveSchema({$ref:u[K]},n),o=u.type,a=u.const,l=u.default}!o&&(ee in u||Q in u)&&(o="object")}const c=this.getAvailableKey("newKey",s),d=a??l??this.getDefaultValue(o);Y(s,c,d),r(s)};render(){const{schema:e,uiSchema:n={},formData:r,errorSchema:i,idSchema:s,name:o,required:a=!1,disabled:l,readonly:c,hideError:d,idPrefix:u,idSeparator:m,onBlur:f,onFocus:g,registry:y,title:p}=this.props,{fields:b,formContext:F,schemaUtils:x,translateString:S,globalUiOptions:O}=y,{SchemaField:w}=b,C=x.retrieveSchema(e,r),A=T(n,O),{properties:j={}}=C,D=A.title??C.title??p??o,V=A.description??C.description;let _;try{const v=Object.keys(j);_=Cr(v,A.order)}catch(v){return h.jsxs("div",{children:[h.jsx("p",{className:"config-error",style:{color:"red"},children:h.jsx(He,{options:{disableParsingRawHTML:!0},children:S(R.InvalidObjectField,[o||"root",v.message])})}),h.jsx("pre",{children:JSON.stringify(C)})]})}const N=U("ObjectFieldTemplate",y,A),B={title:A.label===!1?"":D,description:A.label===!1?void 0:V,properties:_.map(v=>{const k=J(C,[q,v,Ue]),z=k?n.additionalProperties:n[v],L=T(z).widget==="hidden",M=E(s,[v],{});return{content:h.jsx(w,{name:v,required:this.isRequired(v),schema:E(C,[q,v],{}),uiSchema:z,errorSchema:E(i,v),idSchema:M,idPrefix:u,idSeparator:m,formData:E(r,v),formContext:F,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(v),onChange:this.onPropertyChange(v,k),onBlur:f,onFocus:g,registry:y,disabled:l,readonly:c,hideError:d,onDropPropertyClick:this.onDropPropertyClick},v),name:v,readonly:c,disabled:l,required:a,hidden:L}}),readonly:c,disabled:l,required:a,idSchema:s,uiSchema:n,errorSchema:i,schema:C,formData:r,formContext:F,registry:y};return h.jsx(N,{...B,onAddClick:this.handleAddClick})}}const Ur={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function _r(t,e,n,r){const i=e.field,{fields:s,translateString:o}=r;if(typeof i=="function")return i;if(typeof i=="string"&&i in s)return s[i];const a=oe(t),l=Array.isArray(a)?a[0]:a||"",c=t.$id;let d=Ur[l];return c&&c in s&&(d=c),!d&&(t.anyOf||t.oneOf)?()=>null:d in s?s[d]:()=>{const u=U("UnsupportedFieldTemplate",r,e);return h.jsx(u,{schema:t,idSchema:n,reason:o(R.UnknownFieldType,[String(t.type)]),registry:r})}}function kr(t){const{schema:e,idSchema:n,uiSchema:r,formData:i,errorSchema:s,idPrefix:o,idSeparator:a,name:l,onChange:c,onKeyChange:d,onDropPropertyClick:u,required:m,registry:f,wasPropertyKeyModified:g=!1}=t,{formContext:y,schemaUtils:p,globalUiOptions:b}=f,F=T(r,b),x=U("FieldTemplate",f,F),S=U("DescriptionFieldTemplate",f,F),O=U("FieldHelpTemplate",f,F),w=U("FieldErrorTemplate",f,F),C=p.retrieveSchema(e,i),A=n[ce],j=re(p.toIdSchema(C,A,i,o,a),n),D=I.useCallback((me,cn,dn)=>c(me,cn,dn||A),[A,c]),V=_r(C,F,j,f),_=!!(F.disabled??t.disabled),N=!!(F.readonly??(t.readonly||t.schema.readOnly||C.readOnly)),B=F.hideError,v=B===void 0?t.hideError:!!B,k=!!(F.autofocus??t.autofocus);if(Object.keys(C).length===0)return null;const z=p.getDisplayLabel(C,r,b),{__errors:L,...M}=s||{},H=Le(r,["ui:classNames","classNames","ui:style"]);je in H&&(H[je]=Le(H[je],["classNames","style"]));const fe=h.jsx(V,{...t,onChange:D,idSchema:j,schema:C,uiSchema:H,disabled:_,readonly:N,hideError:v,autofocus:k,errorSchema:M,formContext:y,rawErrors:L}),ye=j[ce];let Ce;g?Ce=l:Ce=Ue in C?l:F.title||t.schema.title||C.title||t.title||l;const Oe=F.description||t.schema.description||C.description||"",tn=F.enableMarkdownInDescription?h.jsx(He,{options:{disableParsingRawHTML:!0},children:Oe}):Oe,Ge=F.help,nn=F.widget==="hidden",Be=["form-group","field",`field-${oe(C)}`];!v&&L&&L.length>0&&Be.push("field-error has-error has-danger"),r?.classNames&&Be.push(r.classNames),F.classNames&&Be.push(F.classNames);const rn=h.jsx(O,{help:Ge,idSchema:j,schema:C,uiSchema:r,hasErrors:!v&&L&&L.length>0,registry:f}),sn=v||(C.anyOf||C.oneOf)&&!p.isSelect(C)?void 0:h.jsx(w,{errors:L,errorSchema:s,idSchema:j,schema:C,uiSchema:r,registry:f}),on={description:h.jsx(S,{id:ke(ye),description:tn,schema:C,uiSchema:r,registry:f}),rawDescription:Oe,help:rn,rawHelp:typeof Ge=="string"?Ge:void 0,errors:sn,rawErrors:v?void 0:L,id:ye,label:Ce,hidden:nn,onChange:c,onKeyChange:d,onDropPropertyClick:u,required:m,disabled:_,readonly:N,hideError:v,displayLabel:z,classNames:Be.join(" ").trim(),style:F.style,formContext:y,formData:i,schema:C,uiSchema:r,registry:f},an=f.fields.AnyOfField,ln=f.fields.OneOfField,gt=r?.["ui:field"]&&r?.["ui:fieldReplacesAnyOrOneOf"]===!0;return h.jsx(x,{...on,children:h.jsxs(h.Fragment,{children:[fe,C.anyOf&&!gt&&!p.isSelect(C)&&h.jsx(an,{name:l,disabled:_,readonly:N,hideError:v,errorSchema:s,formData:i,formContext:y,idPrefix:o,idSchema:j,idSeparator:a,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:C.anyOf.map(me=>p.retrieveSchema(Z(me)?me:{},i)),registry:f,required:m,schema:C,uiSchema:r}),C.oneOf&&!gt&&!p.isSelect(C)&&h.jsx(ln,{name:l,disabled:_,readonly:N,hideError:v,errorSchema:s,formData:i,formContext:y,idPrefix:o,idSchema:j,idSeparator:a,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:C.oneOf.map(me=>p.retrieveSchema(Z(me)?me:{},i)),registry:f,required:m,schema:C,uiSchema:r})]})})}class Rr extends I.Component{shouldComponentUpdate(e){return!W(this.props,e)}render(){return h.jsx(kr,{...this.props})}}function Br(t){const{schema:e,name:n,uiSchema:r,idSchema:i,formData:s,required:o,disabled:a=!1,readonly:l=!1,autofocus:c=!1,onChange:d,onBlur:u,onFocus:m,registry:f,rawErrors:g,hideError:y}=t,{title:p,format:b}=e,{widgets:F,formContext:x,schemaUtils:S,globalUiOptions:O}=f,w=S.isSelect(e)?Pe(e,r):void 0;let C=w?"select":"text";b&&Sr(e,b,F)&&(C=b);const{widget:A=C,placeholder:j="",title:D,...V}=T(r),_=S.getDisplayLabel(e,r,O),N=D??p??n,B=ie(e,A,F);return h.jsx(B,{options:{...V,enumOptions:w},schema:e,uiSchema:r,id:i.$id,name:n,label:N,hideLabel:!_,hideError:y,value:s,onChange:d,onBlur:u,onFocus:m,required:o,disabled:a,readonly:l,formContext:x,autofocus:c,registry:f,placeholder:j,rawErrors:g})}function Vr(t){const{formData:e,onChange:n}=t;return I.useEffect(()=>{e===void 0&&n(null)},[e,n]),null}function Wr(){return{AnyOfField:At,ArrayField:Ar,BooleanField:Ir,NumberField:Pr,ObjectField:$r,OneOfField:At,SchemaField:Rr,StringField:Br,NullField:Vr}}function Mr(t){const{idSchema:e,description:n,registry:r,schema:i,uiSchema:s}=t,o=T(s,r.globalUiOptions),{label:a=!0}=o;if(!n||!a)return null;const l=U("DescriptionFieldTemplate",r,o);return h.jsx(l,{id:ke(e),description:n,schema:i,uiSchema:s,registry:r})}function qr(t){const{children:e,className:n,disabled:r,hasToolbar:i,hasMoveDown:s,hasMoveUp:o,hasRemove:a,hasCopy:l,index:c,onCopyIndexClick:d,onDropIndexClick:u,onReorderClick:m,readonly:f,registry:g,uiSchema:y}=t,{CopyButton:p,MoveDownButton:b,MoveUpButton:F,RemoveButton:x}=g.templates.ButtonTemplates,S={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return h.jsxs("div",{className:n,children:[h.jsx("div",{className:i?"col-xs-9":"col-xs-12",children:e}),i&&h.jsx("div",{className:"col-xs-3 array-item-toolbox",children:h.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||s)&&h.jsx(F,{style:S,disabled:r||f||!o,onClick:m(c,c-1),uiSchema:y,registry:g}),(o||s)&&h.jsx(b,{style:S,disabled:r||f||!s,onClick:m(c,c+1),uiSchema:y,registry:g}),l&&h.jsx(p,{style:S,disabled:r||f,onClick:d(c),uiSchema:y,registry:g}),a&&h.jsx(x,{style:S,disabled:r||f,onClick:u(c),uiSchema:y,registry:g})]})})]})}function Lr(t){const{canAdd:e,className:n,disabled:r,idSchema:i,uiSchema:s,items:o,onAddClick:a,readonly:l,registry:c,required:d,schema:u,title:m}=t,f=T(s),g=U("ArrayFieldDescriptionTemplate",c,f),y=U("ArrayFieldItemTemplate",c,f),p=U("ArrayFieldTitleTemplate",c,f),{ButtonTemplates:{AddButton:b}}=c.templates;return h.jsxs("fieldset",{className:n,id:i.$id,children:[h.jsx(p,{idSchema:i,title:f.title||m,required:d,schema:u,uiSchema:s,registry:c}),h.jsx(g,{idSchema:i,description:f.description||u.description,schema:u,uiSchema:s,registry:c}),h.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:F,...x})=>h.jsx(y,{...x},F))}),e&&h.jsx(b,{className:"array-item-add",onClick:a,disabled:r||l,uiSchema:s,registry:c})]})}function Kr(t){const{idSchema:e,title:n,schema:r,uiSchema:i,required:s,registry:o}=t,a=T(i,o.globalUiOptions),{label:l=!0}=a;if(!n||!l)return null;const c=U("TitleFieldTemplate",o,a);return h.jsx(c,{id:Qt(e),title:n,required:s,schema:r,uiSchema:i,registry:o})}function Yr(t){const{id:e,name:n,value:r,readonly:i,disabled:s,autofocus:o,onBlur:a,onFocus:l,onChange:c,onChangeOverride:d,options:u,schema:m,uiSchema:f,formContext:g,registry:y,rawErrors:p,type:b,hideLabel:F,hideError:x,...S}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const O={...S,...ur(m,b,u)};let w;O.type==="number"||O.type==="integer"?w=r||r===0?r:"":w=r??"";const C=I.useCallback(({target:{value:D}})=>c(D===""?u.emptyValue:D),[c,u]),A=I.useCallback(({target:D})=>a(e,D&&D.value),[a,e]),j=I.useCallback(({target:D})=>l(e,D&&D.value),[l,e]);return h.jsxs(h.Fragment,{children:[h.jsx("input",{id:e,name:e,className:"form-control",readOnly:i,disabled:s,autoFocus:o,value:w,...O,list:m.examples?ot(e):void 0,onChange:d||C,onBlur:A,onFocus:j,"aria-describedby":he(e,!!m.examples)}),Array.isArray(m.examples)&&h.jsx("datalist",{id:ot(e),children:m.examples.concat(m.default&&!m.examples.includes(m.default)?[m.default]:[]).map(D=>h.jsx("option",{value:D},D))},`datalist_${e}`)]})}function Hr({uiSchema:t}){const{submitText:e,norender:n,props:r={}}=fr(t);return n?null:h.jsx("div",{children:h.jsx("button",{type:"submit",...r,className:`btn btn-info ${r.className||""}`,children:e})})}function Re(t){const{iconType:e="default",icon:n,className:r,uiSchema:i,registry:s,...o}=t;return h.jsx("button",{type:"button",className:`btn btn-${e} ${r}`,...o,children:h.jsx("i",{className:`glyphicon glyphicon-${n}`})})}function zr(t){const{registry:{translateString:e}}=t;return h.jsx(Re,{title:e(R.CopyButton),className:"array-item-copy",...t,icon:"copy"})}function Jr(t){const{registry:{translateString:e}}=t;return h.jsx(Re,{title:e(R.MoveDownButton),className:"array-item-move-down",...t,icon:"arrow-down"})}function Gr(t){const{registry:{translateString:e}}=t;return h.jsx(Re,{title:e(R.MoveUpButton),className:"array-item-move-up",...t,icon:"arrow-up"})}function Qr(t){const{registry:{translateString:e}}=t;return h.jsx(Re,{title:e(R.RemoveButton),className:"array-item-remove",...t,iconType:"danger",icon:"remove"})}function Xr({className:t,onClick:e,disabled:n,registry:r}){const{translateString:i}=r;return h.jsx("div",{className:"row",children:h.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${t}`,children:h.jsx(Re,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:i(R.AddButton),onClick:e,disabled:n,registry:r})})})}function Zr(){return{SubmitButton:Hr,AddButton:Xr,CopyButton:zr,MoveDownButton:Jr,MoveUpButton:Gr,RemoveButton:Qr}}function ei(t){const{id:e,description:n}=t;return n?typeof n=="string"?h.jsx("p",{id:e,className:"field-description",children:n}):h.jsx("div",{id:e,className:"field-description",children:n}):null}function ti({errors:t,registry:e}){const{translateString:n}=e;return h.jsxs("div",{className:"panel panel-danger errors",children:[h.jsx("div",{className:"panel-heading",children:h.jsx("h3",{className:"panel-title",children:n(R.ErrorsLabel)})}),h.jsx("ul",{className:"list-group",children:t.map((r,i)=>h.jsx("li",{className:"list-group-item text-danger",children:r.stack},i))})]})}const ni="*";function Zt(t){const{label:e,required:n,id:r}=t;return e?h.jsxs("label",{className:"control-label",htmlFor:r,children:[e,n&&h.jsx("span",{className:"required",children:ni})]}):null}function ri(t){const{id:e,label:n,children:r,errors:i,help:s,description:o,hidden:a,required:l,displayLabel:c,registry:d,uiSchema:u}=t,m=T(u),f=U("WrapIfAdditionalTemplate",d,m);return a?h.jsx("div",{className:"hidden",children:r}):h.jsxs(f,{...t,children:[c&&h.jsx(Zt,{label:n,required:l,id:e}),c&&o?o:null,r,i,s]})}function ii(t){const{errors:e=[],idSchema:n}=t;if(e.length===0)return null;const r=Jt(n);return h.jsx("div",{children:h.jsx("ul",{id:r,className:"error-detail bs-callout bs-callout-info",children:e.filter(i=>!!i).map((i,s)=>h.jsx("li",{className:"text-danger",children:i},s))})})}function si(t){const{idSchema:e,help:n}=t;if(!n)return null;const r=Gt(e);return typeof n=="string"?h.jsx("p",{id:r,className:"help-block",children:n}):h.jsx("div",{id:r,className:"help-block",children:n})}function oi(t){const{description:e,disabled:n,formData:r,idSchema:i,onAddClick:s,properties:o,readonly:a,registry:l,required:c,schema:d,title:u,uiSchema:m}=t,f=T(m),g=U("TitleFieldTemplate",l,f),y=U("DescriptionFieldTemplate",l,f),{ButtonTemplates:{AddButton:p}}=l.templates;return h.jsxs("fieldset",{id:i.$id,children:[u&&h.jsx(g,{id:Qt(i),title:u,required:c,schema:d,uiSchema:m,registry:l}),e&&h.jsx(y,{id:ke(i),description:e,schema:d,uiSchema:m,registry:l}),o.map(b=>b.content),_n(d,m,r)&&h.jsx(p,{className:"object-property-expand",onClick:s(d),disabled:n||a,uiSchema:m,registry:l})]})}const ai="*";function li(t){const{id:e,title:n,required:r}=t;return h.jsxs("legend",{id:e,children:[n,r&&h.jsx("span",{className:"required",children:ai})]})}function ci(t){const{schema:e,idSchema:n,reason:r,registry:i}=t,{translateString:s}=i;let o=R.UnsupportedField;const a=[];return n&&n.$id&&(o=R.UnsupportedFieldWithId,a.push(n.$id)),r&&(o=o===R.UnsupportedField?R.UnsupportedFieldWithReason:R.UnsupportedFieldWithIdAndReason,a.push(r)),h.jsxs("div",{className:"unsupported-field",children:[h.jsx("p",{children:h.jsx(He,{options:{disableParsingRawHTML:!0},children:s(o,a)})}),e&&h.jsx("pre",{children:JSON.stringify(e,null,2)})]})}function di(t){const{id:e,classNames:n,style:r,disabled:i,label:s,onKeyChange:o,onDropPropertyClick:a,readonly:l,required:c,schema:d,children:u,uiSchema:m,registry:f}=t,{templates:g,translateString:y}=f,{RemoveButton:p}=g.ButtonTemplates,b=y(R.KeyLabel,[s]);return Ue in d?h.jsx("div",{className:n,style:r,children:h.jsxs("div",{className:"row",children:[h.jsx("div",{className:"col-xs-5 form-additional",children:h.jsxs("div",{className:"form-group",children:[h.jsx(Zt,{label:b,required:c,id:`${e}-key`}),h.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:({target:x})=>o(x&&x.value),defaultValue:s})]})}),h.jsx("div",{className:"form-additional form-group col-xs-5",children:u}),h.jsx("div",{className:"col-xs-2",children:h.jsx(p,{className:"array-item-remove btn-block",style:{border:"0"},disabled:i||l,onClick:a(s),uiSchema:m,registry:f})})]})}):h.jsx("div",{className:n,style:r,children:u})}function ui(){return{ArrayFieldDescriptionTemplate:Mr,ArrayFieldItemTemplate:qr,ArrayFieldTemplate:Lr,ArrayFieldTitleTemplate:Kr,ButtonTemplates:Zr(),BaseInputTemplate:Yr,DescriptionFieldTemplate:ei,ErrorListTemplate:ti,FieldTemplate:ri,FieldErrorTemplate:ii,FieldHelpTemplate:si,ObjectFieldTemplate:oi,TitleFieldTemplate:li,UnsupportedFieldTemplate:ci,WrapIfAdditionalTemplate:di}}function fi(t){return Object.values(t).every(e=>e!==-1)}function mi({type:t,range:e,value:n,select:r,rootId:i,name:s,disabled:o,readonly:a,autofocus:l,registry:c,onBlur:d,onFocus:u}){const m=i+"_"+t,{SelectWidget:f}=c.widgets;return h.jsx(f,{schema:{type:"integer"},id:m,name:s,className:"form-control",options:{enumOptions:zt(e[0],e[1])},placeholder:t,value:n,disabled:o,readonly:a,autofocus:l,onChange:g=>r(t,g),onBlur:d,onFocus:u,registry:c,label:"","aria-describedby":he(i)})}function pi({time:t=!1,disabled:e=!1,readonly:n=!1,autofocus:r=!1,options:i,id:s,name:o,registry:a,onBlur:l,onFocus:c,onChange:d,value:u}){const{translateString:m}=a,[f,g]=I.useState(u),[y,p]=I.useReducer((S,O)=>({...S,...O}),et(u,t));I.useEffect(()=>{const S=jt(y,t);fi(y)&&S!==u?d(S):f!==u&&(g(u),p(et(u,t)))},[t,u,d,y,f]);const b=I.useCallback((S,O)=>{p({[S]:O})},[]),F=I.useCallback(S=>{if(S.preventDefault(),e||n)return;const O=et(new Date().toJSON(),t);d(jt(O,t))},[e,n,t]),x=I.useCallback(S=>{S.preventDefault(),!(e||n)&&d(void 0)},[e,n,d]);return h.jsxs("ul",{className:"list-inline",children:[cr(y,t,i.yearsRange,i.format).map((S,O)=>h.jsx("li",{className:"list-inline-item",children:h.jsx(mi,{rootId:s,name:o,select:b,...S,disabled:e,readonly:n,registry:a,onBlur:l,onFocus:c,autofocus:r&&O===0})},O)),(i.hideNowButton!=="undefined"?!i.hideNowButton:!0)&&h.jsx("li",{className:"list-inline-item",children:h.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:F,children:m(R.NowLabel)})}),(i.hideClearButton!=="undefined"?!i.hideClearButton:!0)&&h.jsx("li",{className:"list-inline-item",children:h.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:x,children:m(R.ClearLabel)})})]})}function hi({time:t=!0,...e}){const{AltDateWidget:n}=e.registry.widgets;return h.jsx(n,{time:t,...e})}function yi({schema:t,uiSchema:e,options:n,id:r,value:i,disabled:s,readonly:o,label:a,hideLabel:l,autofocus:c=!1,onBlur:d,onFocus:u,onChange:m,registry:f}){const g=U("DescriptionFieldTemplate",f,n),y=Me(t),p=I.useCallback(S=>m(S.target.checked),[m]),b=I.useCallback(S=>d(r,S.target.checked),[d,r]),F=I.useCallback(S=>u(r,S.target.checked),[u,r]),x=n.description??t.description;return h.jsxs("div",{className:`checkbox ${s||o?"disabled":""}`,children:[!l&&!!x&&h.jsx(g,{id:ke(r),description:x,schema:t,uiSchema:e,registry:f}),h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",id:r,name:r,checked:typeof i>"u"?!1:i,required:y,disabled:s||o,autoFocus:c,onChange:p,onBlur:b,onFocus:F,"aria-describedby":he(r)}),xr(h.jsx("span",{children:a}),l)]})]})}function gi({id:t,disabled:e,options:{inline:n=!1,enumOptions:r,enumDisabled:i,emptyValue:s},value:o,autofocus:a=!1,readonly:l,onChange:c,onBlur:d,onFocus:u}){const m=Array.isArray(o)?o:[o],f=I.useCallback(({target:y})=>d(t,ne(y&&y.value,r,s)),[d,t]),g=I.useCallback(({target:y})=>u(t,ne(y&&y.value,r,s)),[u,t]);return h.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(r)&&r.map((y,p)=>{const b=pt(y.value,m),F=Array.isArray(i)&&i.indexOf(y.value)!==-1,x=e||F||l?"disabled":"",S=w=>{w.target.checked?c(ar(p,m,r)):c(sr(p,m,r))},O=h.jsxs("span",{children:[h.jsx("input",{type:"checkbox",id:Xt(t,p),name:t,checked:b,value:String(p),disabled:e||F||l,autoFocus:a&&p===0,onChange:S,onBlur:f,onFocus:g,"aria-describedby":he(t)}),h.jsx("span",{children:y.label})]});return n?h.jsx("label",{className:`checkbox-inline ${x}`,children:O},p):h.jsx("div",{className:`checkbox ${x}`,children:h.jsx("label",{children:O})},p)})})}function bi(t){const{disabled:e,readonly:n,options:r,registry:i}=t,s=U("BaseInputTemplate",i,r);return h.jsx(s,{type:"color",...t,disabled:e||n})}function Si(t){const{onChange:e,options:n,registry:r}=t,i=U("BaseInputTemplate",r,n),s=I.useCallback(o=>e(o||void 0),[e]);return h.jsx(i,{type:"date",...t,onChange:s})}function xi(t){const{onChange:e,value:n,options:r,registry:i}=t,s=U("BaseInputTemplate",i,r);return h.jsx(s,{type:"datetime-local",...t,value:Er(n),onChange:o=>e(Fr(o))})}function Fi(t){const{options:e,registry:n}=t,r=U("BaseInputTemplate",n,e);return h.jsx(r,{type:"email",...t})}function Ci(t,e){return t===null?null:t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function Oi(t){const{name:e,size:n,type:r}=t;return new Promise((i,s)=>{const o=new window.FileReader;o.onerror=s,o.onload=a=>{typeof a.target?.result=="string"?i({dataURL:Ci(a.target.result,e),name:e,size:n,type:r}):i({dataURL:null,name:e,size:n,type:r})},o.readAsDataURL(t)})}function vi(t){return Promise.all(Array.from(t).map(Oi))}function Ei({fileInfo:t,registry:e}){const{translateString:n}=e,{dataURL:r,type:i,name:s}=t;return r?["image/jpeg","image/png"].includes(i)?h.jsx("img",{src:r,style:{maxWidth:"100%"},className:"file-preview"}):h.jsxs(h.Fragment,{children:[" ",h.jsx("a",{download:`preview-${s}`,href:r,className:"file-download",children:n(R.PreviewLabel)})]}):null}function wi({filesInfo:t,registry:e,preview:n,onRemove:r,options:i}){if(t.length===0)return null;const{translateString:s}=e,{RemoveButton:o}=U("ButtonTemplates",e,i);return h.jsx("ul",{className:"file-info",children:t.map((a,l)=>{const{name:c,size:d,type:u}=a,m=()=>r(l);return h.jsxs("li",{children:[h.jsx(He,{children:s(R.FilesInfo,[c,u,String(d)])}),n&&h.jsx(Ei,{fileInfo:a,registry:e}),h.jsx(o,{onClick:m,registry:e})]},l)})})}function ji(t){return t.reduce((e,n)=>{if(!n)return e;try{const{blob:r,name:i}=nr(n);return[...e,{dataURL:n,name:i,size:r.size,type:r.type}]}catch{return e}},[])}function Di(t){const{disabled:e,readonly:n,required:r,multiple:i,onChange:s,value:o,options:a,registry:l}=t,c=U("BaseInputTemplate",l,a),d=I.useCallback(f=>{f.target.files&&vi(f.target.files).then(g=>{const y=g.map(p=>p.dataURL);s(i?o.concat(y):y[0])})},[i,o,s]),u=I.useMemo(()=>ji(Array.isArray(o)?o:[o]),[o]),m=I.useCallback(f=>{if(i){const g=o.filter((y,p)=>p!==f);s(g)}else s(void 0)},[i,o,s]);return h.jsxs("div",{children:[h.jsx(c,{...t,disabled:e||n,type:"file",required:o?!1:r,onChangeOverride:d,value:"",accept:a.accept?String(a.accept):void 0}),h.jsx(wi,{filesInfo:u,onRemove:m,registry:l,preview:a.filePreview,options:a})]})}function Ai({id:t,value:e}){return h.jsx("input",{type:"hidden",id:t,name:t,value:typeof e>"u"?"":e})}function Ii(t){const{options:e,registry:n}=t,r=U("BaseInputTemplate",n,e);return h.jsx(r,{type:"password",...t})}function Ni({options:t,value:e,required:n,disabled:r,readonly:i,autofocus:s=!1,onBlur:o,onFocus:a,onChange:l,id:c}){const{enumOptions:d,enumDisabled:u,inline:m,emptyValue:f}=t,g=I.useCallback(({target:p})=>o(c,ne(p&&p.value,d,f)),[o,c]),y=I.useCallback(({target:p})=>a(c,ne(p&&p.value,d,f)),[a,c]);return h.jsx("div",{className:"field-radio-group",id:c,children:Array.isArray(d)&&d.map((p,b)=>{const F=pt(p.value,e),x=Array.isArray(u)&&u.indexOf(p.value)!==-1,S=r||x||i?"disabled":"",O=()=>l(p.value),w=h.jsxs("span",{children:[h.jsx("input",{type:"radio",id:Xt(c,b),checked:F,name:c,required:n,value:String(b),disabled:r||x||i,autoFocus:s&&b===0,onChange:O,onBlur:g,onFocus:y,"aria-describedby":he(c)}),h.jsx("span",{children:p.label})]});return m?h.jsx("label",{className:`radio-inline ${S}`,children:w},b):h.jsx("div",{className:`radio ${S}`,children:h.jsx("label",{children:w})},b)})})}function Ti(t){const{value:e,registry:{templates:{BaseInputTemplate:n}}}=t;return h.jsxs("div",{className:"field-range-wrapper",children:[h.jsx(n,{type:"range",...t}),h.jsx("span",{className:"range-view",children:e})]})}function tt(t,e){return e?Array.from(t.target.options).slice().filter(n=>n.selected).map(n=>n.value):t.target.value}function Pi({schema:t,id:e,options:n,value:r,required:i,disabled:s,readonly:o,multiple:a=!1,autofocus:l=!1,onChange:c,onBlur:d,onFocus:u,placeholder:m}){const{enumOptions:f,enumDisabled:g,emptyValue:y}=n,p=a?[]:"",b=I.useCallback(w=>{const C=tt(w,a);return u(e,ne(C,f,y))},[u,e,t,a,f,y]),F=I.useCallback(w=>{const C=tt(w,a);return d(e,ne(C,f,y))},[d,e,t,a,f,y]),x=I.useCallback(w=>{const C=tt(w,a);return c(ne(C,f,y))},[c,t,a,f,y]),S=or(r,f,a),O=!a&&t.default===void 0;return h.jsxs("select",{id:e,name:e,multiple:a,className:"form-control",value:typeof S>"u"?p:S,required:i,disabled:s||o,autoFocus:l,onBlur:F,onFocus:b,onChange:x,"aria-describedby":he(e),children:[O&&h.jsx("option",{value:"",children:m}),Array.isArray(f)&&f.map(({value:w,label:C},A)=>{const j=g&&g.indexOf(w)!==-1;return h.jsx("option",{value:String(A),disabled:j,children:C},A)})]})}function en({id:t,options:e={},placeholder:n,value:r,required:i,disabled:s,readonly:o,autofocus:a=!1,onChange:l,onBlur:c,onFocus:d}){const u=I.useCallback(({target:{value:g}})=>l(g===""?e.emptyValue:g),[l,e.emptyValue]),m=I.useCallback(({target:g})=>c(t,g&&g.value),[c,t]),f=I.useCallback(({target:g})=>d(t,g&&g.value),[t,d]);return h.jsx("textarea",{id:t,name:t,className:"form-control",value:r||"",placeholder:n,required:i,disabled:s,readOnly:o,autoFocus:a,rows:e.rows,onBlur:m,onFocus:f,onChange:u,"aria-describedby":he(t)})}en.defaultProps={autofocus:!1,options:{}};function $i(t){const{options:e,registry:n}=t,r=U("BaseInputTemplate",n,e);return h.jsx(r,{...t})}function Ui(t){const{onChange:e,options:n,registry:r}=t,i=U("BaseInputTemplate",r,n),s=I.useCallback(o=>e(o?`${o}:00`:void 0),[e]);return h.jsx(i,{type:"time",...t,onChange:s})}function _i(t){const{options:e,registry:n}=t,r=U("BaseInputTemplate",n,e);return h.jsx(r,{type:"url",...t})}function ki(t){const{options:e,registry:n}=t,r=U("BaseInputTemplate",n,e);return h.jsx(r,{type:"number",...t})}function Ri(){return{AltDateWidget:pi,AltDateTimeWidget:hi,CheckboxWidget:yi,CheckboxesWidget:gi,ColorWidget:bi,DateWidget:Si,DateTimeWidget:xi,EmailWidget:Fi,FileWidget:Di,HiddenWidget:Ai,PasswordWidget:Ii,RadioWidget:Ni,RangeWidget:Ti,SelectWidget:Pi,TextWidget:$i,TextareaWidget:en,TimeWidget:Ui,UpDownWidget:ki,URLWidget:_i}}function Bi(){return{fields:Wr(),templates:ui(),widgets:Ri(),rootSchema:{},formContext:{},translateString:ir}}class Qi extends I.Component{formElement;constructor(e){if(super(e),!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!W(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=I.createRef()}getSnapshotBeforeUpdate(e,n){if(!W(this.props,e)){const r=Dr(this.props.formData,e.formData),i=!W(e.schema,this.props.schema),s=r.length>0||!W(e.formData,this.props.formData),o=this.getStateFromProps(this.props,this.props.formData,i||s?void 0:this.state.retrievedSchema,i,r),a=!W(o,n);return{nextState:o,shouldUpdate:a}}return{shouldUpdate:!1}}componentDidUpdate(e,n,r){if(r.shouldUpdate){const{nextState:i}=r;!W(i.formData,this.props.formData)&&!W(i.formData,n.formData)&&this.props.onChange&&this.props.onChange(i),this.setState(i)}}getStateFromProps(e,n,r,i=!1,s=[]){const o=this.state||{},a="schema"in e?e.schema:this.props.schema,l=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},c=typeof n<"u",d="liveValidate"in e?e.liveValidate:this.props.liveValidate,u=c&&!e.noValidate&&d,m=a,f="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,g="experimental_customMergeAllOf"in e?e.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let y=o.schemaUtils;(!y||y.doesSchemaUtilsDiffer(e.validator,m,f,g))&&(y=tr(e.validator,m,f,g));const p=y.getDefaultFormState(a,n),b=this.updateRetrievedSchema(r??y.retrieveSchema(a,p)),F=()=>e.noValidate||i?{errors:[],errorSchema:{}}:e.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}};let x,S,O=o.schemaValidationErrors,w=o.schemaValidationErrorSchema;if(u){const j=this.validate(p,a,y,b);x=j.errors,r===void 0?S=j.errorSchema:S=re(this.state?.errorSchema,j.errorSchema,"preventDuplicates"),O=x,w=S}else{const j=F();if(x=j.errors,S=j.errorSchema,s.length>0){const D=s.reduce((V,_)=>(V[_]=void 0,V),{});S=w=re(j.errorSchema,D,"preventDuplicates")}}if(e.extraErrors){const j=qe({errorSchema:S,errors:x},e.extraErrors);S=j.errorSchema,x=j.errors}const C=y.toIdSchema(b,l["ui:rootFieldId"],p,e.idPrefix,e.idSeparator);return{schemaUtils:y,schema:a,uiSchema:l,idSchema:C,formData:p,edit:c,errors:x,errorSchema:S,schemaValidationErrors:O,schemaValidationErrorSchema:w,retrievedSchema:b}}shouldComponentUpdate(e,n){return Or(this,e,n)}getPreviousCustomValidateErrors(){const{customValidate:e,uiSchema:n}=this.props,r=this.state.formData;let i={};if(typeof e=="function"){const s=e(r,Ye(r),n);i=ht(s)}return i}validate(e,n=this.props.schema,r,i){const s=r||this.state.schemaUtils,{customValidate:o,transformErrors:a,uiSchema:l}=this.props,c=i??s.retrieveSchema(n,e);return s.getValidator().validateFormData(e,c,o,a,l)}renderErrors(e){const{errors:n,errorSchema:r,schema:i,uiSchema:s}=this.state,{formContext:o}=this.props,a=T(s),l=U("ErrorListTemplate",e,a);return n&&n.length?h.jsx(l,{errors:n,errorSchema:r||{},schema:i,uiSchema:s,formContext:o,registry:e}):null}getUsedFormData=(e,n)=>{if(n.length===0&&typeof e!="object")return e;const r=St(e,n);return Array.isArray(e)?Object.keys(r).map(i=>r[i]):r};getFieldNames=(e,n)=>{const r=(i,s=[],o=[[]])=>(Object.keys(i).forEach(a=>{if(typeof i[a]=="object"){const l=o.map(c=>[...c,a]);i[a][lt]&&i[a][Ve]!==""?s.push(i[a][Ve]):r(i[a],s,l)}else a===Ve&&i[a]!==""&&o.forEach(l=>{const c=E(n,l);(typeof c!="object"||be(c)||Array.isArray(c)&&c.every(d=>typeof d!="object"))&&s.push(l)})}),s);return r(e)};omitExtraData=e=>{const{schema:n,schemaUtils:r}=this.state,i=r.retrieveSchema(n,e),s=r.toPathSchema(i,"",e),o=this.getFieldNames(s,e);return this.getUsedFormData(e,o)};filterErrorsBasedOnSchema(e,n,r){const{retrievedSchema:i,schemaUtils:s}=this.state,o=n??i,a=s.toPathSchema(o,"",r),l=this.getFieldNames(a,r),c=St(e,l);n?.type!=="object"&&n?.type!=="array"&&(c.__errors=e.__errors);const d=this.getPreviousCustomValidateErrors(),u=(f=[],g)=>f.length===0?f:f.filter(y=>!g.includes(y)),m=(f,g={})=>(jn(f,(y,p)=>{const b=g[p];we(y)||Array.isArray(y)&&y.length===0?delete f[p]:P(y)&&P(b)&&Array.isArray(b?.__errors)?f[p]=u(y.__errors,b.__errors):typeof y=="object"&&!Array.isArray(y.__errors)&&m(y,g[p])}),f);return m(c,d)}onChange=(e,n,r)=>{const{extraErrors:i,omitExtraData:s,liveOmit:o,noValidate:a,liveValidate:l,onChange:c}=this.props,{schemaUtils:d,schema:u}=this.state;let m=this.state.retrievedSchema;if(P(e)||Array.isArray(e)){const p=this.getStateFromProps(this.props,e);e=p.formData,m=p.retrievedSchema}const f=!a&&l;let g={formData:e,schema:u},y=e;if(s===!0&&o===!0&&(y=this.omitExtraData(e),g={formData:y}),f){const p=this.validate(y,u,d,m);let b=p.errors,F=p.errorSchema;const x=b,S=F;if(i){const O=qe(p,i);F=O.errorSchema,b=O.errors}if(n){const O=this.filterErrorsBasedOnSchema(n,m,y);F=re(F,O,"preventDuplicates")}g={formData:y,errors:b,errorSchema:F,schemaValidationErrors:x,schemaValidationErrorSchema:S}}else if(!a&&n){const p=i?re(n,i,"preventDuplicates"):n;g={formData:y,errorSchema:p,errors:$e(p)}}this.setState(g,()=>c&&c({...this.state,...g},r))};updateRetrievedSchema(e){return W(e,this.state?.retrievedSchema)?this.state.retrievedSchema:e}reset=()=>{const{onChange:e}=this.props,i={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(i,()=>e&&e({...this.state,...i}))};onBlur=(e,n)=>{const{onBlur:r}=this.props;r&&r(e,n)};onFocus=(e,n)=>{const{onFocus:r}=this.props;r&&r(e,n)};onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:n,extraErrors:r,noValidate:i,onSubmit:s}=this.props;let{formData:o}=this.state;if(n===!0&&(o=this.omitExtraData(o)),i||this.validateFormWithFormData(o)){const a=r||{},l=r?$e(r):[];this.setState({formData:o,errors:l,errorSchema:a,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{s&&s({...this.state,formData:o,status:"submitted"},e)})}};getRegistry(){const{translateString:e,uiSchema:n={}}=this.props,{schemaUtils:r}=this.state,{fields:i,templates:s,widgets:o,formContext:a,translateString:l}=Bi();return{fields:{...i,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...this.props.templates?.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||a,schemaUtils:r,translateString:e||l,globalUiOptions:n[Un]}}submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}};focusOnError(e){const{idPrefix:n="root",idSeparator:r="_"}=this.props,{property:i}=e,s=Pt(i);s[0]===""?s[0]=n:s.unshift(n);const o=s.join(r);let a=this.formElement.current.elements[o];a||(a=this.formElement.current.querySelector(`input[id^="${o}"`)),a&&a.length&&(a=a[0]),a&&a.focus()}validateFormWithFormData=e=>{const{extraErrors:n,extraErrorsBlockSubmit:r,focusOnFirstError:i,onError:s}=this.props,{errors:o}=this.state,a=this.validate(e);let l=a.errors,c=a.errorSchema;const d=l,u=c,m=l.length>0||n&&r;if(m){if(n){const f=qe(a,n);c=f.errorSchema,l=f.errors}i&&(typeof i=="function"?i(l[0]):this.focusOnError(l[0])),this.setState({errors:l,errorSchema:c,schemaValidationErrors:d,schemaValidationErrorSchema:u},()=>{s?s(l):console.error("Form validation failed",l)})}else o.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!m};validateForm(){const{omitExtraData:e}=this.props;let{formData:n}=this.state;return e===!0&&(n=this.omitExtraData(n)),this.validateFormWithFormData(n)}render(){const{children:e,id:n,idPrefix:r,idSeparator:i,className:s="",tagName:o,name:a,method:l,target:c,action:d,autoComplete:u,enctype:m,acceptcharset:f,acceptCharset:g,noHtml5Validate:y=!1,disabled:p,readonly:b,formContext:F,showErrorList:x="top",_internalFormWrapper:S}=this.props,{schema:O,uiSchema:w,formData:C,errorSchema:A,idSchema:j}=this.state,D=this.getRegistry(),{SchemaField:V}=D.fields,{SubmitButton:_}=D.templates.ButtonTemplates,N=S?o:void 0,B=S||o||"form";let{[Ke]:v={}}=T(w);p&&(v={...v,props:{...v.props,disabled:!0}});const k={[je]:{[Ke]:v}};return h.jsxs(B,{className:s||"rjsf",id:n,name:a,method:l,target:c,action:d,autoComplete:u,encType:m,acceptCharset:g||f,noValidate:y,onSubmit:this.onSubmit,as:N,ref:this.formElement,children:[x==="top"&&this.renderErrors(D),h.jsx(V,{name:"",schema:O,uiSchema:w,errorSchema:A,idSchema:j,idPrefix:r,idSeparator:i,formContext:F,formData:C,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:D,disabled:p,readonly:b}),e||h.jsx(_,{uiSchema:k,registry:D}),x==="bottom"&&this.renderErrors(D)]})}}const Vi={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!1},Wi=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,Mi=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function qi(t,e,n={},r,i=mn){const s=new i({...Vi,...n});return r?bt(s,r):r!==!1&&bt(s),s.addFormat("data-url",Mi),s.addFormat("color",Wi),s.addKeyword(Ue),s.addKeyword(lt),Array.isArray(t)&&s.addMetaSchema(t),Z(e)&&Object.keys(e).forEach(o=>{s.addFormat(o,e[o])}),s}function Li(t=[],e){return t.map(n=>{var r;const{instancePath:i,keyword:s,params:o,schemaPath:a,parentSchema:l,...c}=n;let{message:d=""}=c,u=i.replace(/\//g,"."),m=`${u} ${d}`.trim();const f=[...((r=o.deps)===null||r===void 0?void 0:r.split(", "))||[],o.missingProperty,o.property].filter(g=>g);if(f.length>0)f.forEach(g=>{const y=u?`${u}.${g}`:g;let p=T(E(e,`${y.replace(/^\./,"")}`)).title;if(p===void 0){const b=a.replace(/\/properties\//g,"/").split("/").slice(1,-1).concat([g]);p=T(E(e,b)).title}if(p)d=d.replace(`'${g}'`,`'${p}'`);else{const b=E(l,[q,g,"title"]);b&&(d=d.replace(`'${g}'`,`'${b}'`))}}),m=d;else{const g=T(E(e,`${u.replace(/^\./,"")}`)).title;if(g)m=`'${g}' ${d}`.trim();else{const y=l?.title;y&&(m=`'${y}' ${d}`.trim())}}return"missingProperty"in o&&(u=u?`${u}.${o.missingProperty}`:o.missingProperty),{name:s,property:u,message:d,params:o,stack:m,schemaPath:a}})}function Ki(t,e,n,r,i,s,o){const{validationError:a}=e;let l=Li(e.errors,o);a&&(l=[...l,{stack:a.message}]),typeof s=="function"&&(l=s(l,o));let c=vr(l);if(a&&(c={...c,$schema:{__errors:[a.message]}}),typeof i!="function")return{errors:l,errorSchema:c};const d=Kt(t,r,n,r,!0),u=i(d,Ye(d),o),m=ht(u);return qe({errors:l,errorSchema:c},m)}class Yi{constructor(e,n){const{additionalMetaSchemas:r,customFormats:i,ajvOptionsOverrides:s,ajvFormatOptions:o,AjvClass:a}=e;this.ajv=qi(r,i,s,o,a),this.localizer=n}reset(){this.ajv.removeSchema()}toErrorList(e,n=[]){return $e(e,n)}rawValidation(e,n){var r,i;let s,o;e[ce]&&(o=this.ajv.getSchema(e[ce]));try{o===void 0&&(o=this.ajv.compile(e)),o(n)}catch(l){s=l}let a;return o&&(typeof this.localizer=="function"&&(((r=o.errors)!==null&&r!==void 0?r:[]).forEach(l=>{var c;["missingProperty","property"].forEach(d=>{var u;!((u=l.params)===null||u===void 0)&&u[d]&&(l.params[d]=`'${l.params[d]}'`)}),!((c=l.params)===null||c===void 0)&&c.deps&&(l.params.deps=l.params.deps.split(", ").map(d=>`'${d}'`).join(", "))}),this.localizer(o.errors),((i=o.errors)!==null&&i!==void 0?i:[]).forEach(l=>{var c;["missingProperty","property"].forEach(d=>{var u;!((u=l.params)===null||u===void 0)&&u[d]&&(l.params[d]=l.params[d].slice(1,-1))}),!((c=l.params)===null||c===void 0)&&c.deps&&(l.params.deps=l.params.deps.split(", ").map(d=>d.slice(1,-1)).join(", "))})),a=o.errors||void 0,o.errors=null),{errors:a,validationError:s}}validateFormData(e,n,r,i,s){const o=this.rawValidation(n,e);return Ki(this,o,e,n,r,i,s)}handleSchemaUpdate(e){var n,r;const i=(n=e[ce])!==null&&n!==void 0?n:$t;this.ajv.getSchema(i)===void 0?this.ajv.addSchema(e,i):W(e,(r=this.ajv.getSchema(i))===null||r===void 0?void 0:r.schema)||(this.ajv.removeSchema(i),this.ajv.addSchema(e,i))}isValid(e,n,r){var i;try{this.handleSchemaUpdate(r);const s=yt(e),o=(i=s[ce])!==null&&i!==void 0?i:br(s);let a;return a=this.ajv.getSchema(o),a===void 0&&(a=this.ajv.addSchema(s,o).getSchema(o)||this.ajv.compile(s)),a(n)}catch(s){return console.warn("Error encountered compiling schema:",s),!1}}}function Hi(t={},e){return new Yi(t,e)}const Xi=Hi();export{Ue as A,Qi as F,he as a,T as b,U as c,ne as d,or as e,fr as g,Xi as v};
